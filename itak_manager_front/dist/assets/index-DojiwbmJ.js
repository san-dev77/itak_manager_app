(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function l(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=l(c);fetch(c.href,u)}})();function ab(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Kd={exports:{}},vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function E1(){if(Kx)return vl;Kx=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(o,c,u){var m=null;if(u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),"key"in c){u={};for(var x in c)x!=="key"&&(u[x]=c[x])}else u=c;return c=u.ref,{$$typeof:a,type:o,key:m,ref:c!==void 0?c:null,props:u}}return vl.Fragment=n,vl.jsx=l,vl.jsxs=l,vl}var Xx;function k1(){return Xx||(Xx=1,Kd.exports=E1()),Kd.exports}var e=k1(),Xd={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx;function D1(){if(Qx)return qe;Qx=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),m=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function j(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,w={};function z(R,Z,me){this.props=R,this.context=Z,this.refs=w,this.updater=me||T}z.prototype.isReactComponent={},z.prototype.setState=function(R,Z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Z,"setState")},z.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function N(){}N.prototype=z.prototype;function E(R,Z,me){this.props=R,this.context=Z,this.refs=w,this.updater=me||T}var S=E.prototype=new N;S.constructor=E,L(S,z.prototype),S.isPureReactComponent=!0;var O=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},$=Object.prototype.hasOwnProperty;function B(R,Z,me,_,Q,Y){return me=Y.ref,{$$typeof:a,type:R,key:Z,ref:me!==void 0?me:null,props:Y}}function H(R,Z){return B(R.type,Z,void 0,void 0,void 0,R.props)}function P(R){return typeof R=="object"&&R!==null&&R.$$typeof===a}function D(R){var Z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(me){return Z[me]})}var k=/\/+/g;function K(R,Z){return typeof R=="object"&&R!==null&&R.key!=null?D(""+R.key):Z.toString(36)}function ie(){}function se(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ie,ie):(R.status="pending",R.then(function(Z){R.status==="pending"&&(R.status="fulfilled",R.value=Z)},function(Z){R.status==="pending"&&(R.status="rejected",R.reason=Z)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function pe(R,Z,me,_,Q){var Y=typeof R;(Y==="undefined"||Y==="boolean")&&(R=null);var U=!1;if(R===null)U=!0;else switch(Y){case"bigint":case"string":case"number":U=!0;break;case"object":switch(R.$$typeof){case a:case n:U=!0;break;case p:return U=R._init,pe(U(R._payload),Z,me,_,Q)}}if(U)return Q=Q(R),U=_===""?"."+K(R,0):_,O(Q)?(me="",U!=null&&(me=U.replace(k,"$&/")+"/"),pe(Q,Z,me,"",function(Se){return Se})):Q!=null&&(P(Q)&&(Q=H(Q,me+(Q.key==null||R&&R.key===Q.key?"":(""+Q.key).replace(k,"$&/")+"/")+U)),Z.push(Q)),1;U=0;var ue=_===""?".":_+":";if(O(R))for(var I=0;I<R.length;I++)_=R[I],Y=ue+K(_,I),U+=pe(_,Z,me,Y,Q);else if(I=j(R),typeof I=="function")for(R=I.call(R),I=0;!(_=R.next()).done;)_=_.value,Y=ue+K(_,I++),U+=pe(_,Z,me,Y,Q);else if(Y==="object"){if(typeof R.then=="function")return pe(se(R),Z,me,_,Q);throw Z=String(R),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return U}function X(R,Z,me){if(R==null)return R;var _=[],Q=0;return pe(R,_,"","",function(Y){return Z.call(me,Y,Q++)}),_}function ee(R){if(R._status===-1){var Z=R._result;Z=Z(),Z.then(function(me){(R._status===0||R._status===-1)&&(R._status=1,R._result=me)},function(me){(R._status===0||R._status===-1)&&(R._status=2,R._result=me)}),R._status===-1&&(R._status=0,R._result=Z)}if(R._status===1)return R._result.default;throw R._result}var be=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function xe(){}return qe.Children={map:X,forEach:function(R,Z,me){X(R,function(){Z.apply(this,arguments)},me)},count:function(R){var Z=0;return X(R,function(){Z++}),Z},toArray:function(R){return X(R,function(Z){return Z})||[]},only:function(R){if(!P(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},qe.Component=z,qe.Fragment=l,qe.Profiler=c,qe.PureComponent=E,qe.StrictMode=o,qe.Suspense=f,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,qe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return A.H.useMemoCache(R)}},qe.cache=function(R){return function(){return R.apply(null,arguments)}},qe.cloneElement=function(R,Z,me){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var _=L({},R.props),Q=R.key,Y=void 0;if(Z!=null)for(U in Z.ref!==void 0&&(Y=void 0),Z.key!==void 0&&(Q=""+Z.key),Z)!$.call(Z,U)||U==="key"||U==="__self"||U==="__source"||U==="ref"&&Z.ref===void 0||(_[U]=Z[U]);var U=arguments.length-2;if(U===1)_.children=me;else if(1<U){for(var ue=Array(U),I=0;I<U;I++)ue[I]=arguments[I+2];_.children=ue}return B(R.type,Q,void 0,void 0,Y,_)},qe.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},qe.createElement=function(R,Z,me){var _,Q={},Y=null;if(Z!=null)for(_ in Z.key!==void 0&&(Y=""+Z.key),Z)$.call(Z,_)&&_!=="key"&&_!=="__self"&&_!=="__source"&&(Q[_]=Z[_]);var U=arguments.length-2;if(U===1)Q.children=me;else if(1<U){for(var ue=Array(U),I=0;I<U;I++)ue[I]=arguments[I+2];Q.children=ue}if(R&&R.defaultProps)for(_ in U=R.defaultProps,U)Q[_]===void 0&&(Q[_]=U[_]);return B(R,Y,void 0,void 0,null,Q)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(R){return{$$typeof:x,render:R}},qe.isValidElement=P,qe.lazy=function(R){return{$$typeof:p,_payload:{_status:-1,_result:R},_init:ee}},qe.memo=function(R,Z){return{$$typeof:g,type:R,compare:Z===void 0?null:Z}},qe.startTransition=function(R){var Z=A.T,me={};A.T=me;try{var _=R(),Q=A.S;Q!==null&&Q(me,_),typeof _=="object"&&_!==null&&typeof _.then=="function"&&_.then(xe,be)}catch(Y){be(Y)}finally{A.T=Z}},qe.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},qe.use=function(R){return A.H.use(R)},qe.useActionState=function(R,Z,me){return A.H.useActionState(R,Z,me)},qe.useCallback=function(R,Z){return A.H.useCallback(R,Z)},qe.useContext=function(R){return A.H.useContext(R)},qe.useDebugValue=function(){},qe.useDeferredValue=function(R,Z){return A.H.useDeferredValue(R,Z)},qe.useEffect=function(R,Z,me){var _=A.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _.useEffect(R,Z)},qe.useId=function(){return A.H.useId()},qe.useImperativeHandle=function(R,Z,me){return A.H.useImperativeHandle(R,Z,me)},qe.useInsertionEffect=function(R,Z){return A.H.useInsertionEffect(R,Z)},qe.useLayoutEffect=function(R,Z){return A.H.useLayoutEffect(R,Z)},qe.useMemo=function(R,Z){return A.H.useMemo(R,Z)},qe.useOptimistic=function(R,Z){return A.H.useOptimistic(R,Z)},qe.useReducer=function(R,Z,me){return A.H.useReducer(R,Z,me)},qe.useRef=function(R){return A.H.useRef(R)},qe.useState=function(R){return A.H.useState(R)},qe.useSyncExternalStore=function(R,Z,me){return A.H.useSyncExternalStore(R,Z,me)},qe.useTransition=function(){return A.H.useTransition()},qe.version="19.1.1",qe}var Zx;function ko(){return Zx||(Zx=1,Xd.exports=D1()),Xd.exports}var b=ko();const ir=ab(b);var Qd={exports:{}},jl={},Zd={exports:{}},Jd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx;function M1(){return Jx||(Jx=1,(function(a){function n(X,ee){var be=X.length;X.push(ee);e:for(;0<be;){var xe=be-1>>>1,R=X[xe];if(0<c(R,ee))X[xe]=ee,X[be]=R,be=xe;else break e}}function l(X){return X.length===0?null:X[0]}function o(X){if(X.length===0)return null;var ee=X[0],be=X.pop();if(be!==ee){X[0]=be;e:for(var xe=0,R=X.length,Z=R>>>1;xe<Z;){var me=2*(xe+1)-1,_=X[me],Q=me+1,Y=X[Q];if(0>c(_,be))Q<R&&0>c(Y,_)?(X[xe]=Y,X[Q]=be,xe=Q):(X[xe]=_,X[me]=be,xe=me);else if(Q<R&&0>c(Y,be))X[xe]=Y,X[Q]=be,xe=Q;else break e}}return ee}function c(X,ee){var be=X.sortIndex-ee.sortIndex;return be!==0?be:X.id-ee.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var m=Date,x=m.now();a.unstable_now=function(){return m.now()-x}}var f=[],g=[],p=1,y=null,j=3,T=!1,L=!1,w=!1,z=!1,N=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function O(X){for(var ee=l(g);ee!==null;){if(ee.callback===null)o(g);else if(ee.startTime<=X)o(g),ee.sortIndex=ee.expirationTime,n(f,ee);else break;ee=l(g)}}function A(X){if(w=!1,O(X),!L)if(l(f)!==null)L=!0,$||($=!0,K());else{var ee=l(g);ee!==null&&pe(A,ee.startTime-X)}}var $=!1,B=-1,H=5,P=-1;function D(){return z?!0:!(a.unstable_now()-P<H)}function k(){if(z=!1,$){var X=a.unstable_now();P=X;var ee=!0;try{e:{L=!1,w&&(w=!1,E(B),B=-1),T=!0;var be=j;try{t:{for(O(X),y=l(f);y!==null&&!(y.expirationTime>X&&D());){var xe=y.callback;if(typeof xe=="function"){y.callback=null,j=y.priorityLevel;var R=xe(y.expirationTime<=X);if(X=a.unstable_now(),typeof R=="function"){y.callback=R,O(X),ee=!0;break t}y===l(f)&&o(f),O(X)}else o(f);y=l(f)}if(y!==null)ee=!0;else{var Z=l(g);Z!==null&&pe(A,Z.startTime-X),ee=!1}}break e}finally{y=null,j=be,T=!1}ee=void 0}}finally{ee?K():$=!1}}}var K;if(typeof S=="function")K=function(){S(k)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,se=ie.port2;ie.port1.onmessage=k,K=function(){se.postMessage(null)}}else K=function(){N(k,0)};function pe(X,ee){B=N(function(){X(a.unstable_now())},ee)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(X){X.callback=null},a.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<X?Math.floor(1e3/X):5},a.unstable_getCurrentPriorityLevel=function(){return j},a.unstable_next=function(X){switch(j){case 1:case 2:case 3:var ee=3;break;default:ee=j}var be=j;j=ee;try{return X()}finally{j=be}},a.unstable_requestPaint=function(){z=!0},a.unstable_runWithPriority=function(X,ee){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var be=j;j=X;try{return ee()}finally{j=be}},a.unstable_scheduleCallback=function(X,ee,be){var xe=a.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?xe+be:xe):be=xe,X){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=be+R,X={id:p++,callback:ee,priorityLevel:X,startTime:be,expirationTime:R,sortIndex:-1},be>xe?(X.sortIndex=be,n(g,X),l(f)===null&&X===l(g)&&(w?(E(B),B=-1):w=!0,pe(A,be-xe))):(X.sortIndex=R,n(f,X),L||T||(L=!0,$||($=!0,K()))),X},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(X){var ee=j;return function(){var be=j;j=ee;try{return X.apply(this,arguments)}finally{j=be}}}})(Jd)),Jd}var Wx;function R1(){return Wx||(Wx=1,Zd.exports=M1()),Zd.exports}var Wd={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function L1(){if(eg)return Ut;eg=1;var a=ko();function n(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function u(f,g,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:f,containerInfo:g,implementation:p}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function x(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ut.createPortal=function(f,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(f,g,null,p)},Ut.flushSync=function(f){var g=m.T,p=o.p;try{if(m.T=null,o.p=2,f)return f()}finally{m.T=g,o.p=p,o.d.f()}},Ut.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(f,g))},Ut.prefetchDNS=function(f){typeof f=="string"&&o.d.D(f)},Ut.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var p=g.as,y=x(p,g.crossOrigin),j=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?o.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:j,fetchPriority:T}):p==="script"&&o.d.X(f,{crossOrigin:y,integrity:j,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ut.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=x(g.as,g.crossOrigin);o.d.M(f,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(f)},Ut.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,y=x(p,g.crossOrigin);o.d.L(f,p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ut.preloadModule=function(f,g){if(typeof f=="string")if(g){var p=x(g.as,g.crossOrigin);o.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(f)},Ut.requestFormReset=function(f){o.d.r(f)},Ut.unstable_batchedUpdates=function(f,g){return f(g)},Ut.useFormState=function(f,g,p){return m.H.useFormState(f,g,p)},Ut.useFormStatus=function(){return m.H.useHostTransitionStatus()},Ut.version="19.1.1",Ut}var tg;function nb(){if(tg)return Wd.exports;tg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Wd.exports=L1(),Wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function z1(){if(sg)return jl;sg=1;var a=R1(),n=ko(),l=nb();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,r=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(r=s.return),t=s.return;while(t)}return s.tag===3?r:null}function m(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function x(t){if(u(t)!==t)throw Error(o(188))}function f(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(o(188));return s!==t?null:t}for(var r=t,i=s;;){var d=r.return;if(d===null)break;var h=d.alternate;if(h===null){if(i=d.return,i!==null){r=i;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===r)return x(d),t;if(h===i)return x(d),s;h=h.sibling}throw Error(o(188))}if(r.return!==i.return)r=d,i=h;else{for(var v=!1,C=d.child;C;){if(C===r){v=!0,r=d,i=h;break}if(C===i){v=!0,i=d,r=h;break}C=C.sibling}if(!v){for(C=h.child;C;){if(C===r){v=!0,r=h,i=d;break}if(C===i){v=!0,i=h,r=d;break}C=C.sibling}if(!v)throw Error(o(189))}}if(r.alternate!==i)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?t:s}function g(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=g(t),s!==null)return s;t=t.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),S=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function K(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Symbol.for("react.client.reference");function se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ie?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case z:return"Profiler";case w:return"StrictMode";case A:return"Suspense";case $:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case T:return"Portal";case S:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case O:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B:return s=t.displayName||null,s!==null?s:se(t.type)||"Memo";case H:s=t._payload,t=t._init;try{return se(t(s))}catch{}}return null}var pe=Array.isArray,X=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},xe=[],R=-1;function Z(t){return{current:t}}function me(t){0>R||(t.current=xe[R],xe[R]=null,R--)}function _(t,s){R++,xe[R]=t.current,t.current=s}var Q=Z(null),Y=Z(null),U=Z(null),ue=Z(null);function I(t,s){switch(_(U,s),_(Y,t),_(Q,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Nx(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Nx(s),t=wx(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}me(Q),_(Q,t)}function Se(){me(Q),me(Y),me(U)}function Le(t){t.memoizedState!==null&&_(ue,t);var s=Q.current,r=wx(s,t.type);s!==r&&(_(Y,t),_(Q,r))}function Ce(t){Y.current===t&&(me(Q),me(Y)),ue.current===t&&(me(ue),xl._currentValue=be)}var De=Object.prototype.hasOwnProperty,V=a.unstable_scheduleCallback,oe=a.unstable_cancelCallback,Ae=a.unstable_shouldYield,Oe=a.unstable_requestPaint,te=a.unstable_now,J=a.unstable_getCurrentPriorityLevel,Ne=a.unstable_ImmediatePriority,F=a.unstable_UserBlockingPriority,M=a.unstable_NormalPriority,de=a.unstable_LowPriority,we=a.unstable_IdlePriority,Te=a.log,Pe=a.unstable_setDisableYieldValue,he=null,Ee=null;function $e(t){if(typeof Te=="function"&&Pe(t),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(he,t)}catch{}}var At=Math.clz32?Math.clz32:fv,mv=Math.log,hv=Math.LN2;function fv(t){return t>>>=0,t===0?32:31-(mv(t)/hv|0)|0}var Gl=256,Kl=4194304;function Ha(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xl(t,s,r){var i=t.pendingLanes;if(i===0)return 0;var d=0,h=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var C=i&134217727;return C!==0?(i=C&~h,i!==0?d=Ha(i):(v&=C,v!==0?d=Ha(v):r||(r=C&~t,r!==0&&(d=Ha(r))))):(C=i&~h,C!==0?d=Ha(C):v!==0?d=Ha(v):r||(r=i&~t,r!==0&&(d=Ha(r)))),d===0?0:s!==0&&s!==d&&(s&h)===0&&(h=d&-d,r=s&-s,h>=r||h===32&&(r&4194048)!==0)?s:d}function Sr(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function xv(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nh(){var t=Gl;return Gl<<=1,(Gl&4194048)===0&&(Gl=256),t}function rh(){var t=Kl;return Kl<<=1,(Kl&62914560)===0&&(Kl=4194304),t}function Bo(t){for(var s=[],r=0;31>r;r++)s.push(t);return s}function Cr(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gv(t,s,r,i,d,h){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var C=t.entanglements,q=t.expirationTimes,ne=t.hiddenUpdates;for(r=v&~r;0<r;){var fe=31-At(r),je=1<<fe;C[fe]=0,q[fe]=-1;var re=ne[fe];if(re!==null)for(ne[fe]=null,fe=0;fe<re.length;fe++){var le=re[fe];le!==null&&(le.lane&=-536870913)}r&=~je}i!==0&&lh(t,i,0),h!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=h&~(v&~s))}function lh(t,s,r){t.pendingLanes|=s,t.suspendedLanes&=~s;var i=31-At(s);t.entangledLanes|=s,t.entanglements[i]=t.entanglements[i]|1073741824|r&4194090}function ih(t,s){var r=t.entangledLanes|=s;for(t=t.entanglements;r;){var i=31-At(r),d=1<<i;d&s|t[i]&s&&(t[i]|=s),r&=~d}}function Uo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function oh(){var t=ee.p;return t!==0?t:(t=window.event,t===void 0?32:Hx(t.type))}function pv(t,s){var r=ee.p;try{return ee.p=t,s()}finally{ee.p=r}}var oa=Math.random().toString(36).slice(2),_t="__reactFiber$"+oa,Yt="__reactProps$"+oa,vn="__reactContainer$"+oa,Po="__reactEvents$"+oa,bv="__reactListeners$"+oa,yv="__reactHandles$"+oa,ch="__reactResources$"+oa,Ar="__reactMarker$"+oa;function qo(t){delete t[_t],delete t[Yt],delete t[Po],delete t[bv],delete t[yv]}function jn(t){var s=t[_t];if(s)return s;for(var r=t.parentNode;r;){if(s=r[vn]||r[_t]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(t=Tx(t);t!==null;){if(r=t[_t])return r;t=Tx(t)}return s}t=r,r=t.parentNode}return null}function Nn(t){if(t=t[_t]||t[vn]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Tr(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function wn(t){var s=t[ch];return s||(s=t[ch]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(t){t[Ar]=!0}var dh=new Set,uh={};function Ia(t,s){Sn(t,s),Sn(t+"Capture",s)}function Sn(t,s){for(uh[t]=s,t=0;t<s.length;t++)dh.add(s[t])}var vv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mh={},hh={};function jv(t){return De.call(hh,t)?!0:De.call(mh,t)?!1:vv.test(t)?hh[t]=!0:(mh[t]=!0,!1)}function Ql(t,s,r){if(jv(s))if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var i=s.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+r)}}function Zl(t,s,r){if(r===null)t.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+r)}}function Vs(t,s,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(s,r,""+i)}}var Ho,fh;function Cn(t){if(Ho===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Ho=s&&s[1]||"",fh=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ho+t+fh}var Io=!1;function Fo(t,s){if(!t||Io)return"";Io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(s){var je=function(){throw Error()};if(Object.defineProperty(je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(je,[])}catch(le){var re=le}Reflect.construct(t,[],je)}else{try{je.call()}catch(le){re=le}t.call(je.prototype)}}else{try{throw Error()}catch(le){re=le}(je=t())&&typeof je.catch=="function"&&je.catch(function(){})}}catch(le){if(le&&re&&typeof le.stack=="string")return[le.stack,re.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=i.DetermineComponentFrameRoot(),v=h[0],C=h[1];if(v&&C){var q=v.split(`
`),ne=C.split(`
`);for(d=i=0;i<q.length&&!q[i].includes("DetermineComponentFrameRoot");)i++;for(;d<ne.length&&!ne[d].includes("DetermineComponentFrameRoot");)d++;if(i===q.length||d===ne.length)for(i=q.length-1,d=ne.length-1;1<=i&&0<=d&&q[i]!==ne[d];)d--;for(;1<=i&&0<=d;i--,d--)if(q[i]!==ne[d]){if(i!==1||d!==1)do if(i--,d--,0>d||q[i]!==ne[d]){var fe=`
`+q[i].replace(" at new "," at ");return t.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",t.displayName)),fe}while(1<=i&&0<=d);break}}}finally{Io=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Cn(r):""}function Nv(t){switch(t.tag){case 26:case 27:case 5:return Cn(t.type);case 16:return Cn("Lazy");case 13:return Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return Fo(t.type,!1);case 11:return Fo(t.type.render,!1);case 1:return Fo(t.type,!0);case 31:return Cn("Activity");default:return""}}function xh(t){try{var s="";do s+=Nv(t),t=t.return;while(t);return s}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ls(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gh(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wv(t){var s=gh(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),i=""+t[s];if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,h=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(v){i=""+v,h.call(this,v)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(v){i=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Jl(t){t._valueTracker||(t._valueTracker=wv(t))}function ph(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var r=s.getValue(),i="";return t&&(i=gh(t)?t.checked?"true":"false":t.value),t=i,t!==r?(s.setValue(t),!0):!1}function Wl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sv=/[\n"\\]/g;function is(t){return t.replace(Sv,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Yo(t,s,r,i,d,h,v,C){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+ls(s)):t.value!==""+ls(s)&&(t.value=""+ls(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?$o(t,v,ls(s)):r!=null?$o(t,v,ls(r)):i!=null&&t.removeAttribute("value"),d==null&&h!=null&&(t.defaultChecked=!!h),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+ls(C):t.removeAttribute("name")}function bh(t,s,r,i,d,h,v,C){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),s!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||s!=null))return;r=r!=null?""+ls(r):"",s=s!=null?""+ls(s):r,C||s===t.value||(t.value=s),t.defaultValue=s}i=i??d,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=C?t.checked:!!i,t.defaultChecked=!!i,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function $o(t,s,r){s==="number"&&Wl(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function An(t,s,r,i){if(t=t.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=s.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&i&&(t[r].defaultSelected=!0)}else{for(r=""+ls(r),s=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,i&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function yh(t,s,r){if(s!=null&&(s=""+ls(s),s!==t.value&&(t.value=s),r==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=r!=null?""+ls(r):""}function vh(t,s,r,i){if(s==null){if(i!=null){if(r!=null)throw Error(o(92));if(pe(i)){if(1<i.length)throw Error(o(93));i=i[0]}r=i}r==null&&(r=""),s=r}r=ls(s),t.defaultValue=r,i=t.textContent,i===r&&i!==""&&i!==null&&(t.value=i)}function Tn(t,s){if(s){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=s;return}}t.textContent=s}var Cv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jh(t,s,r){var i=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?i?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":i?t.setProperty(s,r):typeof r!="number"||r===0||Cv.has(s)?s==="float"?t.cssFloat=r:t[s]=(""+r).trim():t[s]=r+"px"}function Nh(t,s,r){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,r!=null){for(var i in r)!r.hasOwnProperty(i)||s!=null&&s.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var d in s)i=s[d],s.hasOwnProperty(d)&&r[d]!==i&&jh(t,d,i)}else for(var h in s)s.hasOwnProperty(h)&&jh(t,h,s[h])}function Go(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Av=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(t){return Tv.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ko=null;function Xo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var En=null,kn=null;function wh(t){var s=Nn(t);if(s&&(t=s.stateNode)){var r=t[Yt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Yo(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+is(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var i=r[s];if(i!==t&&i.form===t.form){var d=i[Yt]||null;if(!d)throw Error(o(90));Yo(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)i=r[s],i.form===t.form&&ph(i)}break e;case"textarea":yh(t,r.value,r.defaultValue);break e;case"select":s=r.value,s!=null&&An(t,!!r.multiple,s,!1)}}}var Qo=!1;function Sh(t,s,r){if(Qo)return t(s,r);Qo=!0;try{var i=t(s);return i}finally{if(Qo=!1,(En!==null||kn!==null)&&(Vi(),En&&(s=En,t=kn,kn=En=null,wh(s),t)))for(s=0;s<t.length;s++)wh(t[s])}}function Er(t,s){var r=t.stateNode;if(r===null)return null;var i=r[Yt]||null;if(i===null)return null;r=i[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(o(231,s,typeof r));return r}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=!1;if(Ps)try{var kr={};Object.defineProperty(kr,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",kr,kr),window.removeEventListener("test",kr,kr)}catch{Zo=!1}var ca=null,Jo=null,ti=null;function Ch(){if(ti)return ti;var t,s=Jo,r=s.length,i,d="value"in ca?ca.value:ca.textContent,h=d.length;for(t=0;t<r&&s[t]===d[t];t++);var v=r-t;for(i=1;i<=v&&s[r-i]===d[h-i];i++);return ti=d.slice(t,1<i?1-i:void 0)}function si(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function Ah(){return!1}function $t(t){function s(r,i,d,h,v){this._reactName=r,this._targetInst=d,this.type=i,this.nativeEvent=h,this.target=v,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(r=t[C],this[C]=r?r(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ai:Ah,this.isPropagationStopped=Ah,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),s}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ni=$t(Fa),Dr=p({},Fa,{view:0,detail:0}),Ev=$t(Dr),Wo,ec,Mr,ri=p({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mr&&(Mr&&t.type==="mousemove"?(Wo=t.screenX-Mr.screenX,ec=t.screenY-Mr.screenY):ec=Wo=0,Mr=t),Wo)},movementY:function(t){return"movementY"in t?t.movementY:ec}}),Th=$t(ri),kv=p({},ri,{dataTransfer:0}),Dv=$t(kv),Mv=p({},Dr,{relatedTarget:0}),tc=$t(Mv),Rv=p({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),Lv=$t(Rv),zv=p({},Fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ov=$t(zv),_v=p({},Fa,{data:0}),Eh=$t(_v),Bv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pv(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Vv[t])?!!s[t]:!1}function sc(){return Pv}var qv=p({},Dr,{key:function(t){if(t.key){var s=Bv[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hv=$t(qv),Iv=p({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kh=$t(Iv),Fv=p({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),Yv=$t(Fv),$v=p({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gv=$t($v),Kv=p({},ri,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xv=$t(Kv),Qv=p({},Fa,{newState:0,oldState:0}),Zv=$t(Qv),Jv=[9,13,27,32],ac=Ps&&"CompositionEvent"in window,Rr=null;Ps&&"documentMode"in document&&(Rr=document.documentMode);var Wv=Ps&&"TextEvent"in window&&!Rr,Dh=Ps&&(!ac||Rr&&8<Rr&&11>=Rr),Mh=" ",Rh=!1;function Lh(t,s){switch(t){case"keyup":return Jv.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dn=!1;function ej(t,s){switch(t){case"compositionend":return zh(s);case"keypress":return s.which!==32?null:(Rh=!0,Mh);case"textInput":return t=s.data,t===Mh&&Rh?null:t;default:return null}}function tj(t,s){if(Dn)return t==="compositionend"||!ac&&Lh(t,s)?(t=Ch(),ti=Jo=ca=null,Dn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Dh&&s.locale!=="ko"?null:s.data;default:return null}}var sj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!sj[t.type]:s==="textarea"}function _h(t,s,r,i){En?kn?kn.push(i):kn=[i]:En=i,s=Yi(s,"onChange"),0<s.length&&(r=new ni("onChange","change",null,r,i),t.push({event:r,listeners:s}))}var Lr=null,zr=null;function aj(t){px(t,0)}function li(t){var s=Tr(t);if(ph(s))return t}function Bh(t,s){if(t==="change")return s}var Uh=!1;if(Ps){var nc;if(Ps){var rc="oninput"in document;if(!rc){var Vh=document.createElement("div");Vh.setAttribute("oninput","return;"),rc=typeof Vh.oninput=="function"}nc=rc}else nc=!1;Uh=nc&&(!document.documentMode||9<document.documentMode)}function Ph(){Lr&&(Lr.detachEvent("onpropertychange",qh),zr=Lr=null)}function qh(t){if(t.propertyName==="value"&&li(zr)){var s=[];_h(s,zr,t,Xo(t)),Sh(aj,s)}}function nj(t,s,r){t==="focusin"?(Ph(),Lr=s,zr=r,Lr.attachEvent("onpropertychange",qh)):t==="focusout"&&Ph()}function rj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return li(zr)}function lj(t,s){if(t==="click")return li(s)}function ij(t,s){if(t==="input"||t==="change")return li(s)}function oj(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Jt=typeof Object.is=="function"?Object.is:oj;function Or(t,s){if(Jt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var r=Object.keys(t),i=Object.keys(s);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var d=r[i];if(!De.call(s,d)||!Jt(t[d],s[d]))return!1}return!0}function Hh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ih(t,s){var r=Hh(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=s&&i>=s)return{node:r,offset:s-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hh(r)}}function Fh(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Fh(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Yh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Wl(t.document);s instanceof t.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)t=s.contentWindow;else break;s=Wl(t.document)}return s}function lc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var cj=Ps&&"documentMode"in document&&11>=document.documentMode,Mn=null,ic=null,_r=null,oc=!1;function $h(t,s,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;oc||Mn==null||Mn!==Wl(i)||(i=Mn,"selectionStart"in i&&lc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),_r&&Or(_r,i)||(_r=i,i=Yi(ic,"onSelect"),0<i.length&&(s=new ni("onSelect","select",null,s,r),t.push({event:s,listeners:i}),s.target=Mn)))}function Ya(t,s){var r={};return r[t.toLowerCase()]=s.toLowerCase(),r["Webkit"+t]="webkit"+s,r["Moz"+t]="moz"+s,r}var Rn={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},cc={},Gh={};Ps&&(Gh=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function $a(t){if(cc[t])return cc[t];if(!Rn[t])return t;var s=Rn[t],r;for(r in s)if(s.hasOwnProperty(r)&&r in Gh)return cc[t]=s[r];return t}var Kh=$a("animationend"),Xh=$a("animationiteration"),Qh=$a("animationstart"),dj=$a("transitionrun"),uj=$a("transitionstart"),mj=$a("transitioncancel"),Zh=$a("transitionend"),Jh=new Map,dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dc.push("scrollEnd");function bs(t,s){Jh.set(t,s),Ia(s,[t])}var Wh=new WeakMap;function os(t,s){if(typeof t=="object"&&t!==null){var r=Wh.get(t);return r!==void 0?r:(s={value:t,source:s,stack:xh(s)},Wh.set(t,s),s)}return{value:t,source:s,stack:xh(s)}}var cs=[],Ln=0,uc=0;function ii(){for(var t=Ln,s=uc=Ln=0;s<t;){var r=cs[s];cs[s++]=null;var i=cs[s];cs[s++]=null;var d=cs[s];cs[s++]=null;var h=cs[s];if(cs[s++]=null,i!==null&&d!==null){var v=i.pending;v===null?d.next=d:(d.next=v.next,v.next=d),i.pending=d}h!==0&&ef(r,d,h)}}function oi(t,s,r,i){cs[Ln++]=t,cs[Ln++]=s,cs[Ln++]=r,cs[Ln++]=i,uc|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function mc(t,s,r,i){return oi(t,s,r,i),ci(t)}function zn(t,s){return oi(t,null,null,s),ci(t)}function ef(t,s,r){t.lanes|=r;var i=t.alternate;i!==null&&(i.lanes|=r);for(var d=!1,h=t.return;h!==null;)h.childLanes|=r,i=h.alternate,i!==null&&(i.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(d=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,d&&s!==null&&(d=31-At(r),t=h.hiddenUpdates,i=t[d],i===null?t[d]=[s]:i.push(s),s.lane=r|536870912),h):null}function ci(t){if(50<il)throw il=0,bd=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var On={};function hj(t,s,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,s,r,i){return new hj(t,s,r,i)}function hc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qs(t,s){var r=t.alternate;return r===null?(r=Wt(t.tag,s,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=s,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,s=t.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function tf(t,s){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,s=r.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function di(t,s,r,i,d,h){var v=0;if(i=t,typeof t=="function")hc(t)&&(v=1);else if(typeof t=="string")v=x1(t,r,Q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=Wt(31,r,s,d),t.elementType=P,t.lanes=h,t;case L:return Ga(r.children,d,h,s);case w:v=8,d|=24;break;case z:return t=Wt(12,r,s,d|2),t.elementType=z,t.lanes=h,t;case A:return t=Wt(13,r,s,d),t.elementType=A,t.lanes=h,t;case $:return t=Wt(19,r,s,d),t.elementType=$,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:case S:v=10;break e;case E:v=9;break e;case O:v=11;break e;case B:v=14;break e;case H:v=16,i=null;break e}v=29,r=Error(o(130,t===null?"null":typeof t,"")),i=null}return s=Wt(v,r,s,d),s.elementType=t,s.type=i,s.lanes=h,s}function Ga(t,s,r,i){return t=Wt(7,t,i,s),t.lanes=r,t}function fc(t,s,r){return t=Wt(6,t,null,s),t.lanes=r,t}function xc(t,s,r){return s=Wt(4,t.children!==null?t.children:[],t.key,s),s.lanes=r,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var _n=[],Bn=0,ui=null,mi=0,ds=[],us=0,Ka=null,Hs=1,Is="";function Xa(t,s){_n[Bn++]=mi,_n[Bn++]=ui,ui=t,mi=s}function sf(t,s,r){ds[us++]=Hs,ds[us++]=Is,ds[us++]=Ka,Ka=t;var i=Hs;t=Is;var d=32-At(i)-1;i&=~(1<<d),r+=1;var h=32-At(s)+d;if(30<h){var v=d-d%5;h=(i&(1<<v)-1).toString(32),i>>=v,d-=v,Hs=1<<32-At(s)+d|r<<d|i,Is=h+t}else Hs=1<<h|r<<d|i,Is=t}function gc(t){t.return!==null&&(Xa(t,1),sf(t,1,0))}function pc(t){for(;t===ui;)ui=_n[--Bn],_n[Bn]=null,mi=_n[--Bn],_n[Bn]=null;for(;t===Ka;)Ka=ds[--us],ds[us]=null,Is=ds[--us],ds[us]=null,Hs=ds[--us],ds[us]=null}var qt=null,mt=null,Xe=!1,Qa=null,Cs=!1,bc=Error(o(519));function Za(t){var s=Error(o(418,""));throw Vr(os(s,t)),bc}function af(t){var s=t.stateNode,r=t.type,i=t.memoizedProps;switch(s[_t]=t,s[Yt]=i,r){case"dialog":Ye("cancel",s),Ye("close",s);break;case"iframe":case"object":case"embed":Ye("load",s);break;case"video":case"audio":for(r=0;r<cl.length;r++)Ye(cl[r],s);break;case"source":Ye("error",s);break;case"img":case"image":case"link":Ye("error",s),Ye("load",s);break;case"details":Ye("toggle",s);break;case"input":Ye("invalid",s),bh(s,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Jl(s);break;case"select":Ye("invalid",s);break;case"textarea":Ye("invalid",s),vh(s,i.value,i.defaultValue,i.children),Jl(s)}r=i.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||i.suppressHydrationWarning===!0||jx(s.textContent,r)?(i.popover!=null&&(Ye("beforetoggle",s),Ye("toggle",s)),i.onScroll!=null&&Ye("scroll",s),i.onScrollEnd!=null&&Ye("scrollend",s),i.onClick!=null&&(s.onclick=$i),s=!0):s=!1,s||Za(t)}function nf(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 13:Cs=!1;return;case 27:case 3:Cs=!0;return;default:qt=qt.return}}function Br(t){if(t!==qt)return!1;if(!Xe)return nf(t),Xe=!0,!1;var s=t.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||zd(t.type,t.memoizedProps)),r=!r),r&&mt&&Za(t),nf(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(s===0){mt=vs(t.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++;t=t.nextSibling}mt=null}}else s===27?(s=mt,Ca(t.type)?(t=Ud,Ud=null,mt=t):mt=s):mt=qt?vs(t.stateNode.nextSibling):null;return!0}function Ur(){mt=qt=null,Xe=!1}function rf(){var t=Qa;return t!==null&&(Xt===null?Xt=t:Xt.push.apply(Xt,t),Qa=null),t}function Vr(t){Qa===null?Qa=[t]:Qa.push(t)}var yc=Z(null),Ja=null,Fs=null;function da(t,s,r){_(yc,s._currentValue),s._currentValue=r}function Ys(t){t._currentValue=yc.current,me(yc)}function vc(t,s,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,i!==null&&(i.childLanes|=s)):i!==null&&(i.childLanes&s)!==s&&(i.childLanes|=s),t===r)break;t=t.return}}function jc(t,s,r,i){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var h=d.dependencies;if(h!==null){var v=d.child;h=h.firstContext;e:for(;h!==null;){var C=h;h=d;for(var q=0;q<s.length;q++)if(C.context===s[q]){h.lanes|=r,C=h.alternate,C!==null&&(C.lanes|=r),vc(h.return,r,t),i||(v=null);break e}h=C.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(o(341));v.lanes|=r,h=v.alternate,h!==null&&(h.lanes|=r),vc(v,r,t),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===t){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Pr(t,s,r,i){t=null;for(var d=s,h=!1;d!==null;){if(!h){if((d.flags&524288)!==0)h=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(o(387));if(v=v.memoizedProps,v!==null){var C=d.type;Jt(d.pendingProps.value,v.value)||(t!==null?t.push(C):t=[C])}}else if(d===ue.current){if(v=d.alternate,v===null)throw Error(o(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}d=d.return}t!==null&&jc(s,t,r,i),s.flags|=262144}function hi(t){for(t=t.firstContext;t!==null;){if(!Jt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Wa(t){Ja=t,Fs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bt(t){return lf(Ja,t)}function fi(t,s){return Ja===null&&Wa(t),lf(t,s)}function lf(t,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},Fs===null){if(t===null)throw Error(o(308));Fs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else Fs=Fs.next=s;return r}var fj=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(r,i){t.push(i)}};this.abort=function(){s.aborted=!0,t.forEach(function(r){return r()})}},xj=a.unstable_scheduleCallback,gj=a.unstable_NormalPriority,Nt={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new fj,data:new Map,refCount:0}}function qr(t){t.refCount--,t.refCount===0&&xj(gj,function(){t.controller.abort()})}var Hr=null,wc=0,Un=0,Vn=null;function pj(t,s){if(Hr===null){var r=Hr=[];wc=0,Un=Cd(),Vn={status:"pending",value:void 0,then:function(i){r.push(i)}}}return wc++,s.then(of,of),s}function of(){if(--wc===0&&Hr!==null){Vn!==null&&(Vn.status="fulfilled");var t=Hr;Hr=null,Un=0,Vn=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function bj(t,s){var r=[],i={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){i.status="fulfilled",i.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(i.status="rejected",i.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),i}var cf=X.S;X.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&pj(t,s),cf!==null&&cf(t,s)};var en=Z(null);function Sc(){var t=en.current;return t!==null?t:at.pooledCache}function xi(t,s){s===null?_(en,en.current):_(en,s.pool)}function df(){var t=Sc();return t===null?null:{parent:Nt._currentValue,pool:t}}var Ir=Error(o(460)),uf=Error(o(474)),gi=Error(o(542)),Cc={then:function(){}};function mf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pi(){}function hf(t,s,r){switch(r=t[r],r===void 0?t.push(s):r!==s&&(s.then(pi,pi),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,xf(t),t;default:if(typeof s.status=="string")s.then(pi,pi);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(i){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=i}},function(i){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=i}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,xf(t),t}throw Fr=s,Ir}}var Fr=null;function ff(){if(Fr===null)throw Error(o(459));var t=Fr;return Fr=null,t}function xf(t){if(t===Ir||t===gi)throw Error(o(483))}var ua=!1;function Ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tc(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ma(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ha(t,s,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(Qe&2)!==0){var d=i.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),i.pending=s,s=ci(t),ef(t,null,r),s}return oi(t,i,s,r),ci(t)}function Yr(t,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var i=s.lanes;i&=t.pendingLanes,r|=i,s.lanes=r,ih(t,r)}}function Ec(t,s){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var d=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?d=h=v:h=h.next=v,r=r.next}while(r!==null);h===null?d=h=s:h=h.next=s}else d=h=s;r={baseState:i.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:i.shared,callbacks:i.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=s:t.next=s,r.lastBaseUpdate=s}var kc=!1;function $r(){if(kc){var t=Vn;if(t!==null)throw t}}function Gr(t,s,r,i){kc=!1;var d=t.updateQueue;ua=!1;var h=d.firstBaseUpdate,v=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var q=C,ne=q.next;q.next=null,v===null?h=ne:v.next=ne,v=q;var fe=t.alternate;fe!==null&&(fe=fe.updateQueue,C=fe.lastBaseUpdate,C!==v&&(C===null?fe.firstBaseUpdate=ne:C.next=ne,fe.lastBaseUpdate=q))}if(h!==null){var je=d.baseState;v=0,fe=ne=q=null,C=h;do{var re=C.lane&-536870913,le=re!==C.lane;if(le?(Ge&re)===re:(i&re)===re){re!==0&&re===Un&&(kc=!0),fe!==null&&(fe=fe.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ue=t,_e=C;re=s;var tt=r;switch(_e.tag){case 1:if(Ue=_e.payload,typeof Ue=="function"){je=Ue.call(tt,je,re);break e}je=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=_e.payload,re=typeof Ue=="function"?Ue.call(tt,je,re):Ue,re==null)break e;je=p({},je,re);break e;case 2:ua=!0}}re=C.callback,re!==null&&(t.flags|=64,le&&(t.flags|=8192),le=d.callbacks,le===null?d.callbacks=[re]:le.push(re))}else le={lane:re,tag:C.tag,payload:C.payload,callback:C.callback,next:null},fe===null?(ne=fe=le,q=je):fe=fe.next=le,v|=re;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;le=C,C=le.next,le.next=null,d.lastBaseUpdate=le,d.shared.pending=null}}while(!0);fe===null&&(q=je),d.baseState=q,d.firstBaseUpdate=ne,d.lastBaseUpdate=fe,h===null&&(d.shared.lanes=0),ja|=v,t.lanes=v,t.memoizedState=je}}function gf(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function pf(t,s){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)gf(r[t],s)}var Pn=Z(null),bi=Z(0);function bf(t,s){t=Js,_(bi,t),_(Pn,s),Js=t|s.baseLanes}function Dc(){_(bi,Js),_(Pn,Pn.current)}function Mc(){Js=bi.current,me(Pn),me(bi)}var fa=0,He=null,We=null,yt=null,yi=!1,qn=!1,tn=!1,vi=0,Kr=0,Hn=null,yj=0;function xt(){throw Error(o(321))}function Rc(t,s){if(s===null)return!1;for(var r=0;r<s.length&&r<t.length;r++)if(!Jt(t[r],s[r]))return!1;return!0}function Lc(t,s,r,i,d,h){return fa=h,He=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=t===null||t.memoizedState===null?t0:s0,tn=!1,h=r(i,d),tn=!1,qn&&(h=vf(s,r,i,d)),yf(t),h}function yf(t){X.H=Ai;var s=We!==null&&We.next!==null;if(fa=0,yt=We=He=null,yi=!1,Kr=0,Hn=null,s)throw Error(o(300));t===null||Et||(t=t.dependencies,t!==null&&hi(t)&&(Et=!0))}function vf(t,s,r,i){He=t;var d=0;do{if(qn&&(Hn=null),Kr=0,qn=!1,25<=d)throw Error(o(301));if(d+=1,yt=We=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}X.H=Aj,h=s(r,i)}while(qn);return h}function vj(){var t=X.H,s=t.useState()[0];return s=typeof s.then=="function"?Xr(s):s,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(He.flags|=1024),s}function zc(){var t=vi!==0;return vi=0,t}function Oc(t,s,r){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~r}function _c(t){if(yi){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}yi=!1}fa=0,yt=We=He=null,qn=!1,Kr=vi=0,Hn=null}function Gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?He.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if(We===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var s=yt===null?He.memoizedState:yt.next;if(s!==null)yt=s,We=t;else{if(t===null)throw He.alternate===null?Error(o(467)):Error(o(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},yt===null?He.memoizedState=yt=t:yt=yt.next=t}return yt}function Bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xr(t){var s=Kr;return Kr+=1,Hn===null&&(Hn=[]),t=hf(Hn,t,s),s=He,(yt===null?s.memoizedState:yt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?t0:s0),t}function ji(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xr(t);if(t.$$typeof===S)return Bt(t)}throw Error(o(438,String(t)))}function Uc(t){var s=null,r=He.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var i=He.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(s={data:i.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=Bc(),He.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(t),i=0;i<t;i++)r[i]=D;return s.index++,r}function $s(t,s){return typeof s=="function"?s(t):s}function Ni(t){var s=vt();return Vc(s,We,t)}function Vc(t,s,r){var i=t.queue;if(i===null)throw Error(o(311));i.lastRenderedReducer=r;var d=t.baseQueue,h=i.pending;if(h!==null){if(d!==null){var v=d.next;d.next=h.next,h.next=v}s.baseQueue=d=h,i.pending=null}if(h=t.baseState,d===null)t.memoizedState=h;else{s=d.next;var C=v=null,q=null,ne=s,fe=!1;do{var je=ne.lane&-536870913;if(je!==ne.lane?(Ge&je)===je:(fa&je)===je){var re=ne.revertLane;if(re===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),je===Un&&(fe=!0);else if((fa&re)===re){ne=ne.next,re===Un&&(fe=!0);continue}else je={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},q===null?(C=q=je,v=h):q=q.next=je,He.lanes|=re,ja|=re;je=ne.action,tn&&r(h,je),h=ne.hasEagerState?ne.eagerState:r(h,je)}else re={lane:je,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},q===null?(C=q=re,v=h):q=q.next=re,He.lanes|=je,ja|=je;ne=ne.next}while(ne!==null&&ne!==s);if(q===null?v=h:q.next=C,!Jt(h,t.memoizedState)&&(Et=!0,fe&&(r=Vn,r!==null)))throw r;t.memoizedState=h,t.baseState=v,t.baseQueue=q,i.lastRenderedState=h}return d===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Pc(t){var s=vt(),r=s.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=t;var i=r.dispatch,d=r.pending,h=s.memoizedState;if(d!==null){r.pending=null;var v=d=d.next;do h=t(h,v.action),v=v.next;while(v!==d);Jt(h,s.memoizedState)||(Et=!0),s.memoizedState=h,s.baseQueue===null&&(s.baseState=h),r.lastRenderedState=h}return[h,i]}function jf(t,s,r){var i=He,d=vt(),h=Xe;if(h){if(r===void 0)throw Error(o(407));r=r()}else r=s();var v=!Jt((We||d).memoizedState,r);v&&(d.memoizedState=r,Et=!0),d=d.queue;var C=Sf.bind(null,i,d,t);if(Qr(2048,8,C,[t]),d.getSnapshot!==s||v||yt!==null&&yt.memoizedState.tag&1){if(i.flags|=2048,In(9,wi(),wf.bind(null,i,d,r,s),null),at===null)throw Error(o(349));h||(fa&124)!==0||Nf(i,s,r)}return r}function Nf(t,s,r){t.flags|=16384,t={getSnapshot:s,value:r},s=He.updateQueue,s===null?(s=Bc(),He.updateQueue=s,s.stores=[t]):(r=s.stores,r===null?s.stores=[t]:r.push(t))}function wf(t,s,r,i){s.value=r,s.getSnapshot=i,Cf(s)&&Af(t)}function Sf(t,s,r){return r(function(){Cf(s)&&Af(t)})}function Cf(t){var s=t.getSnapshot;t=t.value;try{var r=s();return!Jt(t,r)}catch{return!0}}function Af(t){var s=zn(t,2);s!==null&&ns(s,t,2)}function qc(t){var s=Gt();if(typeof t=="function"){var r=t;if(t=r(),tn){$e(!0);try{r()}finally{$e(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:t},s}function Tf(t,s,r,i){return t.baseState=r,Vc(t,We,typeof i=="function"?i:$s)}function jj(t,s,r,i,d){if(Ci(t))throw Error(o(485));if(t=s.action,t!==null){var h={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){h.listeners.push(v)}};X.T!==null?r(!0):h.isTransition=!1,i(h),r=s.pending,r===null?(h.next=s.pending=h,Ef(s,h)):(h.next=r.next,s.pending=r.next=h)}}function Ef(t,s){var r=s.action,i=s.payload,d=t.state;if(s.isTransition){var h=X.T,v={};X.T=v;try{var C=r(d,i),q=X.S;q!==null&&q(v,C),kf(t,s,C)}catch(ne){Hc(t,s,ne)}finally{X.T=h}}else try{h=r(d,i),kf(t,s,h)}catch(ne){Hc(t,s,ne)}}function kf(t,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(i){Df(t,s,i)},function(i){return Hc(t,s,i)}):Df(t,s,r)}function Df(t,s,r){s.status="fulfilled",s.value=r,Mf(s),t.state=r,s=t.pending,s!==null&&(r=s.next,r===s?t.pending=null:(r=r.next,s.next=r,Ef(t,r)))}function Hc(t,s,r){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do s.status="rejected",s.reason=r,Mf(s),s=s.next;while(s!==i)}t.action=null}function Mf(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Rf(t,s){return s}function Lf(t,s){if(Xe){var r=at.formState;if(r!==null){e:{var i=He;if(Xe){if(mt){t:{for(var d=mt,h=Cs;d.nodeType!==8;){if(!h){d=null;break t}if(d=vs(d.nextSibling),d===null){d=null;break t}}h=d.data,d=h==="F!"||h==="F"?d:null}if(d){mt=vs(d.nextSibling),i=d.data==="F!";break e}}Za(i)}i=!1}i&&(s=r[0])}}return r=Gt(),r.memoizedState=r.baseState=s,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:s},r.queue=i,r=Jf.bind(null,He,i),i.dispatch=r,i=qc(!1),h=Gc.bind(null,He,!1,i.queue),i=Gt(),d={state:s,dispatch:null,action:t,pending:null},i.queue=d,r=jj.bind(null,He,d,h,r),d.dispatch=r,i.memoizedState=t,[s,r,!1]}function zf(t){var s=vt();return Of(s,We,t)}function Of(t,s,r){if(s=Vc(t,s,Rf)[0],t=Ni($s)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var i=Xr(s)}catch(v){throw v===Ir?gi:v}else i=s;s=vt();var d=s.queue,h=d.dispatch;return r!==s.memoizedState&&(He.flags|=2048,In(9,wi(),Nj.bind(null,d,r),null)),[i,h,t]}function Nj(t,s){t.action=s}function _f(t){var s=vt(),r=We;if(r!==null)return Of(s,r,t);vt(),s=s.memoizedState,r=vt();var i=r.queue.dispatch;return r.memoizedState=t,[s,i,!1]}function In(t,s,r,i){return t={tag:t,create:r,deps:i,inst:s,next:null},s=He.updateQueue,s===null&&(s=Bc(),He.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,s.lastEffect=t),t}function wi(){return{destroy:void 0,resource:void 0}}function Bf(){return vt().memoizedState}function Si(t,s,r,i){var d=Gt();i=i===void 0?null:i,He.flags|=t,d.memoizedState=In(1|s,wi(),r,i)}function Qr(t,s,r,i){var d=vt();i=i===void 0?null:i;var h=d.memoizedState.inst;We!==null&&i!==null&&Rc(i,We.memoizedState.deps)?d.memoizedState=In(s,h,r,i):(He.flags|=t,d.memoizedState=In(1|s,h,r,i))}function Uf(t,s){Si(8390656,8,t,s)}function Vf(t,s){Qr(2048,8,t,s)}function Pf(t,s){return Qr(4,2,t,s)}function qf(t,s){return Qr(4,4,t,s)}function Hf(t,s){if(typeof s=="function"){t=t();var r=s(t);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function If(t,s,r){r=r!=null?r.concat([t]):null,Qr(4,4,Hf.bind(null,s,t),r)}function Ic(){}function Ff(t,s){var r=vt();s=s===void 0?null:s;var i=r.memoizedState;return s!==null&&Rc(s,i[1])?i[0]:(r.memoizedState=[t,s],t)}function Yf(t,s){var r=vt();s=s===void 0?null:s;var i=r.memoizedState;if(s!==null&&Rc(s,i[1]))return i[0];if(i=t(),tn){$e(!0);try{t()}finally{$e(!1)}}return r.memoizedState=[i,s],i}function Fc(t,s,r){return r===void 0||(fa&1073741824)!==0?t.memoizedState=s:(t.memoizedState=r,t=K0(),He.lanes|=t,ja|=t,r)}function $f(t,s,r,i){return Jt(r,s)?r:Pn.current!==null?(t=Fc(t,r,i),Jt(t,s)||(Et=!0),t):(fa&42)===0?(Et=!0,t.memoizedState=r):(t=K0(),He.lanes|=t,ja|=t,s)}function Gf(t,s,r,i,d){var h=ee.p;ee.p=h!==0&&8>h?h:8;var v=X.T,C={};X.T=C,Gc(t,!1,s,r);try{var q=d(),ne=X.S;if(ne!==null&&ne(C,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var fe=bj(q,i);Zr(t,s,fe,as(t))}else Zr(t,s,i,as(t))}catch(je){Zr(t,s,{then:function(){},status:"rejected",reason:je},as())}finally{ee.p=h,X.T=v}}function wj(){}function Yc(t,s,r,i){if(t.tag!==5)throw Error(o(476));var d=Kf(t).queue;Gf(t,d,s,be,r===null?wj:function(){return Xf(t),r(i)})}function Kf(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:be},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:r},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Xf(t){var s=Kf(t).next.queue;Zr(t,s,{},as())}function $c(){return Bt(xl)}function Qf(){return vt().memoizedState}function Zf(){return vt().memoizedState}function Sj(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var r=as();t=ma(r);var i=ha(s,t,r);i!==null&&(ns(i,s,r),Yr(i,s,r)),s={cache:Nc()},t.payload=s;return}s=s.return}}function Cj(t,s,r){var i=as();r={lane:i,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Ci(t)?Wf(s,r):(r=mc(t,s,r,i),r!==null&&(ns(r,t,i),e0(r,s,i)))}function Jf(t,s,r){var i=as();Zr(t,s,r,i)}function Zr(t,s,r,i){var d={lane:i,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ci(t))Wf(s,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=s.lastRenderedReducer,h!==null))try{var v=s.lastRenderedState,C=h(v,r);if(d.hasEagerState=!0,d.eagerState=C,Jt(C,v))return oi(t,s,d,0),at===null&&ii(),!1}catch{}finally{}if(r=mc(t,s,d,i),r!==null)return ns(r,t,i),e0(r,s,i),!0}return!1}function Gc(t,s,r,i){if(i={lane:2,revertLane:Cd(),action:i,hasEagerState:!1,eagerState:null,next:null},Ci(t)){if(s)throw Error(o(479))}else s=mc(t,r,i,2),s!==null&&ns(s,t,2)}function Ci(t){var s=t.alternate;return t===He||s!==null&&s===He}function Wf(t,s){qn=yi=!0;var r=t.pending;r===null?s.next=s:(s.next=r.next,r.next=s),t.pending=s}function e0(t,s,r){if((r&4194048)!==0){var i=s.lanes;i&=t.pendingLanes,r|=i,s.lanes=r,ih(t,r)}}var Ai={readContext:Bt,use:ji,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},t0={readContext:Bt,use:ji,useCallback:function(t,s){return Gt().memoizedState=[t,s===void 0?null:s],t},useContext:Bt,useEffect:Uf,useImperativeHandle:function(t,s,r){r=r!=null?r.concat([t]):null,Si(4194308,4,Hf.bind(null,s,t),r)},useLayoutEffect:function(t,s){return Si(4194308,4,t,s)},useInsertionEffect:function(t,s){Si(4,2,t,s)},useMemo:function(t,s){var r=Gt();s=s===void 0?null:s;var i=t();if(tn){$e(!0);try{t()}finally{$e(!1)}}return r.memoizedState=[i,s],i},useReducer:function(t,s,r){var i=Gt();if(r!==void 0){var d=r(s);if(tn){$e(!0);try{r(s)}finally{$e(!1)}}}else d=s;return i.memoizedState=i.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},i.queue=t,t=t.dispatch=Cj.bind(null,He,t),[i.memoizedState,t]},useRef:function(t){var s=Gt();return t={current:t},s.memoizedState=t},useState:function(t){t=qc(t);var s=t.queue,r=Jf.bind(null,He,s);return s.dispatch=r,[t.memoizedState,r]},useDebugValue:Ic,useDeferredValue:function(t,s){var r=Gt();return Fc(r,t,s)},useTransition:function(){var t=qc(!1);return t=Gf.bind(null,He,t.queue,!0,!1),Gt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,r){var i=He,d=Gt();if(Xe){if(r===void 0)throw Error(o(407));r=r()}else{if(r=s(),at===null)throw Error(o(349));(Ge&124)!==0||Nf(i,s,r)}d.memoizedState=r;var h={value:r,getSnapshot:s};return d.queue=h,Uf(Sf.bind(null,i,h,t),[t]),i.flags|=2048,In(9,wi(),wf.bind(null,i,h,r,s),null),r},useId:function(){var t=Gt(),s=at.identifierPrefix;if(Xe){var r=Is,i=Hs;r=(i&~(1<<32-At(i)-1)).toString(32)+r,s=""+s+"R"+r,r=vi++,0<r&&(s+="H"+r.toString(32)),s+=""}else r=yj++,s=""+s+"r"+r.toString(32)+"";return t.memoizedState=s},useHostTransitionStatus:$c,useFormState:Lf,useActionState:Lf,useOptimistic:function(t){var s=Gt();s.memoizedState=s.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=Gc.bind(null,He,!0,r),r.dispatch=s,[t,s]},useMemoCache:Uc,useCacheRefresh:function(){return Gt().memoizedState=Sj.bind(null,He)}},s0={readContext:Bt,use:ji,useCallback:Ff,useContext:Bt,useEffect:Vf,useImperativeHandle:If,useInsertionEffect:Pf,useLayoutEffect:qf,useMemo:Yf,useReducer:Ni,useRef:Bf,useState:function(){return Ni($s)},useDebugValue:Ic,useDeferredValue:function(t,s){var r=vt();return $f(r,We.memoizedState,t,s)},useTransition:function(){var t=Ni($s)[0],s=vt().memoizedState;return[typeof t=="boolean"?t:Xr(t),s]},useSyncExternalStore:jf,useId:Qf,useHostTransitionStatus:$c,useFormState:zf,useActionState:zf,useOptimistic:function(t,s){var r=vt();return Tf(r,We,t,s)},useMemoCache:Uc,useCacheRefresh:Zf},Aj={readContext:Bt,use:ji,useCallback:Ff,useContext:Bt,useEffect:Vf,useImperativeHandle:If,useInsertionEffect:Pf,useLayoutEffect:qf,useMemo:Yf,useReducer:Pc,useRef:Bf,useState:function(){return Pc($s)},useDebugValue:Ic,useDeferredValue:function(t,s){var r=vt();return We===null?Fc(r,t,s):$f(r,We.memoizedState,t,s)},useTransition:function(){var t=Pc($s)[0],s=vt().memoizedState;return[typeof t=="boolean"?t:Xr(t),s]},useSyncExternalStore:jf,useId:Qf,useHostTransitionStatus:$c,useFormState:_f,useActionState:_f,useOptimistic:function(t,s){var r=vt();return We!==null?Tf(r,We,t,s):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Uc,useCacheRefresh:Zf},Fn=null,Jr=0;function Ti(t){var s=Jr;return Jr+=1,Fn===null&&(Fn=[]),hf(Fn,t,s)}function Wr(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Ei(t,s){throw s.$$typeof===y?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function a0(t){var s=t._init;return s(t._payload)}function n0(t){function s(W,G){if(t){var ae=W.deletions;ae===null?(W.deletions=[G],W.flags|=16):ae.push(G)}}function r(W,G){if(!t)return null;for(;G!==null;)s(W,G),G=G.sibling;return null}function i(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function d(W,G){return W=qs(W,G),W.index=0,W.sibling=null,W}function h(W,G,ae){return W.index=ae,t?(ae=W.alternate,ae!==null?(ae=ae.index,ae<G?(W.flags|=67108866,G):ae):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function v(W){return t&&W.alternate===null&&(W.flags|=67108866),W}function C(W,G,ae,ye){return G===null||G.tag!==6?(G=fc(ae,W.mode,ye),G.return=W,G):(G=d(G,ae),G.return=W,G)}function q(W,G,ae,ye){var Re=ae.type;return Re===L?fe(W,G,ae.props.children,ye,ae.key):G!==null&&(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===H&&a0(Re)===G.type)?(G=d(G,ae.props),Wr(G,ae),G.return=W,G):(G=di(ae.type,ae.key,ae.props,null,W.mode,ye),Wr(G,ae),G.return=W,G)}function ne(W,G,ae,ye){return G===null||G.tag!==4||G.stateNode.containerInfo!==ae.containerInfo||G.stateNode.implementation!==ae.implementation?(G=xc(ae,W.mode,ye),G.return=W,G):(G=d(G,ae.children||[]),G.return=W,G)}function fe(W,G,ae,ye,Re){return G===null||G.tag!==7?(G=Ga(ae,W.mode,ye,Re),G.return=W,G):(G=d(G,ae),G.return=W,G)}function je(W,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=fc(""+G,W.mode,ae),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case j:return ae=di(G.type,G.key,G.props,null,W.mode,ae),Wr(ae,G),ae.return=W,ae;case T:return G=xc(G,W.mode,ae),G.return=W,G;case H:var ye=G._init;return G=ye(G._payload),je(W,G,ae)}if(pe(G)||K(G))return G=Ga(G,W.mode,ae,null),G.return=W,G;if(typeof G.then=="function")return je(W,Ti(G),ae);if(G.$$typeof===S)return je(W,fi(W,G),ae);Ei(W,G)}return null}function re(W,G,ae,ye){var Re=G!==null?G.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Re!==null?null:C(W,G,""+ae,ye);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case j:return ae.key===Re?q(W,G,ae,ye):null;case T:return ae.key===Re?ne(W,G,ae,ye):null;case H:return Re=ae._init,ae=Re(ae._payload),re(W,G,ae,ye)}if(pe(ae)||K(ae))return Re!==null?null:fe(W,G,ae,ye,null);if(typeof ae.then=="function")return re(W,G,Ti(ae),ye);if(ae.$$typeof===S)return re(W,G,fi(W,ae),ye);Ei(W,ae)}return null}function le(W,G,ae,ye,Re){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return W=W.get(ae)||null,C(G,W,""+ye,Re);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case j:return W=W.get(ye.key===null?ae:ye.key)||null,q(G,W,ye,Re);case T:return W=W.get(ye.key===null?ae:ye.key)||null,ne(G,W,ye,Re);case H:var Ie=ye._init;return ye=Ie(ye._payload),le(W,G,ae,ye,Re)}if(pe(ye)||K(ye))return W=W.get(ae)||null,fe(G,W,ye,Re,null);if(typeof ye.then=="function")return le(W,G,ae,Ti(ye),Re);if(ye.$$typeof===S)return le(W,G,ae,fi(G,ye),Re);Ei(G,ye)}return null}function Ue(W,G,ae,ye){for(var Re=null,Ie=null,ze=G,Be=G=0,Dt=null;ze!==null&&Be<ae.length;Be++){ze.index>Be?(Dt=ze,ze=null):Dt=ze.sibling;var Ke=re(W,ze,ae[Be],ye);if(Ke===null){ze===null&&(ze=Dt);break}t&&ze&&Ke.alternate===null&&s(W,ze),G=h(Ke,G,Be),Ie===null?Re=Ke:Ie.sibling=Ke,Ie=Ke,ze=Dt}if(Be===ae.length)return r(W,ze),Xe&&Xa(W,Be),Re;if(ze===null){for(;Be<ae.length;Be++)ze=je(W,ae[Be],ye),ze!==null&&(G=h(ze,G,Be),Ie===null?Re=ze:Ie.sibling=ze,Ie=ze);return Xe&&Xa(W,Be),Re}for(ze=i(ze);Be<ae.length;Be++)Dt=le(ze,W,Be,ae[Be],ye),Dt!==null&&(t&&Dt.alternate!==null&&ze.delete(Dt.key===null?Be:Dt.key),G=h(Dt,G,Be),Ie===null?Re=Dt:Ie.sibling=Dt,Ie=Dt);return t&&ze.forEach(function(Da){return s(W,Da)}),Xe&&Xa(W,Be),Re}function _e(W,G,ae,ye){if(ae==null)throw Error(o(151));for(var Re=null,Ie=null,ze=G,Be=G=0,Dt=null,Ke=ae.next();ze!==null&&!Ke.done;Be++,Ke=ae.next()){ze.index>Be?(Dt=ze,ze=null):Dt=ze.sibling;var Da=re(W,ze,Ke.value,ye);if(Da===null){ze===null&&(ze=Dt);break}t&&ze&&Da.alternate===null&&s(W,ze),G=h(Da,G,Be),Ie===null?Re=Da:Ie.sibling=Da,Ie=Da,ze=Dt}if(Ke.done)return r(W,ze),Xe&&Xa(W,Be),Re;if(ze===null){for(;!Ke.done;Be++,Ke=ae.next())Ke=je(W,Ke.value,ye),Ke!==null&&(G=h(Ke,G,Be),Ie===null?Re=Ke:Ie.sibling=Ke,Ie=Ke);return Xe&&Xa(W,Be),Re}for(ze=i(ze);!Ke.done;Be++,Ke=ae.next())Ke=le(ze,W,Be,Ke.value,ye),Ke!==null&&(t&&Ke.alternate!==null&&ze.delete(Ke.key===null?Be:Ke.key),G=h(Ke,G,Be),Ie===null?Re=Ke:Ie.sibling=Ke,Ie=Ke);return t&&ze.forEach(function(T1){return s(W,T1)}),Xe&&Xa(W,Be),Re}function tt(W,G,ae,ye){if(typeof ae=="object"&&ae!==null&&ae.type===L&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case j:e:{for(var Re=ae.key;G!==null;){if(G.key===Re){if(Re=ae.type,Re===L){if(G.tag===7){r(W,G.sibling),ye=d(G,ae.props.children),ye.return=W,W=ye;break e}}else if(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===H&&a0(Re)===G.type){r(W,G.sibling),ye=d(G,ae.props),Wr(ye,ae),ye.return=W,W=ye;break e}r(W,G);break}else s(W,G);G=G.sibling}ae.type===L?(ye=Ga(ae.props.children,W.mode,ye,ae.key),ye.return=W,W=ye):(ye=di(ae.type,ae.key,ae.props,null,W.mode,ye),Wr(ye,ae),ye.return=W,W=ye)}return v(W);case T:e:{for(Re=ae.key;G!==null;){if(G.key===Re)if(G.tag===4&&G.stateNode.containerInfo===ae.containerInfo&&G.stateNode.implementation===ae.implementation){r(W,G.sibling),ye=d(G,ae.children||[]),ye.return=W,W=ye;break e}else{r(W,G);break}else s(W,G);G=G.sibling}ye=xc(ae,W.mode,ye),ye.return=W,W=ye}return v(W);case H:return Re=ae._init,ae=Re(ae._payload),tt(W,G,ae,ye)}if(pe(ae))return Ue(W,G,ae,ye);if(K(ae)){if(Re=K(ae),typeof Re!="function")throw Error(o(150));return ae=Re.call(ae),_e(W,G,ae,ye)}if(typeof ae.then=="function")return tt(W,G,Ti(ae),ye);if(ae.$$typeof===S)return tt(W,G,fi(W,ae),ye);Ei(W,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,G!==null&&G.tag===6?(r(W,G.sibling),ye=d(G,ae),ye.return=W,W=ye):(r(W,G),ye=fc(ae,W.mode,ye),ye.return=W,W=ye),v(W)):r(W,G)}return function(W,G,ae,ye){try{Jr=0;var Re=tt(W,G,ae,ye);return Fn=null,Re}catch(ze){if(ze===Ir||ze===gi)throw ze;var Ie=Wt(29,ze,null,W.mode);return Ie.lanes=ye,Ie.return=W,Ie}finally{}}}var Yn=n0(!0),r0=n0(!1),ms=Z(null),As=null;function xa(t){var s=t.alternate;_(wt,wt.current&1),_(ms,t),As===null&&(s===null||Pn.current!==null||s.memoizedState!==null)&&(As=t)}function l0(t){if(t.tag===22){if(_(wt,wt.current),_(ms,t),As===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(As=t)}}else ga()}function ga(){_(wt,wt.current),_(ms,ms.current)}function Gs(t){me(ms),As===t&&(As=null),me(wt)}var wt=Z(0);function ki(t){for(var s=t;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Bd(r)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Kc(t,s,r,i){s=t.memoizedState,r=r(i,s),r=r==null?s:p({},s,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Xc={enqueueSetState:function(t,s,r){t=t._reactInternals;var i=as(),d=ma(i);d.payload=s,r!=null&&(d.callback=r),s=ha(t,d,i),s!==null&&(ns(s,t,i),Yr(s,t,i))},enqueueReplaceState:function(t,s,r){t=t._reactInternals;var i=as(),d=ma(i);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=ha(t,d,i),s!==null&&(ns(s,t,i),Yr(s,t,i))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var r=as(),i=ma(r);i.tag=2,s!=null&&(i.callback=s),s=ha(t,i,r),s!==null&&(ns(s,t,r),Yr(s,t,r))}};function i0(t,s,r,i,d,h,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,h,v):s.prototype&&s.prototype.isPureReactComponent?!Or(r,i)||!Or(d,h):!0}function o0(t,s,r,i){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,i),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,i),s.state!==t&&Xc.enqueueReplaceState(s,s.state,null)}function sn(t,s){var r=s;if("ref"in s){r={};for(var i in s)i!=="ref"&&(r[i]=s[i])}if(t=t.defaultProps){r===s&&(r=p({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}var Di=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function c0(t){Di(t)}function d0(t){console.error(t)}function u0(t){Di(t)}function Mi(t,s){try{var r=t.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(i){setTimeout(function(){throw i})}}function m0(t,s,r){try{var i=t.onCaughtError;i(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Qc(t,s,r){return r=ma(r),r.tag=3,r.payload={element:null},r.callback=function(){Mi(t,s)},r}function h0(t){return t=ma(t),t.tag=3,t}function f0(t,s,r,i){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var h=i.value;t.payload=function(){return d(h)},t.callback=function(){m0(s,r,i)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){m0(s,r,i),typeof d!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var C=i.stack;this.componentDidCatch(i.value,{componentStack:C!==null?C:""})})}function Tj(t,s,r,i,d){if(r.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(s=r.alternate,s!==null&&Pr(s,r,d,!0),r=ms.current,r!==null){switch(r.tag){case 13:return As===null?vd():r.alternate===null&&ht===0&&(ht=3),r.flags&=-257,r.flags|=65536,r.lanes=d,i===Cc?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([i]):s.add(i),Nd(t,i,d)),!1;case 22:return r.flags|=65536,i===Cc?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([i])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([i]):r.add(i)),Nd(t,i,d)),!1}throw Error(o(435,r.tag))}return Nd(t,i,d),vd(),!1}if(Xe)return s=ms.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,i!==bc&&(t=Error(o(422),{cause:i}),Vr(os(t,r)))):(i!==bc&&(s=Error(o(423),{cause:i}),Vr(os(s,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,i=os(i,r),d=Qc(t.stateNode,i,d),Ec(t,d),ht!==4&&(ht=2)),!1;var h=Error(o(520),{cause:i});if(h=os(h,r),ll===null?ll=[h]:ll.push(h),ht!==4&&(ht=2),s===null)return!0;i=os(i,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=Qc(r.stateNode,i,t),Ec(r,t),!1;case 1:if(s=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Na===null||!Na.has(h))))return r.flags|=65536,d&=-d,r.lanes|=d,d=h0(d),f0(d,t,r,i),Ec(r,d),!1}r=r.return}while(r!==null);return!1}var x0=Error(o(461)),Et=!1;function Rt(t,s,r,i){s.child=t===null?r0(s,null,r,i):Yn(s,t.child,r,i)}function g0(t,s,r,i,d){r=r.render;var h=s.ref;if("ref"in i){var v={};for(var C in i)C!=="ref"&&(v[C]=i[C])}else v=i;return Wa(s),i=Lc(t,s,r,v,h,d),C=zc(),t!==null&&!Et?(Oc(t,s,d),Ks(t,s,d)):(Xe&&C&&gc(s),s.flags|=1,Rt(t,s,i,d),s.child)}function p0(t,s,r,i,d){if(t===null){var h=r.type;return typeof h=="function"&&!hc(h)&&h.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=h,b0(t,s,h,i,d)):(t=di(r.type,null,i,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(h=t.child,!nd(t,d)){var v=h.memoizedProps;if(r=r.compare,r=r!==null?r:Or,r(v,i)&&t.ref===s.ref)return Ks(t,s,d)}return s.flags|=1,t=qs(h,i),t.ref=s.ref,t.return=s,s.child=t}function b0(t,s,r,i,d){if(t!==null){var h=t.memoizedProps;if(Or(h,i)&&t.ref===s.ref)if(Et=!1,s.pendingProps=i=h,nd(t,d))(t.flags&131072)!==0&&(Et=!0);else return s.lanes=t.lanes,Ks(t,s,d)}return Zc(t,s,r,i,d)}function y0(t,s,r){var i=s.pendingProps,d=i.children,h=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if((s.flags&128)!==0){if(i=h!==null?h.baseLanes|r:r,t!==null){for(d=s.child=t.child,h=0;d!==null;)h=h|d.lanes|d.childLanes,d=d.sibling;s.childLanes=h&~i}else s.childLanes=0,s.child=null;return v0(t,s,i,r)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&xi(s,h!==null?h.cachePool:null),h!==null?bf(s,h):Dc(),l0(s);else return s.lanes=s.childLanes=536870912,v0(t,s,h!==null?h.baseLanes|r:r,r)}else h!==null?(xi(s,h.cachePool),bf(s,h),ga(),s.memoizedState=null):(t!==null&&xi(s,null),Dc(),ga());return Rt(t,s,d,r),s.child}function v0(t,s,r,i){var d=Sc();return d=d===null?null:{parent:Nt._currentValue,pool:d},s.memoizedState={baseLanes:r,cachePool:d},t!==null&&xi(s,null),Dc(),l0(s),t!==null&&Pr(t,s,i,!0),null}function Ri(t,s){var r=s.ref;if(r===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(t===null||t.ref!==r)&&(s.flags|=4194816)}}function Zc(t,s,r,i,d){return Wa(s),r=Lc(t,s,r,i,void 0,d),i=zc(),t!==null&&!Et?(Oc(t,s,d),Ks(t,s,d)):(Xe&&i&&gc(s),s.flags|=1,Rt(t,s,r,d),s.child)}function j0(t,s,r,i,d,h){return Wa(s),s.updateQueue=null,r=vf(s,i,r,d),yf(t),i=zc(),t!==null&&!Et?(Oc(t,s,h),Ks(t,s,h)):(Xe&&i&&gc(s),s.flags|=1,Rt(t,s,r,h),s.child)}function N0(t,s,r,i,d){if(Wa(s),s.stateNode===null){var h=On,v=r.contextType;typeof v=="object"&&v!==null&&(h=Bt(v)),h=new r(i,h),s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Xc,s.stateNode=h,h._reactInternals=s,h=s.stateNode,h.props=i,h.state=s.memoizedState,h.refs={},Ac(s),v=r.contextType,h.context=typeof v=="object"&&v!==null?Bt(v):On,h.state=s.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(Kc(s,r,v,i),h.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(v=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),v!==h.state&&Xc.enqueueReplaceState(h,h.state,null),Gr(s,i,h,d),$r(),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308),i=!0}else if(t===null){h=s.stateNode;var C=s.memoizedProps,q=sn(r,C);h.props=q;var ne=h.context,fe=r.contextType;v=On,typeof fe=="object"&&fe!==null&&(v=Bt(fe));var je=r.getDerivedStateFromProps;fe=typeof je=="function"||typeof h.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,fe||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(C||ne!==v)&&o0(s,h,i,v),ua=!1;var re=s.memoizedState;h.state=re,Gr(s,i,h,d),$r(),ne=s.memoizedState,C||re!==ne||ua?(typeof je=="function"&&(Kc(s,r,je,i),ne=s.memoizedState),(q=ua||i0(s,r,q,i,re,ne,v))?(fe||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(s.flags|=4194308)):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=i,s.memoizedState=ne),h.props=i,h.state=ne,h.context=v,i=q):(typeof h.componentDidMount=="function"&&(s.flags|=4194308),i=!1)}else{h=s.stateNode,Tc(t,s),v=s.memoizedProps,fe=sn(r,v),h.props=fe,je=s.pendingProps,re=h.context,ne=r.contextType,q=On,typeof ne=="object"&&ne!==null&&(q=Bt(ne)),C=r.getDerivedStateFromProps,(ne=typeof C=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v!==je||re!==q)&&o0(s,h,i,q),ua=!1,re=s.memoizedState,h.state=re,Gr(s,i,h,d),$r();var le=s.memoizedState;v!==je||re!==le||ua||t!==null&&t.dependencies!==null&&hi(t.dependencies)?(typeof C=="function"&&(Kc(s,r,C,i),le=s.memoizedState),(fe=ua||i0(s,r,fe,i,re,le,q)||t!==null&&t.dependencies!==null&&hi(t.dependencies))?(ne||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,le,q),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,le,q)),typeof h.componentDidUpdate=="function"&&(s.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&re===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&re===t.memoizedState||(s.flags|=1024),s.memoizedProps=i,s.memoizedState=le),h.props=i,h.state=le,h.context=q,i=fe):(typeof h.componentDidUpdate!="function"||v===t.memoizedProps&&re===t.memoizedState||(s.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&re===t.memoizedState||(s.flags|=1024),i=!1)}return h=i,Ri(t,s),i=(s.flags&128)!==0,h||i?(h=s.stateNode,r=i&&typeof r.getDerivedStateFromError!="function"?null:h.render(),s.flags|=1,t!==null&&i?(s.child=Yn(s,t.child,null,d),s.child=Yn(s,null,r,d)):Rt(t,s,r,d),s.memoizedState=h.state,t=s.child):t=Ks(t,s,d),t}function w0(t,s,r,i){return Ur(),s.flags|=256,Rt(t,s,r,i),s.child}var Jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wc(t){return{baseLanes:t,cachePool:df()}}function ed(t,s,r){return t=t!==null?t.childLanes&~r:0,s&&(t|=hs),t}function S0(t,s,r){var i=s.pendingProps,d=!1,h=(s.flags&128)!==0,v;if((v=h)||(v=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),v&&(d=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(Xe){if(d?xa(s):ga(),Xe){var C=mt,q;if(q=C){e:{for(q=C,C=Cs;q.nodeType!==8;){if(!C){C=null;break e}if(q=vs(q.nextSibling),q===null){C=null;break e}}C=q}C!==null?(s.memoizedState={dehydrated:C,treeContext:Ka!==null?{id:Hs,overflow:Is}:null,retryLane:536870912,hydrationErrors:null},q=Wt(18,null,null,0),q.stateNode=C,q.return=s,s.child=q,qt=s,mt=null,q=!0):q=!1}q||Za(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Bd(C)?s.lanes=32:s.lanes=536870912,null;Gs(s)}return C=i.children,i=i.fallback,d?(ga(),d=s.mode,C=Li({mode:"hidden",children:C},d),i=Ga(i,d,r,null),C.return=s,i.return=s,C.sibling=i,s.child=C,d=s.child,d.memoizedState=Wc(r),d.childLanes=ed(t,v,r),s.memoizedState=Jc,i):(xa(s),td(s,C))}if(q=t.memoizedState,q!==null&&(C=q.dehydrated,C!==null)){if(h)s.flags&256?(xa(s),s.flags&=-257,s=sd(t,s,r)):s.memoizedState!==null?(ga(),s.child=t.child,s.flags|=128,s=null):(ga(),d=i.fallback,C=s.mode,i=Li({mode:"visible",children:i.children},C),d=Ga(d,C,r,null),d.flags|=2,i.return=s,d.return=s,i.sibling=d,s.child=i,Yn(s,t.child,null,r),i=s.child,i.memoizedState=Wc(r),i.childLanes=ed(t,v,r),s.memoizedState=Jc,s=d);else if(xa(s),Bd(C)){if(v=C.nextSibling&&C.nextSibling.dataset,v)var ne=v.dgst;v=ne,i=Error(o(419)),i.stack="",i.digest=v,Vr({value:i,source:null,stack:null}),s=sd(t,s,r)}else if(Et||Pr(t,s,r,!1),v=(r&t.childLanes)!==0,Et||v){if(v=at,v!==null&&(i=r&-r,i=(i&42)!==0?1:Uo(i),i=(i&(v.suspendedLanes|r))!==0?0:i,i!==0&&i!==q.retryLane))throw q.retryLane=i,zn(t,i),ns(v,t,i),x0;C.data==="$?"||vd(),s=sd(t,s,r)}else C.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=q.treeContext,mt=vs(C.nextSibling),qt=s,Xe=!0,Qa=null,Cs=!1,t!==null&&(ds[us++]=Hs,ds[us++]=Is,ds[us++]=Ka,Hs=t.id,Is=t.overflow,Ka=s),s=td(s,i.children),s.flags|=4096);return s}return d?(ga(),d=i.fallback,C=s.mode,q=t.child,ne=q.sibling,i=qs(q,{mode:"hidden",children:i.children}),i.subtreeFlags=q.subtreeFlags&65011712,ne!==null?d=qs(ne,d):(d=Ga(d,C,r,null),d.flags|=2),d.return=s,i.return=s,i.sibling=d,s.child=i,i=d,d=s.child,C=t.child.memoizedState,C===null?C=Wc(r):(q=C.cachePool,q!==null?(ne=Nt._currentValue,q=q.parent!==ne?{parent:ne,pool:ne}:q):q=df(),C={baseLanes:C.baseLanes|r,cachePool:q}),d.memoizedState=C,d.childLanes=ed(t,v,r),s.memoizedState=Jc,i):(xa(s),r=t.child,t=r.sibling,r=qs(r,{mode:"visible",children:i.children}),r.return=s,r.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=r,s.memoizedState=null,r)}function td(t,s){return s=Li({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Li(t,s){return t=Wt(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function sd(t,s,r){return Yn(s,t.child,null,r),t=td(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function C0(t,s,r){t.lanes|=s;var i=t.alternate;i!==null&&(i.lanes|=s),vc(t.return,s,r)}function ad(t,s,r,i,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:d}:(h.isBackwards=s,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=r,h.tailMode=d)}function A0(t,s,r){var i=s.pendingProps,d=i.revealOrder,h=i.tail;if(Rt(t,s,i.children,r),i=wt.current,(i&2)!==0)i=i&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&C0(t,r,s);else if(t.tag===19)C0(t,r,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(_(wt,i),d){case"forwards":for(r=s.child,d=null;r!==null;)t=r.alternate,t!==null&&ki(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),ad(s,!1,d,r,h);break;case"backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&ki(t)===null){s.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}ad(s,!0,r,null,h);break;case"together":ad(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ks(t,s,r){if(t!==null&&(s.dependencies=t.dependencies),ja|=s.lanes,(r&s.childLanes)===0)if(t!==null){if(Pr(t,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,r=qs(t,t.pendingProps),s.child=r,r.return=s;t.sibling!==null;)t=t.sibling,r=r.sibling=qs(t,t.pendingProps),r.return=s;r.sibling=null}return s.child}function nd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&hi(t)))}function Ej(t,s,r){switch(s.tag){case 3:I(s,s.stateNode.containerInfo),da(s,Nt,t.memoizedState.cache),Ur();break;case 27:case 5:Le(s);break;case 4:I(s,s.stateNode.containerInfo);break;case 10:da(s,s.type,s.memoizedProps.value);break;case 13:var i=s.memoizedState;if(i!==null)return i.dehydrated!==null?(xa(s),s.flags|=128,null):(r&s.child.childLanes)!==0?S0(t,s,r):(xa(s),t=Ks(t,s,r),t!==null?t.sibling:null);xa(s);break;case 19:var d=(t.flags&128)!==0;if(i=(r&s.childLanes)!==0,i||(Pr(t,s,r,!1),i=(r&s.childLanes)!==0),d){if(i)return A0(t,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),_(wt,wt.current),i)break;return null;case 22:case 23:return s.lanes=0,y0(t,s,r);case 24:da(s,Nt,t.memoizedState.cache)}return Ks(t,s,r)}function T0(t,s,r){if(t!==null)if(t.memoizedProps!==s.pendingProps)Et=!0;else{if(!nd(t,r)&&(s.flags&128)===0)return Et=!1,Ej(t,s,r);Et=(t.flags&131072)!==0}else Et=!1,Xe&&(s.flags&1048576)!==0&&sf(s,mi,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var i=s.elementType,d=i._init;if(i=d(i._payload),s.type=i,typeof i=="function")hc(i)?(t=sn(i,t),s.tag=1,s=N0(null,s,i,t,r)):(s.tag=0,s=Zc(null,s,i,t,r));else{if(i!=null){if(d=i.$$typeof,d===O){s.tag=11,s=g0(null,s,i,t,r);break e}else if(d===B){s.tag=14,s=p0(null,s,i,t,r);break e}}throw s=se(i)||i,Error(o(306,s,""))}}return s;case 0:return Zc(t,s,s.type,s.pendingProps,r);case 1:return i=s.type,d=sn(i,s.pendingProps),N0(t,s,i,d,r);case 3:e:{if(I(s,s.stateNode.containerInfo),t===null)throw Error(o(387));i=s.pendingProps;var h=s.memoizedState;d=h.element,Tc(t,s),Gr(s,i,null,r);var v=s.memoizedState;if(i=v.cache,da(s,Nt,i),i!==h.cache&&jc(s,[Nt],r,!0),$r(),i=v.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=w0(t,s,i,r);break e}else if(i!==d){d=os(Error(o(424)),s),Vr(d),s=w0(t,s,i,r);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=vs(t.firstChild),qt=s,Xe=!0,Qa=null,Cs=!0,r=r0(s,null,i,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ur(),i===d){s=Ks(t,s,r);break e}Rt(t,s,i,r)}s=s.child}return s;case 26:return Ri(t,s),t===null?(r=Mx(s.type,null,s.pendingProps,null))?s.memoizedState=r:Xe||(r=s.type,t=s.pendingProps,i=Gi(U.current).createElement(r),i[_t]=s,i[Yt]=t,zt(i,r,t),Tt(i),s.stateNode=i):s.memoizedState=Mx(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Le(s),t===null&&Xe&&(i=s.stateNode=Ex(s.type,s.pendingProps,U.current),qt=s,Cs=!0,d=mt,Ca(s.type)?(Ud=d,mt=vs(i.firstChild)):mt=d),Rt(t,s,s.pendingProps.children,r),Ri(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Xe&&((d=i=mt)&&(i=s1(i,s.type,s.pendingProps,Cs),i!==null?(s.stateNode=i,qt=s,mt=vs(i.firstChild),Cs=!1,d=!0):d=!1),d||Za(s)),Le(s),d=s.type,h=s.pendingProps,v=t!==null?t.memoizedProps:null,i=h.children,zd(d,h)?i=null:v!==null&&zd(d,v)&&(s.flags|=32),s.memoizedState!==null&&(d=Lc(t,s,vj,null,null,r),xl._currentValue=d),Ri(t,s),Rt(t,s,i,r),s.child;case 6:return t===null&&Xe&&((t=r=mt)&&(r=a1(r,s.pendingProps,Cs),r!==null?(s.stateNode=r,qt=s,mt=null,t=!0):t=!1),t||Za(s)),null;case 13:return S0(t,s,r);case 4:return I(s,s.stateNode.containerInfo),i=s.pendingProps,t===null?s.child=Yn(s,null,i,r):Rt(t,s,i,r),s.child;case 11:return g0(t,s,s.type,s.pendingProps,r);case 7:return Rt(t,s,s.pendingProps,r),s.child;case 8:return Rt(t,s,s.pendingProps.children,r),s.child;case 12:return Rt(t,s,s.pendingProps.children,r),s.child;case 10:return i=s.pendingProps,da(s,s.type,i.value),Rt(t,s,i.children,r),s.child;case 9:return d=s.type._context,i=s.pendingProps.children,Wa(s),d=Bt(d),i=i(d),s.flags|=1,Rt(t,s,i,r),s.child;case 14:return p0(t,s,s.type,s.pendingProps,r);case 15:return b0(t,s,s.type,s.pendingProps,r);case 19:return A0(t,s,r);case 31:return i=s.pendingProps,r=s.mode,i={mode:i.mode,children:i.children},t===null?(r=Li(i,r),r.ref=s.ref,s.child=r,r.return=s,s=r):(r=qs(t.child,i),r.ref=s.ref,s.child=r,r.return=s,s=r),s;case 22:return y0(t,s,r);case 24:return Wa(s),i=Bt(Nt),t===null?(d=Sc(),d===null&&(d=at,h=Nc(),d.pooledCache=h,h.refCount++,h!==null&&(d.pooledCacheLanes|=r),d=h),s.memoizedState={parent:i,cache:d},Ac(s),da(s,Nt,d)):((t.lanes&r)!==0&&(Tc(t,s),Gr(s,null,null,r),$r()),d=t.memoizedState,h=s.memoizedState,d.parent!==i?(d={parent:i,cache:i},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),da(s,Nt,i)):(i=h.cache,da(s,Nt,i),i!==d.cache&&jc(s,[Nt],r,!0))),Rt(t,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Xs(t){t.flags|=4}function E0(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!_x(s)){if(s=ms.current,s!==null&&((Ge&4194048)===Ge?As!==null:(Ge&62914560)!==Ge&&(Ge&536870912)===0||s!==As))throw Fr=Cc,uf;t.flags|=8192}}function zi(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?rh():536870912,t.lanes|=s,Xn|=s)}function el(t,s){if(!Xe)switch(t.tailMode){case"hidden":s=t.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function ot(t){var s=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(s)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,i|=d.subtreeFlags&65011712,i|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,i|=d.subtreeFlags,i|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=i,t.childLanes=r,s}function kj(t,s,r){var i=s.pendingProps;switch(pc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(s),null;case 1:return ot(s),null;case 3:return r=s.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),s.memoizedState.cache!==i&&(s.flags|=2048),Ys(Nt),Se(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Br(s)?Xs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rf())),ot(s),null;case 26:return r=s.memoizedState,t===null?(Xs(s),r!==null?(ot(s),E0(s,r)):(ot(s),s.flags&=-16777217)):r?r!==t.memoizedState?(Xs(s),ot(s),E0(s,r)):(ot(s),s.flags&=-16777217):(t.memoizedProps!==i&&Xs(s),ot(s),s.flags&=-16777217),null;case 27:Ce(s),r=U.current;var d=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==i&&Xs(s);else{if(!i){if(s.stateNode===null)throw Error(o(166));return ot(s),null}t=Q.current,Br(s)?af(s):(t=Ex(d,i,r),s.stateNode=t,Xs(s))}return ot(s),null;case 5:if(Ce(s),r=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==i&&Xs(s);else{if(!i){if(s.stateNode===null)throw Error(o(166));return ot(s),null}if(t=Q.current,Br(s))af(s);else{switch(d=Gi(U.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?d.createElement("select",{is:i.is}):d.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?d.createElement(r,{is:i.is}):d.createElement(r)}}t[_t]=s,t[Yt]=i;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=t;e:switch(zt(t,r,i),r){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xs(s)}}return ot(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==i&&Xs(s);else{if(typeof i!="string"&&s.stateNode===null)throw Error(o(166));if(t=U.current,Br(s)){if(t=s.stateNode,r=s.memoizedProps,i=null,d=qt,d!==null)switch(d.tag){case 27:case 5:i=d.memoizedProps}t[_t]=s,t=!!(t.nodeValue===r||i!==null&&i.suppressHydrationWarning===!0||jx(t.nodeValue,r)),t||Za(s)}else t=Gi(t).createTextNode(i),t[_t]=s,s.stateNode=t}return ot(s),null;case 13:if(i=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Br(s),i!==null&&i.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[_t]=s}else Ur(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ot(s),d=!1}else d=rf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Gs(s),s):(Gs(s),null)}if(Gs(s),(s.flags&128)!==0)return s.lanes=r,s;if(r=i!==null,t=t!==null&&t.memoizedState!==null,r){i=s.child,d=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(d=i.alternate.memoizedState.cachePool.pool);var h=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==d&&(i.flags|=2048)}return r!==t&&r&&(s.child.flags|=8192),zi(s,s.updateQueue),ot(s),null;case 4:return Se(),t===null&&kd(s.stateNode.containerInfo),ot(s),null;case 10:return Ys(s.type),ot(s),null;case 19:if(me(wt),d=s.memoizedState,d===null)return ot(s),null;if(i=(s.flags&128)!==0,h=d.rendering,h===null)if(i)el(d,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(h=ki(t),h!==null){for(s.flags|=128,el(d,!1),t=h.updateQueue,s.updateQueue=t,zi(s,t),s.subtreeFlags=0,t=r,r=s.child;r!==null;)tf(r,t),r=r.sibling;return _(wt,wt.current&1|2),s.child}t=t.sibling}d.tail!==null&&te()>Bi&&(s.flags|=128,i=!0,el(d,!1),s.lanes=4194304)}else{if(!i)if(t=ki(h),t!==null){if(s.flags|=128,i=!0,t=t.updateQueue,s.updateQueue=t,zi(s,t),el(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Xe)return ot(s),null}else 2*te()-d.renderingStartTime>Bi&&r!==536870912&&(s.flags|=128,i=!0,el(d,!1),s.lanes=4194304);d.isBackwards?(h.sibling=s.child,s.child=h):(t=d.last,t!==null?t.sibling=h:s.child=h,d.last=h)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=te(),s.sibling=null,t=wt.current,_(wt,i?t&1|2:t&1),s):(ot(s),null);case 22:case 23:return Gs(s),Mc(),i=s.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(s.flags|=8192):i&&(s.flags|=8192),i?(r&536870912)!==0&&(s.flags&128)===0&&(ot(s),s.subtreeFlags&6&&(s.flags|=8192)):ot(s),r=s.updateQueue,r!==null&&zi(s,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048),t!==null&&me(en),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),Ys(Nt),ot(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function Dj(t,s){switch(pc(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Ys(Nt),Se(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ce(s),null;case 13:if(Gs(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Ur()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return me(wt),null;case 4:return Se(),null;case 10:return Ys(s.type),null;case 22:case 23:return Gs(s),Mc(),t!==null&&me(en),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return Ys(Nt),null;case 25:return null;default:return null}}function k0(t,s){switch(pc(s),s.tag){case 3:Ys(Nt),Se();break;case 26:case 27:case 5:Ce(s);break;case 4:Se();break;case 13:Gs(s);break;case 19:me(wt);break;case 10:Ys(s.type);break;case 22:case 23:Gs(s),Mc(),t!==null&&me(en);break;case 24:Ys(Nt)}}function tl(t,s){try{var r=s.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var d=i.next;r=d;do{if((r.tag&t)===t){i=void 0;var h=r.create,v=r.inst;i=h(),v.destroy=i}r=r.next}while(r!==d)}}catch(C){st(s,s.return,C)}}function pa(t,s,r){try{var i=s.updateQueue,d=i!==null?i.lastEffect:null;if(d!==null){var h=d.next;i=h;do{if((i.tag&t)===t){var v=i.inst,C=v.destroy;if(C!==void 0){v.destroy=void 0,d=s;var q=r,ne=C;try{ne()}catch(fe){st(d,q,fe)}}}i=i.next}while(i!==h)}}catch(fe){st(s,s.return,fe)}}function D0(t){var s=t.updateQueue;if(s!==null){var r=t.stateNode;try{pf(s,r)}catch(i){st(t,t.return,i)}}}function M0(t,s,r){r.props=sn(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(i){st(t,s,i)}}function sl(t,s){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof r=="function"?t.refCleanup=r(i):r.current=i}}catch(d){st(t,s,d)}}function Ts(t,s){var r=t.ref,i=t.refCleanup;if(r!==null)if(typeof i=="function")try{i()}catch(d){st(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){st(t,s,d)}else r.current=null}function R0(t){var s=t.type,r=t.memoizedProps,i=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&i.focus();break e;case"img":r.src?i.src=r.src:r.srcSet&&(i.srcset=r.srcSet)}}catch(d){st(t,t.return,d)}}function rd(t,s,r){try{var i=t.stateNode;Zj(i,t.type,r,s),i[Yt]=s}catch(d){st(t,t.return,d)}}function L0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ca(t.type)||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ca(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function id(t,s,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(t),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=$i));else if(i!==4&&(i===27&&Ca(t.type)&&(r=t.stateNode,s=null),t=t.child,t!==null))for(id(t,s,r),t=t.sibling;t!==null;)id(t,s,r),t=t.sibling}function Oi(t,s,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,s?r.insertBefore(t,s):r.appendChild(t);else if(i!==4&&(i===27&&Ca(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Oi(t,s,r),t=t.sibling;t!==null;)Oi(t,s,r),t=t.sibling}function z0(t){var s=t.stateNode,r=t.memoizedProps;try{for(var i=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);zt(s,i,r),s[_t]=t,s[Yt]=r}catch(h){st(t,t.return,h)}}var Qs=!1,gt=!1,od=!1,O0=typeof WeakSet=="function"?WeakSet:Set,kt=null;function Mj(t,s){if(t=t.containerInfo,Rd=Wi,t=Yh(t),lc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var d=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var v=0,C=-1,q=-1,ne=0,fe=0,je=t,re=null;t:for(;;){for(var le;je!==r||d!==0&&je.nodeType!==3||(C=v+d),je!==h||i!==0&&je.nodeType!==3||(q=v+i),je.nodeType===3&&(v+=je.nodeValue.length),(le=je.firstChild)!==null;)re=je,je=le;for(;;){if(je===t)break t;if(re===r&&++ne===d&&(C=v),re===h&&++fe===i&&(q=v),(le=je.nextSibling)!==null)break;je=re,re=je.parentNode}je=le}r=C===-1||q===-1?null:{start:C,end:q}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ld={focusedElem:t,selectionRange:r},Wi=!1,kt=s;kt!==null;)if(s=kt,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,kt=t;else for(;kt!==null;){switch(s=kt,h=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=s,d=h.memoizedProps,h=h.memoizedState,i=r.stateNode;try{var Ue=sn(r.type,d,r.elementType===r.type);t=i.getSnapshotBeforeUpdate(Ue,h),i.__reactInternalSnapshotBeforeUpdate=t}catch(_e){st(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,r=t.nodeType,r===9)_d(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_d(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,kt=t;break}kt=s.return}}function _0(t,s,r){var i=r.flags;switch(r.tag){case 0:case 11:case 15:ba(t,r),i&4&&tl(5,r);break;case 1:if(ba(t,r),i&4)if(t=r.stateNode,s===null)try{t.componentDidMount()}catch(v){st(r,r.return,v)}else{var d=sn(r.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){st(r,r.return,v)}}i&64&&D0(r),i&512&&sl(r,r.return);break;case 3:if(ba(t,r),i&64&&(t=r.updateQueue,t!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{pf(t,s)}catch(v){st(r,r.return,v)}}break;case 27:s===null&&i&4&&z0(r);case 26:case 5:ba(t,r),s===null&&i&4&&R0(r),i&512&&sl(r,r.return);break;case 12:ba(t,r);break;case 13:ba(t,r),i&4&&V0(t,r),i&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Pj.bind(null,r),n1(t,r))));break;case 22:if(i=r.memoizedState!==null||Qs,!i){s=s!==null&&s.memoizedState!==null||gt,d=Qs;var h=gt;Qs=i,(gt=s)&&!h?ya(t,r,(r.subtreeFlags&8772)!==0):ba(t,r),Qs=d,gt=h}break;case 30:break;default:ba(t,r)}}function B0(t){var s=t.alternate;s!==null&&(t.alternate=null,B0(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&qo(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,Kt=!1;function Zs(t,s,r){for(r=r.child;r!==null;)U0(t,s,r),r=r.sibling}function U0(t,s,r){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(he,r)}catch{}switch(r.tag){case 26:gt||Ts(r,s),Zs(t,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:gt||Ts(r,s);var i=nt,d=Kt;Ca(r.type)&&(nt=r.stateNode,Kt=!1),Zs(t,s,r),ul(r.stateNode),nt=i,Kt=d;break;case 5:gt||Ts(r,s);case 6:if(i=nt,d=Kt,nt=null,Zs(t,s,r),nt=i,Kt=d,nt!==null)if(Kt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(r.stateNode)}catch(h){st(r,s,h)}else try{nt.removeChild(r.stateNode)}catch(h){st(r,s,h)}break;case 18:nt!==null&&(Kt?(t=nt,Ax(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),yl(t)):Ax(nt,r.stateNode));break;case 4:i=nt,d=Kt,nt=r.stateNode.containerInfo,Kt=!0,Zs(t,s,r),nt=i,Kt=d;break;case 0:case 11:case 14:case 15:gt||pa(2,r,s),gt||pa(4,r,s),Zs(t,s,r);break;case 1:gt||(Ts(r,s),i=r.stateNode,typeof i.componentWillUnmount=="function"&&M0(r,s,i)),Zs(t,s,r);break;case 21:Zs(t,s,r);break;case 22:gt=(i=gt)||r.memoizedState!==null,Zs(t,s,r),gt=i;break;default:Zs(t,s,r)}}function V0(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yl(t)}catch(r){st(s,s.return,r)}}function Rj(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new O0),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new O0),s;default:throw Error(o(435,t.tag))}}function cd(t,s){var r=Rj(t);s.forEach(function(i){var d=qj.bind(null,t,i);r.has(i)||(r.add(i),i.then(d,d))})}function es(t,s){var r=s.deletions;if(r!==null)for(var i=0;i<r.length;i++){var d=r[i],h=t,v=s,C=v;e:for(;C!==null;){switch(C.tag){case 27:if(Ca(C.type)){nt=C.stateNode,Kt=!1;break e}break;case 5:nt=C.stateNode,Kt=!1;break e;case 3:case 4:nt=C.stateNode.containerInfo,Kt=!0;break e}C=C.return}if(nt===null)throw Error(o(160));U0(h,v,d),nt=null,Kt=!1,h=d.alternate,h!==null&&(h.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)P0(s,t),s=s.sibling}var ys=null;function P0(t,s){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:es(s,t),ts(t),i&4&&(pa(3,t,t.return),tl(3,t),pa(5,t,t.return));break;case 1:es(s,t),ts(t),i&512&&(gt||r===null||Ts(r,r.return)),i&64&&Qs&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?i:r.concat(i))));break;case 26:var d=ys;if(es(s,t),ts(t),i&512&&(gt||r===null||Ts(r,r.return)),i&4){var h=r!==null?r.memoizedState:null;if(i=t.memoizedState,r===null)if(i===null)if(t.stateNode===null){e:{i=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(i){case"title":h=d.getElementsByTagName("title")[0],(!h||h[Ar]||h[_t]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=d.createElement(i),d.head.insertBefore(h,d.querySelector("head > title"))),zt(h,i,r),h[_t]=t,Tt(h),i=h;break e;case"link":var v=zx("link","href",d).get(i+(r.href||""));if(v){for(var C=0;C<v.length;C++)if(h=v[C],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(C,1);break t}}h=d.createElement(i),zt(h,i,r),d.head.appendChild(h);break;case"meta":if(v=zx("meta","content",d).get(i+(r.content||""))){for(C=0;C<v.length;C++)if(h=v[C],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(C,1);break t}}h=d.createElement(i),zt(h,i,r),d.head.appendChild(h);break;default:throw Error(o(468,i))}h[_t]=t,Tt(h),i=h}t.stateNode=i}else Ox(d,t.type,t.stateNode);else t.stateNode=Lx(d,i,t.memoizedProps);else h!==i?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,i===null?Ox(d,t.type,t.stateNode):Lx(d,i,t.memoizedProps)):i===null&&t.stateNode!==null&&rd(t,t.memoizedProps,r.memoizedProps)}break;case 27:es(s,t),ts(t),i&512&&(gt||r===null||Ts(r,r.return)),r!==null&&i&4&&rd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(es(s,t),ts(t),i&512&&(gt||r===null||Ts(r,r.return)),t.flags&32){d=t.stateNode;try{Tn(d,"")}catch(le){st(t,t.return,le)}}i&4&&t.stateNode!=null&&(d=t.memoizedProps,rd(t,d,r!==null?r.memoizedProps:d)),i&1024&&(od=!0);break;case 6:if(es(s,t),ts(t),i&4){if(t.stateNode===null)throw Error(o(162));i=t.memoizedProps,r=t.stateNode;try{r.nodeValue=i}catch(le){st(t,t.return,le)}}break;case 3:if(Qi=null,d=ys,ys=Ki(s.containerInfo),es(s,t),ys=d,ts(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{yl(s.containerInfo)}catch(le){st(t,t.return,le)}od&&(od=!1,q0(t));break;case 4:i=ys,ys=Ki(t.stateNode.containerInfo),es(s,t),ts(t),ys=i;break;case 12:es(s,t),ts(t);break;case 13:es(s,t),ts(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(xd=te()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,cd(t,i)));break;case 22:d=t.memoizedState!==null;var q=r!==null&&r.memoizedState!==null,ne=Qs,fe=gt;if(Qs=ne||d,gt=fe||q,es(s,t),gt=fe,Qs=ne,ts(t),i&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||q||Qs||gt||an(t)),r=null,s=t;;){if(s.tag===5||s.tag===26){if(r===null){q=r=s;try{if(h=q.stateNode,d)v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{C=q.stateNode;var je=q.memoizedProps.style,re=je!=null&&je.hasOwnProperty("display")?je.display:null;C.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(le){st(q,q.return,le)}}}else if(s.tag===6){if(r===null){q=s;try{q.stateNode.nodeValue=d?"":q.memoizedProps}catch(le){st(q,q.return,le)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}i&4&&(i=t.updateQueue,i!==null&&(r=i.retryQueue,r!==null&&(i.retryQueue=null,cd(t,r))));break;case 19:es(s,t),ts(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,cd(t,i)));break;case 30:break;case 21:break;default:es(s,t),ts(t)}}function ts(t){var s=t.flags;if(s&2){try{for(var r,i=t.return;i!==null;){if(L0(i)){r=i;break}i=i.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var d=r.stateNode,h=ld(t);Oi(t,h,d);break;case 5:var v=r.stateNode;r.flags&32&&(Tn(v,""),r.flags&=-33);var C=ld(t);Oi(t,C,v);break;case 3:case 4:var q=r.stateNode.containerInfo,ne=ld(t);id(t,ne,q);break;default:throw Error(o(161))}}catch(fe){st(t,t.return,fe)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function q0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;q0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ba(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_0(t,s.alternate,s),s=s.sibling}function an(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:pa(4,s,s.return),an(s);break;case 1:Ts(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&M0(s,s.return,r),an(s);break;case 27:ul(s.stateNode);case 26:case 5:Ts(s,s.return),an(s);break;case 22:s.memoizedState===null&&an(s);break;case 30:an(s);break;default:an(s)}t=t.sibling}}function ya(t,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var i=s.alternate,d=t,h=s,v=h.flags;switch(h.tag){case 0:case 11:case 15:ya(d,h,r),tl(4,h);break;case 1:if(ya(d,h,r),i=h,d=i.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(ne){st(i,i.return,ne)}if(i=h,d=i.updateQueue,d!==null){var C=i.stateNode;try{var q=d.shared.hiddenCallbacks;if(q!==null)for(d.shared.hiddenCallbacks=null,d=0;d<q.length;d++)gf(q[d],C)}catch(ne){st(i,i.return,ne)}}r&&v&64&&D0(h),sl(h,h.return);break;case 27:z0(h);case 26:case 5:ya(d,h,r),r&&i===null&&v&4&&R0(h),sl(h,h.return);break;case 12:ya(d,h,r);break;case 13:ya(d,h,r),r&&v&4&&V0(d,h);break;case 22:h.memoizedState===null&&ya(d,h,r),sl(h,h.return);break;case 30:break;default:ya(d,h,r)}s=s.sibling}}function dd(t,s){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&qr(r))}function ud(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&qr(t))}function Es(t,s,r,i){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)H0(t,s,r,i),s=s.sibling}function H0(t,s,r,i){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Es(t,s,r,i),d&2048&&tl(9,s);break;case 1:Es(t,s,r,i);break;case 3:Es(t,s,r,i),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&qr(t)));break;case 12:if(d&2048){Es(t,s,r,i),t=s.stateNode;try{var h=s.memoizedProps,v=h.id,C=h.onPostCommit;typeof C=="function"&&C(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(q){st(s,s.return,q)}}else Es(t,s,r,i);break;case 13:Es(t,s,r,i);break;case 23:break;case 22:h=s.stateNode,v=s.alternate,s.memoizedState!==null?h._visibility&2?Es(t,s,r,i):al(t,s):h._visibility&2?Es(t,s,r,i):(h._visibility|=2,$n(t,s,r,i,(s.subtreeFlags&10256)!==0)),d&2048&&dd(v,s);break;case 24:Es(t,s,r,i),d&2048&&ud(s.alternate,s);break;default:Es(t,s,r,i)}}function $n(t,s,r,i,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var h=t,v=s,C=r,q=i,ne=v.flags;switch(v.tag){case 0:case 11:case 15:$n(h,v,C,q,d),tl(8,v);break;case 23:break;case 22:var fe=v.stateNode;v.memoizedState!==null?fe._visibility&2?$n(h,v,C,q,d):al(h,v):(fe._visibility|=2,$n(h,v,C,q,d)),d&&ne&2048&&dd(v.alternate,v);break;case 24:$n(h,v,C,q,d),d&&ne&2048&&ud(v.alternate,v);break;default:$n(h,v,C,q,d)}s=s.sibling}}function al(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=t,i=s,d=i.flags;switch(i.tag){case 22:al(r,i),d&2048&&dd(i.alternate,i);break;case 24:al(r,i),d&2048&&ud(i.alternate,i);break;default:al(r,i)}s=s.sibling}}var nl=8192;function Gn(t){if(t.subtreeFlags&nl)for(t=t.child;t!==null;)I0(t),t=t.sibling}function I0(t){switch(t.tag){case 26:Gn(t),t.flags&nl&&t.memoizedState!==null&&p1(ys,t.memoizedState,t.memoizedProps);break;case 5:Gn(t);break;case 3:case 4:var s=ys;ys=Ki(t.stateNode.containerInfo),Gn(t),ys=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=nl,nl=16777216,Gn(t),nl=s):Gn(t));break;default:Gn(t)}}function F0(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function rl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];kt=i,$0(i,t)}F0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Y0(t),t=t.sibling}function Y0(t){switch(t.tag){case 0:case 11:case 15:rl(t),t.flags&2048&&pa(9,t,t.return);break;case 3:rl(t);break;case 12:rl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,_i(t)):rl(t);break;default:rl(t)}}function _i(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var i=s[r];kt=i,$0(i,t)}F0(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:pa(8,s,s.return),_i(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,_i(s));break;default:_i(s)}t=t.sibling}}function $0(t,s){for(;kt!==null;){var r=kt;switch(r.tag){case 0:case 11:case 15:pa(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var i=r.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:qr(r.memoizedState.cache)}if(i=r.child,i!==null)i.return=r,kt=i;else e:for(r=t;kt!==null;){i=kt;var d=i.sibling,h=i.return;if(B0(i),i===r){kt=null;break e}if(d!==null){d.return=h,kt=d;break e}kt=h}}}var Lj={getCacheForType:function(t){var s=Bt(Nt),r=s.data.get(t);return r===void 0&&(r=t(),s.data.set(t,r)),r}},zj=typeof WeakMap=="function"?WeakMap:Map,Qe=0,at=null,Fe=null,Ge=0,Ze=0,ss=null,va=!1,Kn=!1,md=!1,Js=0,ht=0,ja=0,nn=0,hd=0,hs=0,Xn=0,ll=null,Xt=null,fd=!1,xd=0,Bi=1/0,Ui=null,Na=null,Lt=0,wa=null,Qn=null,Zn=0,gd=0,pd=null,G0=null,il=0,bd=null;function as(){if((Qe&2)!==0&&Ge!==0)return Ge&-Ge;if(X.T!==null){var t=Un;return t!==0?t:Cd()}return oh()}function K0(){hs===0&&(hs=(Ge&536870912)===0||Xe?nh():536870912);var t=ms.current;return t!==null&&(t.flags|=32),hs}function ns(t,s,r){(t===at&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Jn(t,0),Sa(t,Ge,hs,!1)),Cr(t,r),((Qe&2)===0||t!==at)&&(t===at&&((Qe&2)===0&&(nn|=r),ht===4&&Sa(t,Ge,hs,!1)),ks(t))}function X0(t,s,r){if((Qe&6)!==0)throw Error(o(327));var i=!r&&(s&124)===0&&(s&t.expiredLanes)===0||Sr(t,s),d=i?Bj(t,s):jd(t,s,!0),h=i;do{if(d===0){Kn&&!i&&Sa(t,s,0,!1);break}else{if(r=t.current.alternate,h&&!Oj(r)){d=jd(t,s,!1),h=!1;continue}if(d===2){if(h=s,t.errorRecoveryDisabledLanes&h)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var C=t;d=ll;var q=C.current.memoizedState.isDehydrated;if(q&&(Jn(C,v).flags|=256),v=jd(C,v,!1),v!==2){if(md&&!q){C.errorRecoveryDisabledLanes|=h,nn|=h,d=4;break e}h=Xt,Xt=d,h!==null&&(Xt===null?Xt=h:Xt.push.apply(Xt,h))}d=v}if(h=!1,d!==2)continue}}if(d===1){Jn(t,0),Sa(t,s,0,!0);break}e:{switch(i=t,h=d,h){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Sa(i,s,hs,!va);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(d=xd+300-te(),10<d)){if(Sa(i,s,hs,!va),Xl(i,0,!0)!==0)break e;i.timeoutHandle=Sx(Q0.bind(null,i,r,Xt,Ui,fd,s,hs,nn,Xn,va,h,2,-0,0),d);break e}Q0(i,r,Xt,Ui,fd,s,hs,nn,Xn,va,h,0,-0,0)}}break}while(!0);ks(t)}function Q0(t,s,r,i,d,h,v,C,q,ne,fe,je,re,le){if(t.timeoutHandle=-1,je=s.subtreeFlags,(je&8192||(je&16785408)===16785408)&&(fl={stylesheets:null,count:0,unsuspend:g1},I0(s),je=b1(),je!==null)){t.cancelPendingCommit=je(ax.bind(null,t,s,h,r,i,d,v,C,q,fe,1,re,le)),Sa(t,h,v,!ne);return}ax(t,s,h,r,i,d,v,C,q)}function Oj(t){for(var s=t;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var i=0;i<r.length;i++){var d=r[i],h=d.getSnapshot;d=d.value;try{if(!Jt(h(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Sa(t,s,r,i){s&=~hd,s&=~nn,t.suspendedLanes|=s,t.pingedLanes&=~s,i&&(t.warmLanes|=s),i=t.expirationTimes;for(var d=s;0<d;){var h=31-At(d),v=1<<h;i[h]=-1,d&=~v}r!==0&&lh(t,r,s)}function Vi(){return(Qe&6)===0?(ol(0),!1):!0}function yd(){if(Fe!==null){if(Ze===0)var t=Fe.return;else t=Fe,Fs=Ja=null,_c(t),Fn=null,Jr=0,t=Fe;for(;t!==null;)k0(t.alternate,t),t=t.return;Fe=null}}function Jn(t,s){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Wj(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),yd(),at=t,Fe=r=qs(t.current,null),Ge=s,Ze=0,ss=null,va=!1,Kn=Sr(t,s),md=!1,Xn=hs=hd=nn=ja=ht=0,Xt=ll=null,fd=!1,(s&8)!==0&&(s|=s&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=s;0<i;){var d=31-At(i),h=1<<d;s|=t[d],i&=~h}return Js=s,ii(),r}function Z0(t,s){He=null,X.H=Ai,s===Ir||s===gi?(s=ff(),Ze=3):s===uf?(s=ff(),Ze=4):Ze=s===x0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ss=s,Fe===null&&(ht=1,Mi(t,os(s,t.current)))}function J0(){var t=X.H;return X.H=Ai,t===null?Ai:t}function W0(){var t=X.A;return X.A=Lj,t}function vd(){ht=4,va||(Ge&4194048)!==Ge&&ms.current!==null||(Kn=!0),(ja&134217727)===0&&(nn&134217727)===0||at===null||Sa(at,Ge,hs,!1)}function jd(t,s,r){var i=Qe;Qe|=2;var d=J0(),h=W0();(at!==t||Ge!==s)&&(Ui=null,Jn(t,s)),s=!1;var v=ht;e:do try{if(Ze!==0&&Fe!==null){var C=Fe,q=ss;switch(Ze){case 8:yd(),v=6;break e;case 3:case 2:case 9:case 6:ms.current===null&&(s=!0);var ne=Ze;if(Ze=0,ss=null,Wn(t,C,q,ne),r&&Kn){v=0;break e}break;default:ne=Ze,Ze=0,ss=null,Wn(t,C,q,ne)}}_j(),v=ht;break}catch(fe){Z0(t,fe)}while(!0);return s&&t.shellSuspendCounter++,Fs=Ja=null,Qe=i,X.H=d,X.A=h,Fe===null&&(at=null,Ge=0,ii()),v}function _j(){for(;Fe!==null;)ex(Fe)}function Bj(t,s){var r=Qe;Qe|=2;var i=J0(),d=W0();at!==t||Ge!==s?(Ui=null,Bi=te()+500,Jn(t,s)):Kn=Sr(t,s);e:do try{if(Ze!==0&&Fe!==null){s=Fe;var h=ss;t:switch(Ze){case 1:Ze=0,ss=null,Wn(t,s,h,1);break;case 2:case 9:if(mf(h)){Ze=0,ss=null,tx(s);break}s=function(){Ze!==2&&Ze!==9||at!==t||(Ze=7),ks(t)},h.then(s,s);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:mf(h)?(Ze=0,ss=null,tx(s)):(Ze=0,ss=null,Wn(t,s,h,7));break;case 5:var v=null;switch(Fe.tag){case 26:v=Fe.memoizedState;case 5:case 27:var C=Fe;if(!v||_x(v)){Ze=0,ss=null;var q=C.sibling;if(q!==null)Fe=q;else{var ne=C.return;ne!==null?(Fe=ne,Pi(ne)):Fe=null}break t}}Ze=0,ss=null,Wn(t,s,h,5);break;case 6:Ze=0,ss=null,Wn(t,s,h,6);break;case 8:yd(),ht=6;break e;default:throw Error(o(462))}}Uj();break}catch(fe){Z0(t,fe)}while(!0);return Fs=Ja=null,X.H=i,X.A=d,Qe=r,Fe!==null?0:(at=null,Ge=0,ii(),ht)}function Uj(){for(;Fe!==null&&!Ae();)ex(Fe)}function ex(t){var s=T0(t.alternate,t,Js);t.memoizedProps=t.pendingProps,s===null?Pi(t):Fe=s}function tx(t){var s=t,r=s.alternate;switch(s.tag){case 15:case 0:s=j0(r,s,s.pendingProps,s.type,void 0,Ge);break;case 11:s=j0(r,s,s.pendingProps,s.type.render,s.ref,Ge);break;case 5:_c(s);default:k0(r,s),s=Fe=tf(s,Js),s=T0(r,s,Js)}t.memoizedProps=t.pendingProps,s===null?Pi(t):Fe=s}function Wn(t,s,r,i){Fs=Ja=null,_c(s),Fn=null,Jr=0;var d=s.return;try{if(Tj(t,d,s,r,Ge)){ht=1,Mi(t,os(r,t.current)),Fe=null;return}}catch(h){if(d!==null)throw Fe=d,h;ht=1,Mi(t,os(r,t.current)),Fe=null;return}s.flags&32768?(Xe||i===1?t=!0:Kn||(Ge&536870912)!==0?t=!1:(va=t=!0,(i===2||i===9||i===3||i===6)&&(i=ms.current,i!==null&&i.tag===13&&(i.flags|=16384))),sx(s,t)):Pi(s)}function Pi(t){var s=t;do{if((s.flags&32768)!==0){sx(s,va);return}t=s.return;var r=kj(s.alternate,s,Js);if(r!==null){Fe=r;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=t}while(s!==null);ht===0&&(ht=5)}function sx(t,s){do{var r=Dj(t.alternate,t);if(r!==null){r.flags&=32767,Fe=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=r}while(t!==null);ht=6,Fe=null}function ax(t,s,r,i,d,h,v,C,q){t.cancelPendingCommit=null;do qi();while(Lt!==0);if((Qe&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(h=s.lanes|s.childLanes,h|=uc,gv(t,r,h,v,C,q),t===at&&(Fe=at=null,Ge=0),Qn=s,wa=t,Zn=r,gd=h,pd=d,G0=i,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Hj(M,function(){return ox(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||i){i=X.T,X.T=null,d=ee.p,ee.p=2,v=Qe,Qe|=4;try{Mj(t,s,r)}finally{Qe=v,ee.p=d,X.T=i}}Lt=1,nx(),rx(),lx()}}function nx(){if(Lt===1){Lt=0;var t=wa,s=Qn,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=X.T,X.T=null;var i=ee.p;ee.p=2;var d=Qe;Qe|=4;try{P0(s,t);var h=Ld,v=Yh(t.containerInfo),C=h.focusedElem,q=h.selectionRange;if(v!==C&&C&&C.ownerDocument&&Fh(C.ownerDocument.documentElement,C)){if(q!==null&&lc(C)){var ne=q.start,fe=q.end;if(fe===void 0&&(fe=ne),"selectionStart"in C)C.selectionStart=ne,C.selectionEnd=Math.min(fe,C.value.length);else{var je=C.ownerDocument||document,re=je&&je.defaultView||window;if(re.getSelection){var le=re.getSelection(),Ue=C.textContent.length,_e=Math.min(q.start,Ue),tt=q.end===void 0?_e:Math.min(q.end,Ue);!le.extend&&_e>tt&&(v=tt,tt=_e,_e=v);var W=Ih(C,_e),G=Ih(C,tt);if(W&&G&&(le.rangeCount!==1||le.anchorNode!==W.node||le.anchorOffset!==W.offset||le.focusNode!==G.node||le.focusOffset!==G.offset)){var ae=je.createRange();ae.setStart(W.node,W.offset),le.removeAllRanges(),_e>tt?(le.addRange(ae),le.extend(G.node,G.offset)):(ae.setEnd(G.node,G.offset),le.addRange(ae))}}}}for(je=[],le=C;le=le.parentNode;)le.nodeType===1&&je.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<je.length;C++){var ye=je[C];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Wi=!!Rd,Ld=Rd=null}finally{Qe=d,ee.p=i,X.T=r}}t.current=s,Lt=2}}function rx(){if(Lt===2){Lt=0;var t=wa,s=Qn,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=X.T,X.T=null;var i=ee.p;ee.p=2;var d=Qe;Qe|=4;try{_0(t,s.alternate,s)}finally{Qe=d,ee.p=i,X.T=r}}Lt=3}}function lx(){if(Lt===4||Lt===3){Lt=0,Oe();var t=wa,s=Qn,r=Zn,i=G0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Lt=5:(Lt=0,Qn=wa=null,ix(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Na=null),Vo(r),s=s.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(he,s,void 0,(s.current.flags&128)===128)}catch{}if(i!==null){s=X.T,d=ee.p,ee.p=2,X.T=null;try{for(var h=t.onRecoverableError,v=0;v<i.length;v++){var C=i[v];h(C.value,{componentStack:C.stack})}}finally{X.T=s,ee.p=d}}(Zn&3)!==0&&qi(),ks(t),d=t.pendingLanes,(r&4194090)!==0&&(d&42)!==0?t===bd?il++:(il=0,bd=t):il=0,ol(0)}}function ix(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,qr(s)))}function qi(t){return nx(),rx(),lx(),ox()}function ox(){if(Lt!==5)return!1;var t=wa,s=gd;gd=0;var r=Vo(Zn),i=X.T,d=ee.p;try{ee.p=32>r?32:r,X.T=null,r=pd,pd=null;var h=wa,v=Zn;if(Lt=0,Qn=wa=null,Zn=0,(Qe&6)!==0)throw Error(o(331));var C=Qe;if(Qe|=4,Y0(h.current),H0(h,h.current,v,r),Qe=C,ol(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(he,h)}catch{}return!0}finally{ee.p=d,X.T=i,ix(t,s)}}function cx(t,s,r){s=os(r,s),s=Qc(t.stateNode,s,2),t=ha(t,s,2),t!==null&&(Cr(t,2),ks(t))}function st(t,s,r){if(t.tag===3)cx(t,t,r);else for(;s!==null;){if(s.tag===3){cx(s,t,r);break}else if(s.tag===1){var i=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Na===null||!Na.has(i))){t=os(r,t),r=h0(2),i=ha(s,r,2),i!==null&&(f0(r,i,s,t),Cr(i,2),ks(i));break}}s=s.return}}function Nd(t,s,r){var i=t.pingCache;if(i===null){i=t.pingCache=new zj;var d=new Set;i.set(s,d)}else d=i.get(s),d===void 0&&(d=new Set,i.set(s,d));d.has(r)||(md=!0,d.add(r),t=Vj.bind(null,t,s,r),s.then(t,t))}function Vj(t,s,r){var i=t.pingCache;i!==null&&i.delete(s),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,at===t&&(Ge&r)===r&&(ht===4||ht===3&&(Ge&62914560)===Ge&&300>te()-xd?(Qe&2)===0&&Jn(t,0):hd|=r,Xn===Ge&&(Xn=0)),ks(t)}function dx(t,s){s===0&&(s=rh()),t=zn(t,s),t!==null&&(Cr(t,s),ks(t))}function Pj(t){var s=t.memoizedState,r=0;s!==null&&(r=s.retryLane),dx(t,r)}function qj(t,s){var r=0;switch(t.tag){case 13:var i=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(o(314))}i!==null&&i.delete(s),dx(t,r)}function Hj(t,s){return V(t,s)}var Hi=null,er=null,wd=!1,Ii=!1,Sd=!1,rn=0;function ks(t){t!==er&&t.next===null&&(er===null?Hi=er=t:er=er.next=t),Ii=!0,wd||(wd=!0,Fj())}function ol(t,s){if(!Sd&&Ii){Sd=!0;do for(var r=!1,i=Hi;i!==null;){if(t!==0){var d=i.pendingLanes;if(d===0)var h=0;else{var v=i.suspendedLanes,C=i.pingedLanes;h=(1<<31-At(42|t)+1)-1,h&=d&~(v&~C),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,fx(i,h))}else h=Ge,h=Xl(i,i===at?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(h&3)===0||Sr(i,h)||(r=!0,fx(i,h));i=i.next}while(r);Sd=!1}}function Ij(){ux()}function ux(){Ii=wd=!1;var t=0;rn!==0&&(Jj()&&(t=rn),rn=0);for(var s=te(),r=null,i=Hi;i!==null;){var d=i.next,h=mx(i,s);h===0?(i.next=null,r===null?Hi=d:r.next=d,d===null&&(er=r)):(r=i,(t!==0||(h&3)!==0)&&(Ii=!0)),i=d}ol(t)}function mx(t,s){for(var r=t.suspendedLanes,i=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var v=31-At(h),C=1<<v,q=d[v];q===-1?((C&r)===0||(C&i)!==0)&&(d[v]=xv(C,s)):q<=s&&(t.expiredLanes|=C),h&=~C}if(s=at,r=Ge,r=Xl(t,t===s?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,r===0||t===s&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&oe(i),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Sr(t,r)){if(s=r&-r,s===t.callbackPriority)return s;switch(i!==null&&oe(i),Vo(r)){case 2:case 8:r=F;break;case 32:r=M;break;case 268435456:r=we;break;default:r=M}return i=hx.bind(null,t),r=V(r,i),t.callbackPriority=s,t.callbackNode=r,s}return i!==null&&i!==null&&oe(i),t.callbackPriority=2,t.callbackNode=null,2}function hx(t,s){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(qi()&&t.callbackNode!==r)return null;var i=Ge;return i=Xl(t,t===at?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(X0(t,i,s),mx(t,te()),t.callbackNode!=null&&t.callbackNode===r?hx.bind(null,t):null)}function fx(t,s){if(qi())return null;X0(t,s,!0)}function Fj(){e1(function(){(Qe&6)!==0?V(Ne,Ij):ux()})}function Cd(){return rn===0&&(rn=nh()),rn}function xx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ei(""+t)}function gx(t,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,t.id&&r.setAttribute("form",t.id),s.parentNode.insertBefore(r,s),t=new FormData(t),r.parentNode.removeChild(r),t}function Yj(t,s,r,i,d){if(s==="submit"&&r&&r.stateNode===d){var h=xx((d[Yt]||null).action),v=i.submitter;v&&(s=(s=v[Yt]||null)?xx(s.formAction):v.getAttribute("formAction"),s!==null&&(h=s,v=null));var C=new ni("action","action",null,i,d);t.push({event:C,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(rn!==0){var q=v?gx(d,v):new FormData(d);Yc(r,{pending:!0,data:q,method:d.method,action:h},null,q)}}else typeof h=="function"&&(C.preventDefault(),q=v?gx(d,v):new FormData(d),Yc(r,{pending:!0,data:q,method:d.method,action:h},h,q))},currentTarget:d}]})}}for(var Ad=0;Ad<dc.length;Ad++){var Td=dc[Ad],$j=Td.toLowerCase(),Gj=Td[0].toUpperCase()+Td.slice(1);bs($j,"on"+Gj)}bs(Kh,"onAnimationEnd"),bs(Xh,"onAnimationIteration"),bs(Qh,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(dj,"onTransitionRun"),bs(uj,"onTransitionStart"),bs(mj,"onTransitionCancel"),bs(Zh,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function px(t,s){s=(s&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],d=i.event;i=i.listeners;e:{var h=void 0;if(s)for(var v=i.length-1;0<=v;v--){var C=i[v],q=C.instance,ne=C.currentTarget;if(C=C.listener,q!==h&&d.isPropagationStopped())break e;h=C,d.currentTarget=ne;try{h(d)}catch(fe){Di(fe)}d.currentTarget=null,h=q}else for(v=0;v<i.length;v++){if(C=i[v],q=C.instance,ne=C.currentTarget,C=C.listener,q!==h&&d.isPropagationStopped())break e;h=C,d.currentTarget=ne;try{h(d)}catch(fe){Di(fe)}d.currentTarget=null,h=q}}}}function Ye(t,s){var r=s[Po];r===void 0&&(r=s[Po]=new Set);var i=t+"__bubble";r.has(i)||(bx(s,t,2,!1),r.add(i))}function Ed(t,s,r){var i=0;s&&(i|=4),bx(r,t,i,s)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[Fi]){t[Fi]=!0,dh.forEach(function(r){r!=="selectionchange"&&(Kj.has(r)||Ed(r,!1,t),Ed(r,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Fi]||(s[Fi]=!0,Ed("selectionchange",!1,s))}}function bx(t,s,r,i){switch(Hx(s)){case 2:var d=j1;break;case 8:d=N1;break;default:d=Id}r=d.bind(null,s,r,t),d=void 0,!Zo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),i?d!==void 0?t.addEventListener(s,r,{capture:!0,passive:d}):t.addEventListener(s,r,!0):d!==void 0?t.addEventListener(s,r,{passive:d}):t.addEventListener(s,r,!1)}function Dd(t,s,r,i,d){var h=i;if((s&1)===0&&(s&2)===0&&i!==null)e:for(;;){if(i===null)return;var v=i.tag;if(v===3||v===4){var C=i.stateNode.containerInfo;if(C===d)break;if(v===4)for(v=i.return;v!==null;){var q=v.tag;if((q===3||q===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;C!==null;){if(v=jn(C),v===null)return;if(q=v.tag,q===5||q===6||q===26||q===27){i=h=v;continue e}C=C.parentNode}}i=i.return}Sh(function(){var ne=h,fe=Xo(r),je=[];e:{var re=Jh.get(t);if(re!==void 0){var le=ni,Ue=t;switch(t){case"keypress":if(si(r)===0)break e;case"keydown":case"keyup":le=Hv;break;case"focusin":Ue="focus",le=tc;break;case"focusout":Ue="blur",le=tc;break;case"beforeblur":case"afterblur":le=tc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=Yv;break;case Kh:case Xh:case Qh:le=Lv;break;case Zh:le=Gv;break;case"scroll":case"scrollend":le=Ev;break;case"wheel":le=Xv;break;case"copy":case"cut":case"paste":le=Ov;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=kh;break;case"toggle":case"beforetoggle":le=Zv}var _e=(s&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),W=_e?re!==null?re+"Capture":null:re;_e=[];for(var G=ne,ae;G!==null;){var ye=G;if(ae=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ae===null||W===null||(ye=Er(G,W),ye!=null&&_e.push(dl(G,ye,ae))),tt)break;G=G.return}0<_e.length&&(re=new le(re,Ue,null,r,fe),je.push({event:re,listeners:_e}))}}if((s&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",le=t==="mouseout"||t==="pointerout",re&&r!==Ko&&(Ue=r.relatedTarget||r.fromElement)&&(jn(Ue)||Ue[vn]))break e;if((le||re)&&(re=fe.window===fe?fe:(re=fe.ownerDocument)?re.defaultView||re.parentWindow:window,le?(Ue=r.relatedTarget||r.toElement,le=ne,Ue=Ue?jn(Ue):null,Ue!==null&&(tt=u(Ue),_e=Ue.tag,Ue!==tt||_e!==5&&_e!==27&&_e!==6)&&(Ue=null)):(le=null,Ue=ne),le!==Ue)){if(_e=Th,ye="onMouseLeave",W="onMouseEnter",G="mouse",(t==="pointerout"||t==="pointerover")&&(_e=kh,ye="onPointerLeave",W="onPointerEnter",G="pointer"),tt=le==null?re:Tr(le),ae=Ue==null?re:Tr(Ue),re=new _e(ye,G+"leave",le,r,fe),re.target=tt,re.relatedTarget=ae,ye=null,jn(fe)===ne&&(_e=new _e(W,G+"enter",Ue,r,fe),_e.target=ae,_e.relatedTarget=tt,ye=_e),tt=ye,le&&Ue)t:{for(_e=le,W=Ue,G=0,ae=_e;ae;ae=tr(ae))G++;for(ae=0,ye=W;ye;ye=tr(ye))ae++;for(;0<G-ae;)_e=tr(_e),G--;for(;0<ae-G;)W=tr(W),ae--;for(;G--;){if(_e===W||W!==null&&_e===W.alternate)break t;_e=tr(_e),W=tr(W)}_e=null}else _e=null;le!==null&&yx(je,re,le,_e,!1),Ue!==null&&tt!==null&&yx(je,tt,Ue,_e,!0)}}e:{if(re=ne?Tr(ne):window,le=re.nodeName&&re.nodeName.toLowerCase(),le==="select"||le==="input"&&re.type==="file")var Re=Bh;else if(Oh(re))if(Uh)Re=ij;else{Re=rj;var Ie=nj}else le=re.nodeName,!le||le.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ne&&Go(ne.elementType)&&(Re=Bh):Re=lj;if(Re&&(Re=Re(t,ne))){_h(je,Re,r,fe);break e}Ie&&Ie(t,re,ne),t==="focusout"&&ne&&re.type==="number"&&ne.memoizedProps.value!=null&&$o(re,"number",re.value)}switch(Ie=ne?Tr(ne):window,t){case"focusin":(Oh(Ie)||Ie.contentEditable==="true")&&(Mn=Ie,ic=ne,_r=null);break;case"focusout":_r=ic=Mn=null;break;case"mousedown":oc=!0;break;case"contextmenu":case"mouseup":case"dragend":oc=!1,$h(je,r,fe);break;case"selectionchange":if(cj)break;case"keydown":case"keyup":$h(je,r,fe)}var ze;if(ac)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Dn?Lh(t,r)&&(Be="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Be="onCompositionStart");Be&&(Dh&&r.locale!=="ko"&&(Dn||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Dn&&(ze=Ch()):(ca=fe,Jo="value"in ca?ca.value:ca.textContent,Dn=!0)),Ie=Yi(ne,Be),0<Ie.length&&(Be=new Eh(Be,t,null,r,fe),je.push({event:Be,listeners:Ie}),ze?Be.data=ze:(ze=zh(r),ze!==null&&(Be.data=ze)))),(ze=Wv?ej(t,r):tj(t,r))&&(Be=Yi(ne,"onBeforeInput"),0<Be.length&&(Ie=new Eh("onBeforeInput","beforeinput",null,r,fe),je.push({event:Ie,listeners:Be}),Ie.data=ze)),Yj(je,t,ne,r,fe)}px(je,s)})}function dl(t,s,r){return{instance:t,listener:s,currentTarget:r}}function Yi(t,s){for(var r=s+"Capture",i=[];t!==null;){var d=t,h=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||h===null||(d=Er(t,r),d!=null&&i.unshift(dl(t,d,h)),d=Er(t,s),d!=null&&i.push(dl(t,d,h))),t.tag===3)return i;t=t.return}return[]}function tr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yx(t,s,r,i,d){for(var h=s._reactName,v=[];r!==null&&r!==i;){var C=r,q=C.alternate,ne=C.stateNode;if(C=C.tag,q!==null&&q===i)break;C!==5&&C!==26&&C!==27||ne===null||(q=ne,d?(ne=Er(r,h),ne!=null&&v.unshift(dl(r,ne,q))):d||(ne=Er(r,h),ne!=null&&v.push(dl(r,ne,q)))),r=r.return}v.length!==0&&t.push({event:s,listeners:v})}var Xj=/\r\n?/g,Qj=/\u0000|\uFFFD/g;function vx(t){return(typeof t=="string"?t:""+t).replace(Xj,`
`).replace(Qj,"")}function jx(t,s){return s=vx(s),vx(t)===s}function $i(){}function et(t,s,r,i,d,h){switch(r){case"children":typeof i=="string"?s==="body"||s==="textarea"&&i===""||Tn(t,i):(typeof i=="number"||typeof i=="bigint")&&s!=="body"&&Tn(t,""+i);break;case"className":Zl(t,"class",i);break;case"tabIndex":Zl(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Zl(t,r,i);break;case"style":Nh(t,i,h);break;case"data":if(s!=="object"){Zl(t,"data",i);break}case"src":case"href":if(i===""&&(s!=="a"||r!=="href")){t.removeAttribute(r);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=ei(""+i),t.setAttribute(r,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(s!=="input"&&et(t,s,"name",d.name,d,null),et(t,s,"formEncType",d.formEncType,d,null),et(t,s,"formMethod",d.formMethod,d,null),et(t,s,"formTarget",d.formTarget,d,null)):(et(t,s,"encType",d.encType,d,null),et(t,s,"method",d.method,d,null),et(t,s,"target",d.target,d,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(r);break}i=ei(""+i),t.setAttribute(r,i);break;case"onClick":i!=null&&(t.onclick=$i);break;case"onScroll":i!=null&&Ye("scroll",t);break;case"onScrollEnd":i!=null&&Ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(r=i.__html,r!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}r=ei(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""+i):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":i===!0?t.setAttribute(r,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(r,i):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(r,i):t.removeAttribute(r);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(r):t.setAttribute(r,i);break;case"popover":Ye("beforetoggle",t),Ye("toggle",t),Ql(t,"popover",i);break;case"xlinkActuate":Vs(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Vs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Vs(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Vs(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Vs(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Vs(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Vs(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Vs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Vs(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Ql(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Av.get(r)||r,Ql(t,r,i))}}function Md(t,s,r,i,d,h){switch(r){case"style":Nh(t,i,h);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(o(61));if(r=i.__html,r!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=r}}break;case"children":typeof i=="string"?Tn(t,i):(typeof i=="number"||typeof i=="bigint")&&Tn(t,""+i);break;case"onScroll":i!=null&&Ye("scroll",t);break;case"onScrollEnd":i!=null&&Ye("scrollend",t);break;case"onClick":i!=null&&(t.onclick=$i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uh.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),h=t[Yt]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(s,h,d),typeof i=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(s,i,d);break e}r in t?t[r]=i:i===!0?t.setAttribute(r,""):Ql(t,r,i)}}}function zt(t,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",t),Ye("load",t);var i=!1,d=!1,h;for(h in r)if(r.hasOwnProperty(h)){var v=r[h];if(v!=null)switch(h){case"src":i=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:et(t,s,h,v,r,null)}}d&&et(t,s,"srcSet",r.srcSet,r,null),i&&et(t,s,"src",r.src,r,null);return;case"input":Ye("invalid",t);var C=h=v=d=null,q=null,ne=null;for(i in r)if(r.hasOwnProperty(i)){var fe=r[i];if(fe!=null)switch(i){case"name":d=fe;break;case"type":v=fe;break;case"checked":q=fe;break;case"defaultChecked":ne=fe;break;case"value":h=fe;break;case"defaultValue":C=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(o(137,s));break;default:et(t,s,i,fe,r,null)}}bh(t,h,C,q,ne,v,d,!1),Jl(t);return;case"select":Ye("invalid",t),i=v=h=null;for(d in r)if(r.hasOwnProperty(d)&&(C=r[d],C!=null))switch(d){case"value":h=C;break;case"defaultValue":v=C;break;case"multiple":i=C;default:et(t,s,d,C,r,null)}s=h,r=v,t.multiple=!!i,s!=null?An(t,!!i,s,!1):r!=null&&An(t,!!i,r,!0);return;case"textarea":Ye("invalid",t),h=d=i=null;for(v in r)if(r.hasOwnProperty(v)&&(C=r[v],C!=null))switch(v){case"value":i=C;break;case"defaultValue":d=C;break;case"children":h=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:et(t,s,v,C,r,null)}vh(t,i,d,h),Jl(t);return;case"option":for(q in r)if(r.hasOwnProperty(q)&&(i=r[q],i!=null))switch(q){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:et(t,s,q,i,r,null)}return;case"dialog":Ye("beforetoggle",t),Ye("toggle",t),Ye("cancel",t),Ye("close",t);break;case"iframe":case"object":Ye("load",t);break;case"video":case"audio":for(i=0;i<cl.length;i++)Ye(cl[i],t);break;case"image":Ye("error",t),Ye("load",t);break;case"details":Ye("toggle",t);break;case"embed":case"source":case"link":Ye("error",t),Ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in r)if(r.hasOwnProperty(ne)&&(i=r[ne],i!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:et(t,s,ne,i,r,null)}return;default:if(Go(s)){for(fe in r)r.hasOwnProperty(fe)&&(i=r[fe],i!==void 0&&Md(t,s,fe,i,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(i=r[C],i!=null&&et(t,s,C,i,r,null))}function Zj(t,s,r,i){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,h=null,v=null,C=null,q=null,ne=null,fe=null;for(le in r){var je=r[le];if(r.hasOwnProperty(le)&&je!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":q=je;default:i.hasOwnProperty(le)||et(t,s,le,null,i,je)}}for(var re in i){var le=i[re];if(je=r[re],i.hasOwnProperty(re)&&(le!=null||je!=null))switch(re){case"type":h=le;break;case"name":d=le;break;case"checked":ne=le;break;case"defaultChecked":fe=le;break;case"value":v=le;break;case"defaultValue":C=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(o(137,s));break;default:le!==je&&et(t,s,re,le,i,je)}}Yo(t,v,C,q,ne,fe,h,d);return;case"select":le=v=C=re=null;for(h in r)if(q=r[h],r.hasOwnProperty(h)&&q!=null)switch(h){case"value":break;case"multiple":le=q;default:i.hasOwnProperty(h)||et(t,s,h,null,i,q)}for(d in i)if(h=i[d],q=r[d],i.hasOwnProperty(d)&&(h!=null||q!=null))switch(d){case"value":re=h;break;case"defaultValue":C=h;break;case"multiple":v=h;default:h!==q&&et(t,s,d,h,i,q)}s=C,r=v,i=le,re!=null?An(t,!!r,re,!1):!!i!=!!r&&(s!=null?An(t,!!r,s,!0):An(t,!!r,r?[]:"",!1));return;case"textarea":le=re=null;for(C in r)if(d=r[C],r.hasOwnProperty(C)&&d!=null&&!i.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:et(t,s,C,null,i,d)}for(v in i)if(d=i[v],h=r[v],i.hasOwnProperty(v)&&(d!=null||h!=null))switch(v){case"value":re=d;break;case"defaultValue":le=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==h&&et(t,s,v,d,i,h)}yh(t,re,le);return;case"option":for(var Ue in r)if(re=r[Ue],r.hasOwnProperty(Ue)&&re!=null&&!i.hasOwnProperty(Ue))switch(Ue){case"selected":t.selected=!1;break;default:et(t,s,Ue,null,i,re)}for(q in i)if(re=i[q],le=r[q],i.hasOwnProperty(q)&&re!==le&&(re!=null||le!=null))switch(q){case"selected":t.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:et(t,s,q,re,i,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)re=r[_e],r.hasOwnProperty(_e)&&re!=null&&!i.hasOwnProperty(_e)&&et(t,s,_e,null,i,re);for(ne in i)if(re=i[ne],le=r[ne],i.hasOwnProperty(ne)&&re!==le&&(re!=null||le!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(o(137,s));break;default:et(t,s,ne,re,i,le)}return;default:if(Go(s)){for(var tt in r)re=r[tt],r.hasOwnProperty(tt)&&re!==void 0&&!i.hasOwnProperty(tt)&&Md(t,s,tt,void 0,i,re);for(fe in i)re=i[fe],le=r[fe],!i.hasOwnProperty(fe)||re===le||re===void 0&&le===void 0||Md(t,s,fe,re,i,le);return}}for(var W in r)re=r[W],r.hasOwnProperty(W)&&re!=null&&!i.hasOwnProperty(W)&&et(t,s,W,null,i,re);for(je in i)re=i[je],le=r[je],!i.hasOwnProperty(je)||re===le||re==null&&le==null||et(t,s,je,re,i,le)}var Rd=null,Ld=null;function Gi(t){return t.nodeType===9?t:t.ownerDocument}function Nx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wx(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function zd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Od=null;function Jj(){var t=window.event;return t&&t.type==="popstate"?t===Od?!1:(Od=t,!0):(Od=null,!1)}var Sx=typeof setTimeout=="function"?setTimeout:void 0,Wj=typeof clearTimeout=="function"?clearTimeout:void 0,Cx=typeof Promise=="function"?Promise:void 0,e1=typeof queueMicrotask=="function"?queueMicrotask:typeof Cx<"u"?function(t){return Cx.resolve(null).then(t).catch(t1)}:Sx;function t1(t){setTimeout(function(){throw t})}function Ca(t){return t==="head"}function Ax(t,s){var r=s,i=0,d=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"){if(0<i&&8>i){r=i;var v=t.ownerDocument;if(r&1&&ul(v.documentElement),r&2&&ul(v.body),r&4)for(r=v.head,ul(r),v=r.firstChild;v;){var C=v.nextSibling,q=v.nodeName;v[Ar]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=C}}if(d===0){t.removeChild(h),yl(s);return}d--}else r==="$"||r==="$?"||r==="$!"?d++:i=r.charCodeAt(0)-48;else i=0;r=h}while(r);yl(s)}function _d(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":_d(r),qo(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function s1(t,s,r,i){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Ar])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var h=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=vs(t.nextSibling),t===null)break}return null}function a1(t,s,r){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=vs(t.nextSibling),t===null))return null;return t}function Bd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function n1(t,s){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")s();else{var i=function(){s(),r.removeEventListener("DOMContentLoaded",i)};r.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function vs(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var Ud=null;function Tx(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return t;s--}else r==="/$"&&s++}t=t.previousSibling}return null}function Ex(t,s,r){switch(s=Gi(r),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function ul(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);qo(t)}var fs=new Map,kx=new Set;function Ki(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ws=ee.d;ee.d={f:r1,r:l1,D:i1,C:o1,L:c1,m:d1,X:m1,S:u1,M:h1};function r1(){var t=Ws.f(),s=Vi();return t||s}function l1(t){var s=Nn(t);s!==null&&s.tag===5&&s.type==="form"?Xf(s):Ws.r(t)}var sr=typeof document>"u"?null:document;function Dx(t,s,r){var i=sr;if(i&&typeof s=="string"&&s){var d=is(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),kx.has(d)||(kx.add(d),t={rel:t,crossOrigin:r,href:s},i.querySelector(d)===null&&(s=i.createElement("link"),zt(s,"link",t),Tt(s),i.head.appendChild(s)))}}function i1(t){Ws.D(t),Dx("dns-prefetch",t,null)}function o1(t,s){Ws.C(t,s),Dx("preconnect",t,s)}function c1(t,s,r){Ws.L(t,s,r);var i=sr;if(i&&t&&s){var d='link[rel="preload"][as="'+is(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+is(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+is(r.imageSizes)+'"]')):d+='[href="'+is(t)+'"]';var h=d;switch(s){case"style":h=ar(t);break;case"script":h=nr(t)}fs.has(h)||(t=p({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:t,as:s},r),fs.set(h,t),i.querySelector(d)!==null||s==="style"&&i.querySelector(ml(h))||s==="script"&&i.querySelector(hl(h))||(s=i.createElement("link"),zt(s,"link",t),Tt(s),i.head.appendChild(s)))}}function d1(t,s){Ws.m(t,s);var r=sr;if(r&&t){var i=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+is(i)+'"][href="'+is(t)+'"]',h=d;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=nr(t)}if(!fs.has(h)&&(t=p({rel:"modulepreload",href:t},s),fs.set(h,t),r.querySelector(d)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hl(h)))return}i=r.createElement("link"),zt(i,"link",t),Tt(i),r.head.appendChild(i)}}}function u1(t,s,r){Ws.S(t,s,r);var i=sr;if(i&&t){var d=wn(i).hoistableStyles,h=ar(t);s=s||"default";var v=d.get(h);if(!v){var C={loading:0,preload:null};if(v=i.querySelector(ml(h)))C.loading=5;else{t=p({rel:"stylesheet",href:t,"data-precedence":s},r),(r=fs.get(h))&&Vd(t,r);var q=v=i.createElement("link");Tt(q),zt(q,"link",t),q._p=new Promise(function(ne,fe){q.onload=ne,q.onerror=fe}),q.addEventListener("load",function(){C.loading|=1}),q.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Xi(v,s,i)}v={type:"stylesheet",instance:v,count:1,state:C},d.set(h,v)}}}function m1(t,s){Ws.X(t,s);var r=sr;if(r&&t){var i=wn(r).hoistableScripts,d=nr(t),h=i.get(d);h||(h=r.querySelector(hl(d)),h||(t=p({src:t,async:!0},s),(s=fs.get(d))&&Pd(t,s),h=r.createElement("script"),Tt(h),zt(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},i.set(d,h))}}function h1(t,s){Ws.M(t,s);var r=sr;if(r&&t){var i=wn(r).hoistableScripts,d=nr(t),h=i.get(d);h||(h=r.querySelector(hl(d)),h||(t=p({src:t,async:!0,type:"module"},s),(s=fs.get(d))&&Pd(t,s),h=r.createElement("script"),Tt(h),zt(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},i.set(d,h))}}function Mx(t,s,r,i){var d=(d=U.current)?Ki(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=ar(r.href),r=wn(d).hoistableStyles,i=r.get(s),i||(i={type:"style",instance:null,count:0,state:null},r.set(s,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ar(r.href);var h=wn(d).hoistableStyles,v=h.get(t);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,v),(h=d.querySelector(ml(t)))&&!h._p&&(v.instance=h,v.state.loading=5),fs.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},fs.set(t,r),h||f1(d,t,r,v.state))),s&&i===null)throw Error(o(528,""));return v}if(s&&i!==null)throw Error(o(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=nr(r),r=wn(d).hoistableScripts,i=r.get(s),i||(i={type:"script",instance:null,count:0,state:null},r.set(s,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function ar(t){return'href="'+is(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function Rx(t){return p({},t,{"data-precedence":t.precedence,precedence:null})}function f1(t,s,r,i){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?i.loading=1:(s=t.createElement("link"),i.preload=s,s.addEventListener("load",function(){return i.loading|=1}),s.addEventListener("error",function(){return i.loading|=2}),zt(s,"link",r),Tt(s),t.head.appendChild(s))}function nr(t){return'[src="'+is(t)+'"]'}function hl(t){return"script[async]"+t}function Lx(t,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var i=t.querySelector('style[data-href~="'+is(r.href)+'"]');if(i)return s.instance=i,Tt(i),i;var d=p({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Tt(i),zt(i,"style",d),Xi(i,r.precedence,t),s.instance=i;case"stylesheet":d=ar(r.href);var h=t.querySelector(ml(d));if(h)return s.state.loading|=4,s.instance=h,Tt(h),h;i=Rx(r),(d=fs.get(d))&&Vd(i,d),h=(t.ownerDocument||t).createElement("link"),Tt(h);var v=h;return v._p=new Promise(function(C,q){v.onload=C,v.onerror=q}),zt(h,"link",i),s.state.loading|=4,Xi(h,r.precedence,t),s.instance=h;case"script":return h=nr(r.src),(d=t.querySelector(hl(h)))?(s.instance=d,Tt(d),d):(i=r,(d=fs.get(h))&&(i=p({},r),Pd(i,d)),t=t.ownerDocument||t,d=t.createElement("script"),Tt(d),zt(d,"link",i),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(i=s.instance,s.state.loading|=4,Xi(i,r.precedence,t));return s.instance}function Xi(t,s,r){for(var i=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=i.length?i[i.length-1]:null,h=d,v=0;v<i.length;v++){var C=i[v];if(C.dataset.precedence===s)h=C;else if(h!==d)break}h?h.parentNode.insertBefore(t,h.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(t,s.firstChild))}function Vd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Pd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Qi=null;function zx(t,s,r){if(Qi===null){var i=new Map,d=Qi=new Map;d.set(r,i)}else d=Qi,i=d.get(r),i||(i=new Map,d.set(r,i));if(i.has(t))return i;for(i.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var h=r[d];if(!(h[Ar]||h[_t]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var v=h.getAttribute(s)||"";v=t+v;var C=i.get(v);C?C.push(h):i.set(v,[h])}}return i}function Ox(t,s,r){t=t.ownerDocument||t,t.head.insertBefore(r,s==="title"?t.querySelector("head > title"):null)}function x1(t,s,r){if(r===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function _x(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var fl=null;function g1(){}function p1(t,s,r){if(fl===null)throw Error(o(475));var i=fl;if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=ar(r.href),h=t.querySelector(ml(d));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=Zi.bind(i),t.then(i,i)),s.state.loading|=4,s.instance=h,Tt(h);return}h=t.ownerDocument||t,r=Rx(r),(d=fs.get(d))&&Vd(r,d),h=h.createElement("link"),Tt(h);var v=h;v._p=new Promise(function(C,q){v.onload=C,v.onerror=q}),zt(h,"link",r),s.instance=h}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(i.count++,s=Zi.bind(i),t.addEventListener("load",s),t.addEventListener("error",s))}}function b1(){if(fl===null)throw Error(o(475));var t=fl;return t.stylesheets&&t.count===0&&qd(t,t.stylesheets),0<t.count?function(s){var r=setTimeout(function(){if(t.stylesheets&&qd(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Zi(){if(this.count--,this.count===0){if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ji=null;function qd(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ji=new Map,s.forEach(y1,t),Ji=null,Zi.call(t))}function y1(t,s){if(!(s.state.loading&4)){var r=Ji.get(t);if(r)var i=r.get(null);else{r=new Map,Ji.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<d.length;h++){var v=d[h];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),i=v)}i&&r.set(null,i)}d=s.instance,v=d.getAttribute("data-precedence"),h=r.get(v)||i,h===i&&r.set(null,d),r.set(v,d),this.count++,i=Zi.bind(this),d.addEventListener("load",i),d.addEventListener("error",i),h?h.parentNode.insertBefore(d,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var xl={$$typeof:S,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function v1(t,s,r,i,d,h,v,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bo(0),this.hiddenUpdates=Bo(null),this.identifierPrefix=i,this.onUncaughtError=d,this.onCaughtError=h,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Bx(t,s,r,i,d,h,v,C,q,ne,fe,je){return t=new v1(t,s,r,v,C,q,ne,je),s=1,h===!0&&(s|=24),h=Wt(3,null,null,s),t.current=h,h.stateNode=t,s=Nc(),s.refCount++,t.pooledCache=s,s.refCount++,h.memoizedState={element:i,isDehydrated:r,cache:s},Ac(h),t}function Ux(t){return t?(t=On,t):On}function Vx(t,s,r,i,d,h){d=Ux(d),i.context===null?i.context=d:i.pendingContext=d,i=ma(s),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=ha(t,i,s),r!==null&&(ns(r,t,s),Yr(r,t,s))}function Px(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<s?r:s}}function Hd(t,s){Px(t,s),(t=t.alternate)&&Px(t,s)}function qx(t){if(t.tag===13){var s=zn(t,67108864);s!==null&&ns(s,t,67108864),Hd(t,67108864)}}var Wi=!0;function j1(t,s,r,i){var d=X.T;X.T=null;var h=ee.p;try{ee.p=2,Id(t,s,r,i)}finally{ee.p=h,X.T=d}}function N1(t,s,r,i){var d=X.T;X.T=null;var h=ee.p;try{ee.p=8,Id(t,s,r,i)}finally{ee.p=h,X.T=d}}function Id(t,s,r,i){if(Wi){var d=Fd(i);if(d===null)Dd(t,s,i,eo,r),Ix(t,i);else if(S1(d,t,s,r,i))i.stopPropagation();else if(Ix(t,i),s&4&&-1<w1.indexOf(t)){for(;d!==null;){var h=Nn(d);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var v=Ha(h.pendingLanes);if(v!==0){var C=h;for(C.pendingLanes|=2,C.entangledLanes|=2;v;){var q=1<<31-At(v);C.entanglements[1]|=q,v&=~q}ks(h),(Qe&6)===0&&(Bi=te()+500,ol(0))}}break;case 13:C=zn(h,2),C!==null&&ns(C,h,2),Vi(),Hd(h,2)}if(h=Fd(i),h===null&&Dd(t,s,i,eo,r),h===d)break;d=h}d!==null&&i.stopPropagation()}else Dd(t,s,i,null,r)}}function Fd(t){return t=Xo(t),Yd(t)}var eo=null;function Yd(t){if(eo=null,t=jn(t),t!==null){var s=u(t);if(s===null)t=null;else{var r=s.tag;if(r===13){if(t=m(s),t!==null)return t;t=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return eo=t,null}function Hx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(J()){case Ne:return 2;case F:return 8;case M:case de:return 32;case we:return 268435456;default:return 32}default:return 32}}var $d=!1,Aa=null,Ta=null,Ea=null,gl=new Map,pl=new Map,ka=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ix(t,s){switch(t){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":gl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(s.pointerId)}}function bl(t,s,r,i,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:s,domEventName:r,eventSystemFlags:i,nativeEvent:h,targetContainers:[d]},s!==null&&(s=Nn(s),s!==null&&qx(s)),t):(t.eventSystemFlags|=i,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function S1(t,s,r,i,d){switch(s){case"focusin":return Aa=bl(Aa,t,s,r,i,d),!0;case"dragenter":return Ta=bl(Ta,t,s,r,i,d),!0;case"mouseover":return Ea=bl(Ea,t,s,r,i,d),!0;case"pointerover":var h=d.pointerId;return gl.set(h,bl(gl.get(h)||null,t,s,r,i,d)),!0;case"gotpointercapture":return h=d.pointerId,pl.set(h,bl(pl.get(h)||null,t,s,r,i,d)),!0}return!1}function Fx(t){var s=jn(t.target);if(s!==null){var r=u(s);if(r!==null){if(s=r.tag,s===13){if(s=m(r),s!==null){t.blockedOn=s,pv(t.priority,function(){if(r.tag===13){var i=as();i=Uo(i);var d=zn(r,i);d!==null&&ns(d,r,i),Hd(r,i)}});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function to(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var r=Fd(t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);Ko=i,r.target.dispatchEvent(i),Ko=null}else return s=Nn(r),s!==null&&qx(s),t.blockedOn=r,!1;s.shift()}return!0}function Yx(t,s,r){to(t)&&r.delete(s)}function C1(){$d=!1,Aa!==null&&to(Aa)&&(Aa=null),Ta!==null&&to(Ta)&&(Ta=null),Ea!==null&&to(Ea)&&(Ea=null),gl.forEach(Yx),pl.forEach(Yx)}function so(t,s){t.blockedOn===s&&(t.blockedOn=null,$d||($d=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,C1)))}var ao=null;function $x(t){ao!==t&&(ao=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ao===t&&(ao=null);for(var s=0;s<t.length;s+=3){var r=t[s],i=t[s+1],d=t[s+2];if(typeof i!="function"){if(Yd(i||r)===null)continue;break}var h=Nn(r);h!==null&&(t.splice(s,3),s-=3,Yc(h,{pending:!0,data:d,method:r.method,action:i},i,d))}}))}function yl(t){function s(q){return so(q,t)}Aa!==null&&so(Aa,t),Ta!==null&&so(Ta,t),Ea!==null&&so(Ea,t),gl.forEach(s),pl.forEach(s);for(var r=0;r<ka.length;r++){var i=ka[r];i.blockedOn===t&&(i.blockedOn=null)}for(;0<ka.length&&(r=ka[0],r.blockedOn===null);)Fx(r),r.blockedOn===null&&ka.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(i=0;i<r.length;i+=3){var d=r[i],h=r[i+1],v=d[Yt]||null;if(typeof h=="function")v||$x(r);else if(v){var C=null;if(h&&h.hasAttribute("formAction")){if(d=h,v=h[Yt]||null)C=v.formAction;else if(Yd(d)!==null)continue}else C=v.action;typeof C=="function"?r[i+1]=C:(r.splice(i,3),i-=3),$x(r)}}}function Gd(t){this._internalRoot=t}no.prototype.render=Gd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var r=s.current,i=as();Vx(r,i,t,s,null,null)},no.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Vx(t.current,2,null,t,null,null),Vi(),s[vn]=null}};function no(t){this._internalRoot=t}no.prototype.unstable_scheduleHydration=function(t){if(t){var s=oh();t={blockedOn:null,target:t,priority:s};for(var r=0;r<ka.length&&s!==0&&s<ka[r].priority;r++);ka.splice(r,0,t),r===0&&Fx(t)}};var Gx=n.version;if(Gx!=="19.1.1")throw Error(o(527,Gx,"19.1.1"));ee.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=f(s),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var A1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{he=ro.inject(A1),Ee=ro}catch{}}return jl.createRoot=function(t,s){if(!c(t))throw Error(o(299));var r=!1,i="",d=c0,h=d0,v=u0,C=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(i=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(h=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=Bx(t,1,!1,null,null,r,i,d,h,v,C,null),t[vn]=s.current,kd(t),new Gd(s)},jl.hydrateRoot=function(t,s,r){if(!c(t))throw Error(o(299));var i=!1,d="",h=c0,v=d0,C=u0,q=null,ne=null;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(q=r.unstable_transitionCallbacks),r.formState!==void 0&&(ne=r.formState)),s=Bx(t,1,!0,s,r??null,i,d,h,v,C,q,ne),s.context=Ux(null),r=s.current,i=as(),i=Uo(i),d=ma(i),d.callback=null,ha(r,d,i),r=i,s.current.lanes=r,Cr(s,r),ks(s),t[vn]=s.current,kd(t),new no(s)},jl.version="19.1.1",jl}var ag;function O1(){if(ag)return Qd.exports;ag=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Qd.exports=z1(),Qd.exports}var _1=O1();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ng="popstate";function B1(a={}){function n(o,c){let{pathname:u,search:m,hash:x}=o.location;return Hu("",{pathname:u,search:m,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function l(o,c){return typeof c=="string"?c:Ml(c)}return V1(n,l,null,a)}function dt(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function zs(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function U1(){return Math.random().toString(36).substring(2,10)}function rg(a,n){return{usr:a.state,key:a.key,idx:n}}function Hu(a,n,l=null,o){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof n=="string"?br(n):n,state:l,key:n&&n.key||o||U1()}}function Ml({pathname:a="/",search:n="",hash:l=""}){return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),l&&l!=="#"&&(a+=l.charAt(0)==="#"?l:"#"+l),a}function br(a){let n={};if(a){let l=a.indexOf("#");l>=0&&(n.hash=a.substring(l),a=a.substring(0,l));let o=a.indexOf("?");o>=0&&(n.search=a.substring(o),a=a.substring(0,o)),a&&(n.pathname=a)}return n}function V1(a,n,l,o={}){let{window:c=document.defaultView,v5Compat:u=!1}=o,m=c.history,x="POP",f=null,g=p();g==null&&(g=0,m.replaceState({...m.state,idx:g},""));function p(){return(m.state||{idx:null}).idx}function y(){x="POP";let z=p(),N=z==null?null:z-g;g=z,f&&f({action:x,location:w.location,delta:N})}function j(z,N){x="PUSH";let E=Hu(w.location,z,N);g=p()+1;let S=rg(E,g),O=w.createHref(E);try{m.pushState(S,"",O)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;c.location.assign(O)}u&&f&&f({action:x,location:w.location,delta:1})}function T(z,N){x="REPLACE";let E=Hu(w.location,z,N);g=p();let S=rg(E,g),O=w.createHref(E);m.replaceState(S,"",O),u&&f&&f({action:x,location:w.location,delta:0})}function L(z){return P1(z)}let w={get action(){return x},get location(){return a(c,m)},listen(z){if(f)throw new Error("A history only accepts one active listener");return c.addEventListener(ng,y),f=z,()=>{c.removeEventListener(ng,y),f=null}},createHref(z){return n(c,z)},createURL:L,encodeLocation(z){let N=L(z);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:j,replace:T,go(z){return m.go(z)}};return w}function P1(a,n=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),dt(l,"No window.location.(origin|href) available to create URL");let o=typeof a=="string"?a:Ml(a);return o=o.replace(/ $/,"%20"),!n&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function rb(a,n,l="/"){return q1(a,n,l,!1)}function q1(a,n,l,o){let c=typeof n=="string"?br(n):n,u=sa(c.pathname||"/",l);if(u==null)return null;let m=lb(a);H1(m);let x=null;for(let f=0;x==null&&f<m.length;++f){let g=W1(u);x=Z1(m[f],g,o)}return x}function lb(a,n=[],l=[],o="",c=!1){let u=(m,x,f=c,g)=>{let p={relativePath:g===void 0?m.path||"":g,caseSensitive:m.caseSensitive===!0,childrenIndex:x,route:m};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(o)&&f)return;dt(p.relativePath.startsWith(o),`Absolute route path "${p.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(o.length)}let y=ea([o,p.relativePath]),j=l.concat(p);m.children&&m.children.length>0&&(dt(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),lb(m.children,n,j,y,f)),!(m.path==null&&!m.index)&&n.push({path:y,score:X1(y,m.index),routesMeta:j})};return a.forEach((m,x)=>{if(m.path===""||!m.path?.includes("?"))u(m,x);else for(let f of ib(m.path))u(m,x,!0,f)}),n}function ib(a){let n=a.split("/");if(n.length===0)return[];let[l,...o]=n,c=l.endsWith("?"),u=l.replace(/\?$/,"");if(o.length===0)return c?[u,""]:[u];let m=ib(o.join("/")),x=[];return x.push(...m.map(f=>f===""?u:[u,f].join("/"))),c&&x.push(...m),x.map(f=>a.startsWith("/")&&f===""?"/":f)}function H1(a){a.sort((n,l)=>n.score!==l.score?l.score-n.score:Q1(n.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var I1=/^:[\w-]+$/,F1=3,Y1=2,$1=1,G1=10,K1=-2,lg=a=>a==="*";function X1(a,n){let l=a.split("/"),o=l.length;return l.some(lg)&&(o+=K1),n&&(o+=Y1),l.filter(c=>!lg(c)).reduce((c,u)=>c+(I1.test(u)?F1:u===""?$1:G1),o)}function Q1(a,n){return a.length===n.length&&a.slice(0,-1).every((o,c)=>o===n[c])?a[a.length-1]-n[n.length-1]:0}function Z1(a,n,l=!1){let{routesMeta:o}=a,c={},u="/",m=[];for(let x=0;x<o.length;++x){let f=o[x],g=x===o.length-1,p=u==="/"?n:n.slice(u.length)||"/",y=vo({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},p),j=f.route;if(!y&&g&&l&&!o[o.length-1].route.index&&(y=vo({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!y)return null;Object.assign(c,y.params),m.push({params:c,pathname:ea([u,y.pathname]),pathnameBase:aN(ea([u,y.pathnameBase])),route:j}),y.pathnameBase!=="/"&&(u=ea([u,y.pathnameBase]))}return m}function vo(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[l,o]=J1(a.path,a.caseSensitive,a.end),c=n.match(l);if(!c)return null;let u=c[0],m=u.replace(/(.)\/+$/,"$1"),x=c.slice(1);return{params:o.reduce((g,{paramName:p,isOptional:y},j)=>{if(p==="*"){let L=x[j]||"";m=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const T=x[j];return y&&!T?g[p]=void 0:g[p]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:m,pattern:a}}function J1(a,n=!1,l=!0){zs(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let o=[],c="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,x,f)=>(o.push({paramName:x,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(o.push({paramName:"*"}),c+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?c+="\\/*$":a!==""&&a!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),o]}function W1(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return zs(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),a}}function sa(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let l=n.endsWith("/")?n.length-1:n.length,o=a.charAt(l);return o&&o!=="/"?null:a.slice(l)||"/"}function eN(a,n="/"){let{pathname:l,search:o="",hash:c=""}=typeof a=="string"?br(a):a;return{pathname:l?l.startsWith("/")?l:tN(l,n):n,search:nN(o),hash:rN(c)}}function tN(a,n){let l=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(c=>{c===".."?l.length>1&&l.pop():c!=="."&&l.push(c)}),l.length>1?l.join("/"):"/"}function eu(a,n,l,o){return`Cannot include a '${a}' character in a manually specified \`to.${n}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sN(a){return a.filter((n,l)=>l===0||n.route.path&&n.route.path.length>0)}function ob(a){let n=sN(a);return n.map((l,o)=>o===n.length-1?l.pathname:l.pathnameBase)}function cb(a,n,l,o=!1){let c;typeof a=="string"?c=br(a):(c={...a},dt(!c.pathname||!c.pathname.includes("?"),eu("?","pathname","search",c)),dt(!c.pathname||!c.pathname.includes("#"),eu("#","pathname","hash",c)),dt(!c.search||!c.search.includes("#"),eu("#","search","hash",c)));let u=a===""||c.pathname==="",m=u?"/":c.pathname,x;if(m==null)x=l;else{let y=n.length-1;if(!o&&m.startsWith("..")){let j=m.split("/");for(;j[0]==="..";)j.shift(),y-=1;c.pathname=j.join("/")}x=y>=0?n[y]:"/"}let f=eN(c,x),g=m&&m!=="/"&&m.endsWith("/"),p=(u||m===".")&&l.endsWith("/");return!f.pathname.endsWith("/")&&(g||p)&&(f.pathname+="/"),f}var ea=a=>a.join("/").replace(/\/\/+/g,"/"),aN=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),nN=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,rN=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function lN(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var db=["POST","PUT","PATCH","DELETE"];new Set(db);var iN=["GET",...db];new Set(iN);var yr=b.createContext(null);yr.displayName="DataRouter";var Do=b.createContext(null);Do.displayName="DataRouterState";b.createContext(!1);var ub=b.createContext({isTransitioning:!1});ub.displayName="ViewTransition";var oN=b.createContext(new Map);oN.displayName="Fetchers";var cN=b.createContext(null);cN.displayName="Await";var Bs=b.createContext(null);Bs.displayName="Navigation";var Vl=b.createContext(null);Vl.displayName="Location";var ia=b.createContext({outlet:null,matches:[],isDataRoute:!1});ia.displayName="Route";var fm=b.createContext(null);fm.displayName="RouteError";function dN(a,{relative:n}={}){dt(Pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=b.useContext(Bs),{hash:c,pathname:u,search:m}=ql(a,{relative:n}),x=u;return l!=="/"&&(x=u==="/"?l:ea([l,u])),o.createHref({pathname:x,search:m,hash:c})}function Pl(){return b.useContext(Vl)!=null}function Pa(){return dt(Pl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Vl).location}var mb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hb(a){b.useContext(Bs).static||b.useLayoutEffect(a)}function ut(){let{isDataRoute:a}=b.useContext(ia);return a?wN():uN()}function uN(){dt(Pl(),"useNavigate() may be used only in the context of a <Router> component.");let a=b.useContext(yr),{basename:n,navigator:l}=b.useContext(Bs),{matches:o}=b.useContext(ia),{pathname:c}=Pa(),u=JSON.stringify(ob(o)),m=b.useRef(!1);return hb(()=>{m.current=!0}),b.useCallback((f,g={})=>{if(zs(m.current,mb),!m.current)return;if(typeof f=="number"){l.go(f);return}let p=cb(f,JSON.parse(u),c,g.relative==="path");a==null&&n!=="/"&&(p.pathname=p.pathname==="/"?n:ea([n,p.pathname])),(g.replace?l.replace:l.push)(p,g.state,g)},[n,l,u,c,a])}b.createContext(null);function ql(a,{relative:n}={}){let{matches:l}=b.useContext(ia),{pathname:o}=Pa(),c=JSON.stringify(ob(l));return b.useMemo(()=>cb(a,JSON.parse(c),o,n==="path"),[a,c,o,n])}function mN(a,n){return fb(a,n)}function fb(a,n,l,o,c){dt(Pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=b.useContext(Bs),{matches:m}=b.useContext(ia),x=m[m.length-1],f=x?x.params:{},g=x?x.pathname:"/",p=x?x.pathnameBase:"/",y=x&&x.route;{let E=y&&y.path||"";xb(g,!y||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let j=Pa(),T;if(n){let E=typeof n=="string"?br(n):n;dt(p==="/"||E.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),T=E}else T=j;let L=T.pathname||"/",w=L;if(p!=="/"){let E=p.replace(/^\//,"").split("/");w="/"+L.replace(/^\//,"").split("/").slice(E.length).join("/")}let z=rb(a,{pathname:w});zs(y||z!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),zs(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=pN(z&&z.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:ea([p,u.encodeLocation?u.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:ea([p,u.encodeLocation?u.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),m,l,o,c);return n&&N?b.createElement(Vl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},N):N}function hN(){let a=NN(),n=lN(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),l=a instanceof Error?a.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",a),m=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:u},"ErrorBoundary")," or"," ",b.createElement("code",{style:u},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},n),l?b.createElement("pre",{style:c},l):null,m)}var fN=b.createElement(hN,null),xN=class extends b.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){this.props.unstable_onError?this.props.unstable_onError(a,n):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?b.createElement(ia.Provider,{value:this.props.routeContext},b.createElement(fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gN({routeContext:a,match:n,children:l}){let o=b.useContext(yr);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(ia.Provider,{value:a},l)}function pN(a,n=[],l=null,o=null,c=null){if(a==null){if(!l)return null;if(l.errors)a=l.matches;else if(n.length===0&&!l.initialized&&l.matches.length>0)a=l.matches;else return null}let u=a,m=l?.errors;if(m!=null){let g=u.findIndex(p=>p.route.id&&m?.[p.route.id]!==void 0);dt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let x=!1,f=-1;if(l)for(let g=0;g<u.length;g++){let p=u[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=g),p.route.id){let{loaderData:y,errors:j}=l,T=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!j||j[p.route.id]===void 0);if(p.route.lazy||T){x=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}return u.reduceRight((g,p,y)=>{let j,T=!1,L=null,w=null;l&&(j=m&&p.route.id?m[p.route.id]:void 0,L=p.route.errorElement||fN,x&&(f<0&&y===0?(xb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,w=null):f===y&&(T=!0,w=p.route.hydrateFallbackElement||null)));let z=n.concat(u.slice(0,y+1)),N=()=>{let E;return j?E=L:T?E=w:p.route.Component?E=b.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=g,b.createElement(gN,{match:p,routeContext:{outlet:g,matches:z,isDataRoute:l!=null},children:E})};return l&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?b.createElement(xN,{location:l.location,revalidation:l.revalidation,component:L,error:j,children:N(),routeContext:{outlet:null,matches:z,isDataRoute:!0},unstable_onError:o}):N()},null)}function xm(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bN(a){let n=b.useContext(yr);return dt(n,xm(a)),n}function yN(a){let n=b.useContext(Do);return dt(n,xm(a)),n}function vN(a){let n=b.useContext(ia);return dt(n,xm(a)),n}function gm(a){let n=vN(a),l=n.matches[n.matches.length-1];return dt(l.route.id,`${a} can only be used on routes that contain a unique "id"`),l.route.id}function jN(){return gm("useRouteId")}function NN(){let a=b.useContext(fm),n=yN("useRouteError"),l=gm("useRouteError");return a!==void 0?a:n.errors?.[l]}function wN(){let{router:a}=bN("useNavigate"),n=gm("useNavigate"),l=b.useRef(!1);return hb(()=>{l.current=!0}),b.useCallback(async(c,u={})=>{zs(l.current,mb),l.current&&(typeof c=="number"?a.navigate(c):await a.navigate(c,{fromRouteId:n,...u}))},[a,n])}var ig={};function xb(a,n,l){!n&&!ig[a]&&(ig[a]=!0,zs(!1,l))}b.memo(SN);function SN({routes:a,future:n,state:l,unstable_onError:o}){return fb(a,void 0,l,o,n)}function rt(a){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CN({basename:a="/",children:n=null,location:l,navigationType:o="POP",navigator:c,static:u=!1}){dt(!Pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=a.replace(/^\/*/,"/"),x=b.useMemo(()=>({basename:m,navigator:c,static:u,future:{}}),[m,c,u]);typeof l=="string"&&(l=br(l));let{pathname:f="/",search:g="",hash:p="",state:y=null,key:j="default"}=l,T=b.useMemo(()=>{let L=sa(f,m);return L==null?null:{location:{pathname:L,search:g,hash:p,state:y,key:j},navigationType:o}},[m,f,g,p,y,j,o]);return zs(T!=null,`<Router basename="${m}"> is not able to match the URL "${f}${g}${p}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:b.createElement(Bs.Provider,{value:x},b.createElement(Vl.Provider,{children:n,value:T}))}function AN({children:a,location:n}){return mN(Iu(a),n)}function Iu(a,n=[]){let l=[];return b.Children.forEach(a,(o,c)=>{if(!b.isValidElement(o))return;let u=[...n,c];if(o.type===b.Fragment){l.push.apply(l,Iu(o.props.children,u));return}dt(o.type===rt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=Iu(o.props.children,u)),l.push(m)}),l}var ho="get",fo="application/x-www-form-urlencoded";function Mo(a){return a!=null&&typeof a.tagName=="string"}function TN(a){return Mo(a)&&a.tagName.toLowerCase()==="button"}function EN(a){return Mo(a)&&a.tagName.toLowerCase()==="form"}function kN(a){return Mo(a)&&a.tagName.toLowerCase()==="input"}function DN(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function MN(a,n){return a.button===0&&(!n||n==="_self")&&!DN(a)}var lo=null;function RN(){if(lo===null)try{new FormData(document.createElement("form"),0),lo=!1}catch{lo=!0}return lo}var LN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tu(a){return a!=null&&!LN.has(a)?(zs(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fo}"`),null):a}function zN(a,n){let l,o,c,u,m;if(EN(a)){let x=a.getAttribute("action");o=x?sa(x,n):null,l=a.getAttribute("method")||ho,c=tu(a.getAttribute("enctype"))||fo,u=new FormData(a)}else if(TN(a)||kN(a)&&(a.type==="submit"||a.type==="image")){let x=a.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=a.getAttribute("formaction")||x.getAttribute("action");if(o=f?sa(f,n):null,l=a.getAttribute("formmethod")||x.getAttribute("method")||ho,c=tu(a.getAttribute("formenctype"))||tu(x.getAttribute("enctype"))||fo,u=new FormData(x,a),!RN()){let{name:g,type:p,value:y}=a;if(p==="image"){let j=g?`${g}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else g&&u.append(g,y)}}else{if(Mo(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=ho,o=null,c=fo,m=a}return u&&c==="text/plain"&&(m=u,u=void 0),{action:o,method:l.toLowerCase(),encType:c,formData:u,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pm(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function ON(a,n,l){let o=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return o.pathname==="/"?o.pathname=`_root.${l}`:n&&sa(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${l}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${l}`,o}async function _N(a,n){if(a.id in n)return n[a.id];try{let l=await import(a.module);return n[a.id]=l,l}catch(l){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BN(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function UN(a,n,l){let o=await Promise.all(a.map(async c=>{let u=n.routes[c.route.id];if(u){let m=await _N(u,l);return m.links?m.links():[]}return[]}));return HN(o.flat(1).filter(BN).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function og(a,n,l,o,c,u){let m=(f,g)=>l[g]?f.route.id!==l[g].route.id:!0,x=(f,g)=>l[g].pathname!==f.pathname||l[g].route.path?.endsWith("*")&&l[g].params["*"]!==f.params["*"];return u==="assets"?n.filter((f,g)=>m(f,g)||x(f,g)):u==="data"?n.filter((f,g)=>{let p=o.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(m(f,g)||x(f,g))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function VN(a,n,{includeHydrateFallback:l}={}){return PN(a.map(o=>{let c=n.routes[o.route.id];if(!c)return[];let u=[c.module];return c.clientActionModule&&(u=u.concat(c.clientActionModule)),c.clientLoaderModule&&(u=u.concat(c.clientLoaderModule)),l&&c.hydrateFallbackModule&&(u=u.concat(c.hydrateFallbackModule)),c.imports&&(u=u.concat(c.imports)),u}).flat(1))}function PN(a){return[...new Set(a)]}function qN(a){let n={},l=Object.keys(a).sort();for(let o of l)n[o]=a[o];return n}function HN(a,n){let l=new Set;return new Set(n),a.reduce((o,c)=>{let u=JSON.stringify(qN(c));return l.has(u)||(l.add(u),o.push({key:u,link:c})),o},[])}function gb(){let a=b.useContext(yr);return pm(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function IN(){let a=b.useContext(Do);return pm(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var bm=b.createContext(void 0);bm.displayName="FrameworkContext";function pb(){let a=b.useContext(bm);return pm(a,"You must render this element inside a <HydratedRouter> element"),a}function FN(a,n){let l=b.useContext(bm),[o,c]=b.useState(!1),[u,m]=b.useState(!1),{onFocus:x,onBlur:f,onMouseEnter:g,onMouseLeave:p,onTouchStart:y}=n,j=b.useRef(null);b.useEffect(()=>{if(a==="render"&&m(!0),a==="viewport"){let w=N=>{N.forEach(E=>{m(E.isIntersecting)})},z=new IntersectionObserver(w,{threshold:.5});return j.current&&z.observe(j.current),()=>{z.disconnect()}}},[a]),b.useEffect(()=>{if(o){let w=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(w)}}},[o]);let T=()=>{c(!0)},L=()=>{c(!1),m(!1)};return l?a!=="intent"?[u,j,{}]:[u,j,{onFocus:Nl(x,T),onBlur:Nl(f,L),onMouseEnter:Nl(g,T),onMouseLeave:Nl(p,L),onTouchStart:Nl(y,T)}]:[!1,j,{}]}function Nl(a,n){return l=>{a&&a(l),l.defaultPrevented||n(l)}}function YN({page:a,...n}){let{router:l}=gb(),o=b.useMemo(()=>rb(l.routes,a,l.basename),[l.routes,a,l.basename]);return o?b.createElement(GN,{page:a,matches:o,...n}):null}function $N(a){let{manifest:n,routeModules:l}=pb(),[o,c]=b.useState([]);return b.useEffect(()=>{let u=!1;return UN(a,n,l).then(m=>{u||c(m)}),()=>{u=!0}},[a,n,l]),o}function GN({page:a,matches:n,...l}){let o=Pa(),{manifest:c,routeModules:u}=pb(),{basename:m}=gb(),{loaderData:x,matches:f}=IN(),g=b.useMemo(()=>og(a,n,f,c,o,"data"),[a,n,f,c,o]),p=b.useMemo(()=>og(a,n,f,c,o,"assets"),[a,n,f,c,o]),y=b.useMemo(()=>{if(a===o.pathname+o.search+o.hash)return[];let L=new Set,w=!1;if(n.forEach(N=>{let E=c.routes[N.route.id];!E||!E.hasLoader||(!g.some(S=>S.route.id===N.route.id)&&N.route.id in x&&u[N.route.id]?.shouldRevalidate||E.hasClientLoader?w=!0:L.add(N.route.id))}),L.size===0)return[];let z=ON(a,m,"data");return w&&L.size>0&&z.searchParams.set("_routes",n.filter(N=>L.has(N.route.id)).map(N=>N.route.id).join(",")),[z.pathname+z.search]},[m,x,o,c,g,n,a,u]),j=b.useMemo(()=>VN(p,c),[p,c]),T=$N(p);return b.createElement(b.Fragment,null,y.map(L=>b.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...l})),j.map(L=>b.createElement("link",{key:L,rel:"modulepreload",href:L,...l})),T.map(({key:L,link:w})=>b.createElement("link",{key:L,nonce:l.nonce,...w})))}function KN(...a){return n=>{a.forEach(l=>{typeof l=="function"?l(n):l!=null&&(l.current=n)})}}var bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bb&&(window.__reactRouterVersion="7.8.2")}catch{}function XN({basename:a,children:n,window:l}){let o=b.useRef();o.current==null&&(o.current=B1({window:l,v5Compat:!0}));let c=o.current,[u,m]=b.useState({action:c.action,location:c.location}),x=b.useCallback(f=>{b.startTransition(()=>m(f))},[m]);return b.useLayoutEffect(()=>c.listen(x),[c,x]),b.createElement(CN,{basename:a,children:n,location:u.location,navigationType:u.action,navigator:c})}var yb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ta=b.forwardRef(function({onClick:n,discover:l="render",prefetch:o="none",relative:c,reloadDocument:u,replace:m,state:x,target:f,to:g,preventScrollReset:p,viewTransition:y,...j},T){let{basename:L}=b.useContext(Bs),w=typeof g=="string"&&yb.test(g),z,N=!1;if(typeof g=="string"&&w&&(z=g,bb))try{let P=new URL(window.location.href),D=g.startsWith("//")?new URL(P.protocol+g):new URL(g),k=sa(D.pathname,L);D.origin===P.origin&&k!=null?g=k+D.search+D.hash:N=!0}catch{zs(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=dN(g,{relative:c}),[S,O,A]=FN(o,j),$=WN(g,{replace:m,state:x,target:f,preventScrollReset:p,relative:c,viewTransition:y});function B(P){n&&n(P),P.defaultPrevented||$(P)}let H=b.createElement("a",{...j,...A,href:z||E,onClick:N||u?n:B,ref:KN(T,O),target:f,"data-discover":!w&&l==="render"?"true":void 0});return S&&!w?b.createElement(b.Fragment,null,H,b.createElement(YN,{page:E})):H});ta.displayName="Link";var QN=b.forwardRef(function({"aria-current":n="page",caseSensitive:l=!1,className:o="",end:c=!1,style:u,to:m,viewTransition:x,children:f,...g},p){let y=ql(m,{relative:g.relative}),j=Pa(),T=b.useContext(Do),{navigator:L,basename:w}=b.useContext(Bs),z=T!=null&&n2(y)&&x===!0,N=L.encodeLocation?L.encodeLocation(y).pathname:y.pathname,E=j.pathname,S=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;l||(E=E.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&w&&(S=sa(S,w)||S);const O=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let A=E===N||!c&&E.startsWith(N)&&E.charAt(O)==="/",$=S!=null&&(S===N||!c&&S.startsWith(N)&&S.charAt(N.length)==="/"),B={isActive:A,isPending:$,isTransitioning:z},H=A?n:void 0,P;typeof o=="function"?P=o(B):P=[o,A?"active":null,$?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(B):u;return b.createElement(ta,{...g,"aria-current":H,className:P,ref:p,style:D,to:m,viewTransition:x},typeof f=="function"?f(B):f)});QN.displayName="NavLink";var ZN=b.forwardRef(({discover:a="render",fetcherKey:n,navigate:l,reloadDocument:o,replace:c,state:u,method:m=ho,action:x,onSubmit:f,relative:g,preventScrollReset:p,viewTransition:y,...j},T)=>{let L=s2(),w=a2(x,{relative:g}),z=m.toLowerCase()==="get"?"get":"post",N=typeof x=="string"&&yb.test(x),E=S=>{if(f&&f(S),S.defaultPrevented)return;S.preventDefault();let O=S.nativeEvent.submitter,A=O?.getAttribute("formmethod")||m;L(O||S.currentTarget,{fetcherKey:n,method:A,navigate:l,replace:c,state:u,relative:g,preventScrollReset:p,viewTransition:y})};return b.createElement("form",{ref:T,method:z,action:w,onSubmit:o?f:E,...j,"data-discover":!N&&a==="render"?"true":void 0})});ZN.displayName="Form";function JN(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vb(a){let n=b.useContext(yr);return dt(n,JN(a)),n}function WN(a,{target:n,replace:l,state:o,preventScrollReset:c,relative:u,viewTransition:m}={}){let x=ut(),f=Pa(),g=ql(a,{relative:u});return b.useCallback(p=>{if(MN(p,n)){p.preventDefault();let y=l!==void 0?l:Ml(f)===Ml(g);x(a,{replace:y,state:o,preventScrollReset:c,relative:u,viewTransition:m})}},[f,x,g,l,o,n,a,c,u,m])}var e2=0,t2=()=>`__${String(++e2)}__`;function s2(){let{router:a}=vb("useSubmit"),{basename:n}=b.useContext(Bs),l=jN();return b.useCallback(async(o,c={})=>{let{action:u,method:m,encType:x,formData:f,body:g}=zN(o,n);if(c.navigate===!1){let p=c.fetcherKey||t2();await a.fetch(p,l,c.action||u,{preventScrollReset:c.preventScrollReset,formData:f,body:g,formMethod:c.method||m,formEncType:c.encType||x,flushSync:c.flushSync})}else await a.navigate(c.action||u,{preventScrollReset:c.preventScrollReset,formData:f,body:g,formMethod:c.method||m,formEncType:c.encType||x,replace:c.replace,state:c.state,fromRouteId:l,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,n,l])}function a2(a,{relative:n}={}){let{basename:l}=b.useContext(Bs),o=b.useContext(ia);dt(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),u={...ql(a||".",{relative:n})},m=Pa();if(a==null){u.search=m.search;let x=new URLSearchParams(u.search),f=x.getAll("index");if(f.some(p=>p==="")){x.delete("index"),f.filter(y=>y).forEach(y=>x.append("index",y));let p=x.toString();u.search=p?`?${p}`:""}}return(!a||a===".")&&c.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(u.pathname=u.pathname==="/"?l:ea([l,u.pathname])),Ml(u)}function n2(a,{relative:n}={}){let l=b.useContext(ub);dt(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=vb("useViewTransitionState"),c=ql(a,{relative:n});if(!l.isTransitioning)return!1;let u=sa(l.currentLocation.pathname,o)||l.currentLocation.pathname,m=sa(l.nextLocation.pathname,o)||l.nextLocation.pathname;return vo(c.pathname,m)!=null||vo(c.pathname,u)!=null}var jb=nb();const ym=b.createContext({});function vm(a){const n=b.useRef(null);return n.current===null&&(n.current=a()),n.current}const jm=typeof window<"u",Nb=jm?b.useLayoutEffect:b.useEffect,Ro=b.createContext(null);function Nm(a,n){a.indexOf(n)===-1&&a.push(n)}function wm(a,n){const l=a.indexOf(n);l>-1&&a.splice(l,1)}const aa=(a,n,l)=>l>n?n:l<a?a:l;let Sm=()=>{};const na={},wb=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function Sb(a){return typeof a=="object"&&a!==null}const Cb=a=>/^0[^.\s]+$/u.test(a);function Cm(a){let n;return()=>(n===void 0&&(n=a()),n)}const ps=a=>a,r2=(a,n)=>l=>n(a(l)),Hl=(...a)=>a.reduce(r2),Rl=(a,n,l)=>{const o=n-a;return o===0?1:(l-a)/o};class Am{constructor(){this.subscriptions=[]}add(n){return Nm(this.subscriptions,n),()=>wm(this.subscriptions,n)}notify(n,l,o){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](n,l,o);else for(let u=0;u<c;u++){const m=this.subscriptions[u];m&&m(n,l,o)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ms=a=>a*1e3,Rs=a=>a/1e3;function Ab(a,n){return n?a*(1e3/n):0}const Tb=(a,n,l)=>(((1-3*l+3*n)*a+(3*l-6*n))*a+3*n)*a,l2=1e-7,i2=12;function o2(a,n,l,o,c){let u,m,x=0;do m=n+(l-n)/2,u=Tb(m,o,c)-a,u>0?l=m:n=m;while(Math.abs(u)>l2&&++x<i2);return m}function Il(a,n,l,o){if(a===n&&l===o)return ps;const c=u=>o2(u,0,1,a,l);return u=>u===0||u===1?u:Tb(c(u),n,o)}const Eb=a=>n=>n<=.5?a(2*n)/2:(2-a(2*(1-n)))/2,kb=a=>n=>1-a(1-n),Db=Il(.33,1.53,.69,.99),Tm=kb(Db),Mb=Eb(Tm),Rb=a=>(a*=2)<1?.5*Tm(a):.5*(2-Math.pow(2,-10*(a-1))),Em=a=>1-Math.sin(Math.acos(a)),Lb=kb(Em),zb=Eb(Em),c2=Il(.42,0,1,1),d2=Il(0,0,.58,1),Ob=Il(.42,0,.58,1),u2=a=>Array.isArray(a)&&typeof a[0]!="number",_b=a=>Array.isArray(a)&&typeof a[0]=="number",m2={linear:ps,easeIn:c2,easeInOut:Ob,easeOut:d2,circIn:Em,circInOut:zb,circOut:Lb,backIn:Tm,backInOut:Mb,backOut:Db,anticipate:Rb},h2=a=>typeof a=="string",cg=a=>{if(_b(a)){Sm(a.length===4);const[n,l,o,c]=a;return Il(n,l,o,c)}else if(h2(a))return m2[a];return a},io=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function f2(a,n){let l=new Set,o=new Set,c=!1,u=!1;const m=new WeakSet;let x={delta:0,timestamp:0,isProcessing:!1};function f(p){m.has(p)&&(g.schedule(p),a()),p(x)}const g={schedule:(p,y=!1,j=!1)=>{const L=j&&c?l:o;return y&&m.add(p),L.has(p)||L.add(p),p},cancel:p=>{o.delete(p),m.delete(p)},process:p=>{if(x=p,c){u=!0;return}c=!0,[l,o]=[o,l],l.forEach(f),l.clear(),c=!1,u&&(u=!1,g.process(p))}};return g}const x2=40;function Bb(a,n){let l=!1,o=!0;const c={delta:0,timestamp:0,isProcessing:!1},u=()=>l=!0,m=io.reduce((S,O)=>(S[O]=f2(u),S),{}),{setup:x,read:f,resolveKeyframes:g,preUpdate:p,update:y,preRender:j,render:T,postRender:L}=m,w=()=>{const S=na.useManualTiming?c.timestamp:performance.now();l=!1,na.useManualTiming||(c.delta=o?1e3/60:Math.max(Math.min(S-c.timestamp,x2),1)),c.timestamp=S,c.isProcessing=!0,x.process(c),f.process(c),g.process(c),p.process(c),y.process(c),j.process(c),T.process(c),L.process(c),c.isProcessing=!1,l&&n&&(o=!1,a(w))},z=()=>{l=!0,o=!0,c.isProcessing||a(w)};return{schedule:io.reduce((S,O)=>{const A=m[O];return S[O]=($,B=!1,H=!1)=>(l||z(),A.schedule($,B,H)),S},{}),cancel:S=>{for(let O=0;O<io.length;O++)m[io[O]].cancel(S)},state:c,steps:m}}const{schedule:lt,cancel:Oa,state:Ot,steps:su}=Bb(typeof requestAnimationFrame<"u"?requestAnimationFrame:ps,!0);let xo;function g2(){xo=void 0}const Qt={now:()=>(xo===void 0&&Qt.set(Ot.isProcessing||na.useManualTiming?Ot.timestamp:performance.now()),xo),set:a=>{xo=a,queueMicrotask(g2)}},Ub=a=>n=>typeof n=="string"&&n.startsWith(a),km=Ub("--"),p2=Ub("var(--"),Dm=a=>p2(a)?b2.test(a.split("/*")[0].trim()):!1,b2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vr={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},Ll={...vr,transform:a=>aa(0,1,a)},oo={...vr,default:1},Al=a=>Math.round(a*1e5)/1e5,Mm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function y2(a){return a==null}const v2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Rm=(a,n)=>l=>!!(typeof l=="string"&&v2.test(l)&&l.startsWith(a)||n&&!y2(l)&&Object.prototype.hasOwnProperty.call(l,n)),Vb=(a,n,l)=>o=>{if(typeof o!="string")return o;const[c,u,m,x]=o.match(Mm);return{[a]:parseFloat(c),[n]:parseFloat(u),[l]:parseFloat(m),alpha:x!==void 0?parseFloat(x):1}},j2=a=>aa(0,255,a),au={...vr,transform:a=>Math.round(j2(a))},cn={test:Rm("rgb","red"),parse:Vb("red","green","blue"),transform:({red:a,green:n,blue:l,alpha:o=1})=>"rgba("+au.transform(a)+", "+au.transform(n)+", "+au.transform(l)+", "+Al(Ll.transform(o))+")"};function N2(a){let n="",l="",o="",c="";return a.length>5?(n=a.substring(1,3),l=a.substring(3,5),o=a.substring(5,7),c=a.substring(7,9)):(n=a.substring(1,2),l=a.substring(2,3),o=a.substring(3,4),c=a.substring(4,5),n+=n,l+=l,o+=o,c+=c),{red:parseInt(n,16),green:parseInt(l,16),blue:parseInt(o,16),alpha:c?parseInt(c,16)/255:1}}const Fu={test:Rm("#"),parse:N2,transform:cn.transform},Fl=a=>({test:n=>typeof n=="string"&&n.endsWith(a)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${a}`}),Ra=Fl("deg"),Ls=Fl("%"),Ve=Fl("px"),w2=Fl("vh"),S2=Fl("vw"),dg={...Ls,parse:a=>Ls.parse(a)/100,transform:a=>Ls.transform(a*100)},or={test:Rm("hsl","hue"),parse:Vb("hue","saturation","lightness"),transform:({hue:a,saturation:n,lightness:l,alpha:o=1})=>"hsla("+Math.round(a)+", "+Ls.transform(Al(n))+", "+Ls.transform(Al(l))+", "+Al(Ll.transform(o))+")"},jt={test:a=>cn.test(a)||Fu.test(a)||or.test(a),parse:a=>cn.test(a)?cn.parse(a):or.test(a)?or.parse(a):Fu.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?cn.transform(a):or.transform(a),getAnimatableNone:a=>{const n=jt.parse(a);return n.alpha=0,jt.transform(n)}},C2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function A2(a){return isNaN(a)&&typeof a=="string"&&(a.match(Mm)?.length||0)+(a.match(C2)?.length||0)>0}const Pb="number",qb="color",T2="var",E2="var(",ug="${}",k2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zl(a){const n=a.toString(),l=[],o={color:[],number:[],var:[]},c=[];let u=0;const x=n.replace(k2,f=>(jt.test(f)?(o.color.push(u),c.push(qb),l.push(jt.parse(f))):f.startsWith(E2)?(o.var.push(u),c.push(T2),l.push(f)):(o.number.push(u),c.push(Pb),l.push(parseFloat(f))),++u,ug)).split(ug);return{values:l,split:x,indexes:o,types:c}}function Hb(a){return zl(a).values}function Ib(a){const{split:n,types:l}=zl(a),o=n.length;return c=>{let u="";for(let m=0;m<o;m++)if(u+=n[m],c[m]!==void 0){const x=l[m];x===Pb?u+=Al(c[m]):x===qb?u+=jt.transform(c[m]):u+=c[m]}return u}}const D2=a=>typeof a=="number"?0:jt.test(a)?jt.getAnimatableNone(a):a;function M2(a){const n=Hb(a);return Ib(a)(n.map(D2))}const _a={test:A2,parse:Hb,createTransformer:Ib,getAnimatableNone:M2};function nu(a,n,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?a+(n-a)*6*l:l<1/2?n:l<2/3?a+(n-a)*(2/3-l)*6:a}function R2({hue:a,saturation:n,lightness:l,alpha:o}){a/=360,n/=100,l/=100;let c=0,u=0,m=0;if(!n)c=u=m=l;else{const x=l<.5?l*(1+n):l+n-l*n,f=2*l-x;c=nu(f,x,a+1/3),u=nu(f,x,a),m=nu(f,x,a-1/3)}return{red:Math.round(c*255),green:Math.round(u*255),blue:Math.round(m*255),alpha:o}}function jo(a,n){return l=>l>0?n:a}const ct=(a,n,l)=>a+(n-a)*l,ru=(a,n,l)=>{const o=a*a,c=l*(n*n-o)+o;return c<0?0:Math.sqrt(c)},L2=[Fu,cn,or],z2=a=>L2.find(n=>n.test(a));function mg(a){const n=z2(a);if(!n)return!1;let l=n.parse(a);return n===or&&(l=R2(l)),l}const hg=(a,n)=>{const l=mg(a),o=mg(n);if(!l||!o)return jo(a,n);const c={...l};return u=>(c.red=ru(l.red,o.red,u),c.green=ru(l.green,o.green,u),c.blue=ru(l.blue,o.blue,u),c.alpha=ct(l.alpha,o.alpha,u),cn.transform(c))},Yu=new Set(["none","hidden"]);function O2(a,n){return Yu.has(a)?l=>l<=0?a:n:l=>l>=1?n:a}function _2(a,n){return l=>ct(a,n,l)}function Lm(a){return typeof a=="number"?_2:typeof a=="string"?Dm(a)?jo:jt.test(a)?hg:V2:Array.isArray(a)?Fb:typeof a=="object"?jt.test(a)?hg:B2:jo}function Fb(a,n){const l=[...a],o=l.length,c=a.map((u,m)=>Lm(u)(u,n[m]));return u=>{for(let m=0;m<o;m++)l[m]=c[m](u);return l}}function B2(a,n){const l={...a,...n},o={};for(const c in l)a[c]!==void 0&&n[c]!==void 0&&(o[c]=Lm(a[c])(a[c],n[c]));return c=>{for(const u in o)l[u]=o[u](c);return l}}function U2(a,n){const l=[],o={color:0,var:0,number:0};for(let c=0;c<n.values.length;c++){const u=n.types[c],m=a.indexes[u][o[u]],x=a.values[m]??0;l[c]=x,o[u]++}return l}const V2=(a,n)=>{const l=_a.createTransformer(n),o=zl(a),c=zl(n);return o.indexes.var.length===c.indexes.var.length&&o.indexes.color.length===c.indexes.color.length&&o.indexes.number.length>=c.indexes.number.length?Yu.has(a)&&!c.values.length||Yu.has(n)&&!o.values.length?O2(a,n):Hl(Fb(U2(o,c),c.values),l):jo(a,n)};function Yb(a,n,l){return typeof a=="number"&&typeof n=="number"&&typeof l=="number"?ct(a,n,l):Lm(a)(a,n)}const P2=a=>{const n=({timestamp:l})=>a(l);return{start:(l=!0)=>lt.update(n,l),stop:()=>Oa(n),now:()=>Ot.isProcessing?Ot.timestamp:Qt.now()}},$b=(a,n,l=10)=>{let o="";const c=Math.max(Math.round(n/l),2);for(let u=0;u<c;u++)o+=Math.round(a(u/(c-1))*1e4)/1e4+", ";return`linear(${o.substring(0,o.length-2)})`},No=2e4;function zm(a){let n=0;const l=50;let o=a.next(n);for(;!o.done&&n<No;)n+=l,o=a.next(n);return n>=No?1/0:n}function q2(a,n=100,l){const o=l({...a,keyframes:[0,n]}),c=Math.min(zm(o),No);return{type:"keyframes",ease:u=>o.next(c*u).value/n,duration:Rs(c)}}const H2=5;function Gb(a,n,l){const o=Math.max(n-H2,0);return Ab(l-a(o),n-o)}const ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lu=.001;function I2({duration:a=ft.duration,bounce:n=ft.bounce,velocity:l=ft.velocity,mass:o=ft.mass}){let c,u,m=1-n;m=aa(ft.minDamping,ft.maxDamping,m),a=aa(ft.minDuration,ft.maxDuration,Rs(a)),m<1?(c=g=>{const p=g*m,y=p*a,j=p-l,T=$u(g,m),L=Math.exp(-y);return lu-j/T*L},u=g=>{const y=g*m*a,j=y*l+l,T=Math.pow(m,2)*Math.pow(g,2)*a,L=Math.exp(-y),w=$u(Math.pow(g,2),m);return(-c(g)+lu>0?-1:1)*((j-T)*L)/w}):(c=g=>{const p=Math.exp(-g*a),y=(g-l)*a+1;return-lu+p*y},u=g=>{const p=Math.exp(-g*a),y=(l-g)*(a*a);return p*y});const x=5/a,f=Y2(c,u,x);if(a=Ms(a),isNaN(f))return{stiffness:ft.stiffness,damping:ft.damping,duration:a};{const g=Math.pow(f,2)*o;return{stiffness:g,damping:m*2*Math.sqrt(o*g),duration:a}}}const F2=12;function Y2(a,n,l){let o=l;for(let c=1;c<F2;c++)o=o-a(o)/n(o);return o}function $u(a,n){return a*Math.sqrt(1-n*n)}const $2=["duration","bounce"],G2=["stiffness","damping","mass"];function fg(a,n){return n.some(l=>a[l]!==void 0)}function K2(a){let n={velocity:ft.velocity,stiffness:ft.stiffness,damping:ft.damping,mass:ft.mass,isResolvedFromDuration:!1,...a};if(!fg(a,G2)&&fg(a,$2))if(a.visualDuration){const l=a.visualDuration,o=2*Math.PI/(l*1.2),c=o*o,u=2*aa(.05,1,1-(a.bounce||0))*Math.sqrt(c);n={...n,mass:ft.mass,stiffness:c,damping:u}}else{const l=I2(a);n={...n,...l,mass:ft.mass},n.isResolvedFromDuration=!0}return n}function wo(a=ft.visualDuration,n=ft.bounce){const l=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:n}:a;let{restSpeed:o,restDelta:c}=l;const u=l.keyframes[0],m=l.keyframes[l.keyframes.length-1],x={done:!1,value:u},{stiffness:f,damping:g,mass:p,duration:y,velocity:j,isResolvedFromDuration:T}=K2({...l,velocity:-Rs(l.velocity||0)}),L=j||0,w=g/(2*Math.sqrt(f*p)),z=m-u,N=Rs(Math.sqrt(f/p)),E=Math.abs(z)<5;o||(o=E?ft.restSpeed.granular:ft.restSpeed.default),c||(c=E?ft.restDelta.granular:ft.restDelta.default);let S;if(w<1){const A=$u(N,w);S=$=>{const B=Math.exp(-w*N*$);return m-B*((L+w*N*z)/A*Math.sin(A*$)+z*Math.cos(A*$))}}else if(w===1)S=A=>m-Math.exp(-N*A)*(z+(L+N*z)*A);else{const A=N*Math.sqrt(w*w-1);S=$=>{const B=Math.exp(-w*N*$),H=Math.min(A*$,300);return m-B*((L+w*N*z)*Math.sinh(H)+A*z*Math.cosh(H))/A}}const O={calculatedDuration:T&&y||null,next:A=>{const $=S(A);if(T)x.done=A>=y;else{let B=A===0?L:0;w<1&&(B=A===0?Ms(L):Gb(S,A,$));const H=Math.abs(B)<=o,P=Math.abs(m-$)<=c;x.done=H&&P}return x.value=x.done?m:$,x},toString:()=>{const A=Math.min(zm(O),No),$=$b(B=>O.next(A*B).value,A,30);return A+"ms "+$},toTransition:()=>{}};return O}wo.applyToOptions=a=>{const n=q2(a,100,wo);return a.ease=n.ease,a.duration=Ms(n.duration),a.type="keyframes",a};function Gu({keyframes:a,velocity:n=0,power:l=.8,timeConstant:o=325,bounceDamping:c=10,bounceStiffness:u=500,modifyTarget:m,min:x,max:f,restDelta:g=.5,restSpeed:p}){const y=a[0],j={done:!1,value:y},T=H=>x!==void 0&&H<x||f!==void 0&&H>f,L=H=>x===void 0?f:f===void 0||Math.abs(x-H)<Math.abs(f-H)?x:f;let w=l*n;const z=y+w,N=m===void 0?z:m(z);N!==z&&(w=N-y);const E=H=>-w*Math.exp(-H/o),S=H=>N+E(H),O=H=>{const P=E(H),D=S(H);j.done=Math.abs(P)<=g,j.value=j.done?N:D};let A,$;const B=H=>{T(j.value)&&(A=H,$=wo({keyframes:[j.value,L(j.value)],velocity:Gb(S,H,j.value),damping:c,stiffness:u,restDelta:g,restSpeed:p}))};return B(0),{calculatedDuration:null,next:H=>{let P=!1;return!$&&A===void 0&&(P=!0,O(H),B(H)),A!==void 0&&H>=A?$.next(H-A):(!P&&O(H),j)}}}function X2(a,n,l){const o=[],c=l||na.mix||Yb,u=a.length-1;for(let m=0;m<u;m++){let x=c(a[m],a[m+1]);if(n){const f=Array.isArray(n)?n[m]||ps:n;x=Hl(f,x)}o.push(x)}return o}function Q2(a,n,{clamp:l=!0,ease:o,mixer:c}={}){const u=a.length;if(Sm(u===n.length),u===1)return()=>n[0];if(u===2&&n[0]===n[1])return()=>n[1];const m=a[0]===a[1];a[0]>a[u-1]&&(a=[...a].reverse(),n=[...n].reverse());const x=X2(n,o,c),f=x.length,g=p=>{if(m&&p<a[0])return n[0];let y=0;if(f>1)for(;y<a.length-2&&!(p<a[y+1]);y++);const j=Rl(a[y],a[y+1],p);return x[y](j)};return l?p=>g(aa(a[0],a[u-1],p)):g}function Z2(a,n){const l=a[a.length-1];for(let o=1;o<=n;o++){const c=Rl(0,n,o);a.push(ct(l,1,c))}}function J2(a){const n=[0];return Z2(n,a.length-1),n}function W2(a,n){return a.map(l=>l*n)}function ew(a,n){return a.map(()=>n||Ob).splice(0,a.length-1)}function Tl({duration:a=300,keyframes:n,times:l,ease:o="easeInOut"}){const c=u2(o)?o.map(cg):cg(o),u={done:!1,value:n[0]},m=W2(l&&l.length===n.length?l:J2(n),a),x=Q2(m,n,{ease:Array.isArray(c)?c:ew(n,c)});return{calculatedDuration:a,next:f=>(u.value=x(f),u.done=f>=a,u)}}const tw=a=>a!==null;function Om(a,{repeat:n,repeatType:l="loop"},o,c=1){const u=a.filter(tw),x=c<0||n&&l!=="loop"&&n%2===1?0:u.length-1;return!x||o===void 0?u[x]:o}const sw={decay:Gu,inertia:Gu,tween:Tl,keyframes:Tl,spring:wo};function Kb(a){typeof a.type=="string"&&(a.type=sw[a.type])}class _m{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(n=>{this.resolve=n})}notifyFinished(){this.resolve()}then(n,l){return this.finished.then(n,l)}}const aw=a=>a/100;class Bm extends _m{constructor(n){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:l}=this.options;l&&l.updatedAt!==Qt.now()&&this.tick(Qt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=n,this.initAnimation(),this.play(),n.autoplay===!1&&this.pause()}initAnimation(){const{options:n}=this;Kb(n);const{type:l=Tl,repeat:o=0,repeatDelay:c=0,repeatType:u,velocity:m=0}=n;let{keyframes:x}=n;const f=l||Tl;f!==Tl&&typeof x[0]!="number"&&(this.mixKeyframes=Hl(aw,Yb(x[0],x[1])),x=[0,100]);const g=f({...n,keyframes:x});u==="mirror"&&(this.mirroredGenerator=f({...n,keyframes:[...x].reverse(),velocity:-m})),g.calculatedDuration===null&&(g.calculatedDuration=zm(g));const{calculatedDuration:p}=g;this.calculatedDuration=p,this.resolvedDuration=p+c,this.totalDuration=this.resolvedDuration*(o+1)-c,this.generator=g}updateTime(n){const l=Math.round(n-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=l}tick(n,l=!1){const{generator:o,totalDuration:c,mixKeyframes:u,mirroredGenerator:m,resolvedDuration:x,calculatedDuration:f}=this;if(this.startTime===null)return o.next(0);const{delay:g=0,keyframes:p,repeat:y,repeatType:j,repeatDelay:T,type:L,onUpdate:w,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-c/this.speed,this.startTime)),l?this.currentTime=n:this.updateTime(n);const N=this.currentTime-g*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?N<0:N>c;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let S=this.currentTime,O=o;if(y){const H=Math.min(this.currentTime,c)/x;let P=Math.floor(H),D=H%1;!D&&H>=1&&(D=1),D===1&&P--,P=Math.min(P,y+1),!!(P%2)&&(j==="reverse"?(D=1-D,T&&(D-=T/x)):j==="mirror"&&(O=m)),S=aa(0,1,D)*x}const A=E?{done:!1,value:p[0]}:O.next(S);u&&(A.value=u(A.value));let{done:$}=A;!E&&f!==null&&($=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return B&&L!==Gu&&(A.value=Om(p,this.options,z,this.speed)),w&&w(A.value),B&&this.finish(),A}then(n,l){return this.finished.then(n,l)}get duration(){return Rs(this.calculatedDuration)}get time(){return Rs(this.currentTime)}set time(n){n=Ms(n),this.currentTime=n,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(n){this.updateTime(Qt.now());const l=this.playbackSpeed!==n;this.playbackSpeed=n,l&&(this.time=Rs(this.currentTime))}play(){if(this.isStopped)return;const{driver:n=P2,startTime:l}=this.options;this.driver||(this.driver=n(c=>this.tick(c))),this.options.onPlay?.();const o=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=o):this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime||(this.startTime=l??o),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}attachTimeline(n){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),n.observe(this)}}function nw(a){for(let n=1;n<a.length;n++)a[n]??(a[n]=a[n-1])}const dn=a=>a*180/Math.PI,Ku=a=>{const n=dn(Math.atan2(a[1],a[0]));return Xu(n)},rw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:Ku,rotateZ:Ku,skewX:a=>dn(Math.atan(a[1])),skewY:a=>dn(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},Xu=a=>(a=a%360,a<0&&(a+=360),a),xg=Ku,gg=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),pg=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),lw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gg,scaleY:pg,scale:a=>(gg(a)+pg(a))/2,rotateX:a=>Xu(dn(Math.atan2(a[6],a[5]))),rotateY:a=>Xu(dn(Math.atan2(-a[2],a[0]))),rotateZ:xg,rotate:xg,skewX:a=>dn(Math.atan(a[4])),skewY:a=>dn(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function Qu(a){return a.includes("scale")?1:0}function Zu(a,n){if(!a||a==="none")return Qu(n);const l=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let o,c;if(l)o=lw,c=l;else{const x=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);o=rw,c=x}if(!c)return Qu(n);const u=o[n],m=c[1].split(",").map(ow);return typeof u=="function"?u(m):m[u]}const iw=(a,n)=>{const{transform:l="none"}=getComputedStyle(a);return Zu(l,n)};function ow(a){return parseFloat(a.trim())}const jr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nr=new Set(jr),bg=a=>a===vr||a===Ve,cw=new Set(["x","y","z"]),dw=jr.filter(a=>!cw.has(a));function uw(a){const n=[];return dw.forEach(l=>{const o=a.getValue(l);o!==void 0&&(n.push([l,o.get()]),o.set(l.startsWith("scale")?1:0))}),n}const hn={width:({x:a},{paddingLeft:n="0",paddingRight:l="0"})=>a.max-a.min-parseFloat(n)-parseFloat(l),height:({y:a},{paddingTop:n="0",paddingBottom:l="0"})=>a.max-a.min-parseFloat(n)-parseFloat(l),top:(a,{top:n})=>parseFloat(n),left:(a,{left:n})=>parseFloat(n),bottom:({y:a},{top:n})=>parseFloat(n)+(a.max-a.min),right:({x:a},{left:n})=>parseFloat(n)+(a.max-a.min),x:(a,{transform:n})=>Zu(n,"x"),y:(a,{transform:n})=>Zu(n,"y")};hn.translateX=hn.x;hn.translateY=hn.y;const fn=new Set;let Ju=!1,Wu=!1,em=!1;function Xb(){if(Wu){const a=Array.from(fn).filter(o=>o.needsMeasurement),n=new Set(a.map(o=>o.element)),l=new Map;n.forEach(o=>{const c=uw(o);c.length&&(l.set(o,c),o.render())}),a.forEach(o=>o.measureInitialState()),n.forEach(o=>{o.render();const c=l.get(o);c&&c.forEach(([u,m])=>{o.getValue(u)?.set(m)})}),a.forEach(o=>o.measureEndState()),a.forEach(o=>{o.suspendedScrollY!==void 0&&window.scrollTo(0,o.suspendedScrollY)})}Wu=!1,Ju=!1,fn.forEach(a=>a.complete(em)),fn.clear()}function Qb(){fn.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(Wu=!0)})}function mw(){em=!0,Qb(),Xb(),em=!1}class Um{constructor(n,l,o,c,u,m=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...n],this.onComplete=l,this.name=o,this.motionValue=c,this.element=u,this.isAsync=m}scheduleResolve(){this.state="scheduled",this.isAsync?(fn.add(this),Ju||(Ju=!0,lt.read(Qb),lt.resolveKeyframes(Xb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:l,element:o,motionValue:c}=this;if(n[0]===null){const u=c?.get(),m=n[n.length-1];if(u!==void 0)n[0]=u;else if(o&&l){const x=o.readValue(l,m);x!=null&&(n[0]=x)}n[0]===void 0&&(n[0]=m),c&&u===void 0&&c.set(n[0])}nw(n)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(n=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,n),fn.delete(this)}cancel(){this.state==="scheduled"&&(fn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hw=a=>a.startsWith("--");function fw(a,n,l){hw(n)?a.style.setProperty(n,l):a.style[n]=l}const xw=Cm(()=>window.ScrollTimeline!==void 0),gw={};function pw(a,n){const l=Cm(a);return()=>gw[n]??l()}const Zb=pw(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cl=([a,n,l,o])=>`cubic-bezier(${a}, ${n}, ${l}, ${o})`,yg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cl([0,.65,.55,1]),circOut:Cl([.55,0,1,.45]),backIn:Cl([.31,.01,.66,-.59]),backOut:Cl([.33,1.53,.69,.99])};function Jb(a,n){if(a)return typeof a=="function"?Zb()?$b(a,n):"ease-out":_b(a)?Cl(a):Array.isArray(a)?a.map(l=>Jb(l,n)||yg.easeOut):yg[a]}function bw(a,n,l,{delay:o=0,duration:c=300,repeat:u=0,repeatType:m="loop",ease:x="easeOut",times:f}={},g=void 0){const p={[n]:l};f&&(p.offset=f);const y=Jb(x,c);Array.isArray(y)&&(p.easing=y);const j={delay:o,duration:c,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:u+1,direction:m==="reverse"?"alternate":"normal"};return g&&(j.pseudoElement=g),a.animate(p,j)}function Wb(a){return typeof a=="function"&&"applyToOptions"in a}function yw({type:a,...n}){return Wb(a)&&Zb()?a.applyToOptions(n):(n.duration??(n.duration=300),n.ease??(n.ease="easeOut"),n)}class vw extends _m{constructor(n){if(super(),this.finishedTime=null,this.isStopped=!1,!n)return;const{element:l,name:o,keyframes:c,pseudoElement:u,allowFlatten:m=!1,finalKeyframe:x,onComplete:f}=n;this.isPseudoElement=!!u,this.allowFlatten=m,this.options=n,Sm(typeof n.type!="string");const g=yw(n);this.animation=bw(l,o,c,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const p=Om(c,this.options,x,this.speed);this.updateMotionValue?this.updateMotionValue(p):fw(l,o,p),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:n}=this;n==="idle"||n==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const n=this.animation.effect?.getComputedTiming?.().duration||0;return Rs(Number(n))}get time(){return Rs(Number(this.animation.currentTime)||0)}set time(n){this.finishedTime=null,this.animation.currentTime=Ms(n)}get speed(){return this.animation.playbackRate}set speed(n){n<0&&(this.finishedTime=null),this.animation.playbackRate=n}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(n){this.animation.startTime=n}attachTimeline({timeline:n,observe:l}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,n&&xw()?(this.animation.timeline=n,ps):l(this)}}const ey={anticipate:Rb,backInOut:Mb,circInOut:zb};function jw(a){return a in ey}function Nw(a){typeof a.ease=="string"&&jw(a.ease)&&(a.ease=ey[a.ease])}const vg=10;class ww extends vw{constructor(n){Nw(n),Kb(n),super(n),n.startTime&&(this.startTime=n.startTime),this.options=n}updateMotionValue(n){const{motionValue:l,onUpdate:o,onComplete:c,element:u,...m}=this.options;if(!l)return;if(n!==void 0){l.set(n);return}const x=new Bm({...m,autoplay:!1}),f=Ms(this.finishedTime??this.time);l.setWithVelocity(x.sample(f-vg).value,x.sample(f).value,vg),x.stop()}}const jg=(a,n)=>n==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(_a.test(a)||a==="0")&&!a.startsWith("url("));function Sw(a){const n=a[0];if(a.length===1)return!0;for(let l=0;l<a.length;l++)if(a[l]!==n)return!0}function Cw(a,n,l,o){const c=a[0];if(c===null)return!1;if(n==="display"||n==="visibility")return!0;const u=a[a.length-1],m=jg(c,n),x=jg(u,n);return!m||!x?!1:Sw(a)||(l==="spring"||Wb(l))&&o}function tm(a){a.duration=0,a.type}const Aw=new Set(["opacity","clipPath","filter","transform"]),Tw=Cm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ew(a){const{motionValue:n,name:l,repeatDelay:o,repeatType:c,damping:u,type:m}=a;if(!(n?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:g}=n.owner.getProps();return Tw()&&l&&Aw.has(l)&&(l!=="transform"||!g)&&!f&&!o&&c!=="mirror"&&u!==0&&m!=="inertia"}const kw=40;class Dw extends _m{constructor({autoplay:n=!0,delay:l=0,type:o="keyframes",repeat:c=0,repeatDelay:u=0,repeatType:m="loop",keyframes:x,name:f,motionValue:g,element:p,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Qt.now();const j={autoplay:n,delay:l,type:o,repeat:c,repeatDelay:u,repeatType:m,name:f,motionValue:g,element:p,...y},T=p?.KeyframeResolver||Um;this.keyframeResolver=new T(x,(L,w,z)=>this.onKeyframesResolved(L,w,j,!z),f,g,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(n,l,o,c){this.keyframeResolver=void 0;const{name:u,type:m,velocity:x,delay:f,isHandoff:g,onUpdate:p}=o;this.resolvedAt=Qt.now(),Cw(n,u,m,x)||((na.instantAnimations||!f)&&p?.(Om(n,o,l)),n[0]=n[n.length-1],tm(o),o.repeat=0);const j={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>kw?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:l,...o,keyframes:n},T=!g&&Ew(j)?new ww({...j,element:j.motionValue.owner.current}):new Bm(j);T.finished.then(()=>this.notifyFinished()).catch(ps),this.pendingTimeline&&(this.stopTimeline=T.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=T}get finished(){return this._animation?this.animation.finished:this._finished}then(n,l){return this.finished.finally(n).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),mw()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(n){this.animation.time=n}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(n){this.animation.speed=n}get startTime(){return this.animation.startTime}attachTimeline(n){return this._animation?this.stopTimeline=this.animation.attachTimeline(n):this.pendingTimeline=n,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Mw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Rw(a){const n=Mw.exec(a);if(!n)return[,];const[,l,o,c]=n;return[`--${l??o}`,c]}function ty(a,n,l=1){const[o,c]=Rw(a);if(!o)return;const u=window.getComputedStyle(n).getPropertyValue(o);if(u){const m=u.trim();return wb(m)?parseFloat(m):m}return Dm(c)?ty(c,n,l+1):c}function Vm(a,n){return a?.[n]??a?.default??a}const sy=new Set(["width","height","top","left","right","bottom",...jr]),Lw={test:a=>a==="auto",parse:a=>a},ay=a=>n=>n.test(a),ny=[vr,Ve,Ls,Ra,S2,w2,Lw],Ng=a=>ny.find(ay(a));function zw(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||Cb(a):!0}const Ow=new Set(["brightness","contrast","saturate","opacity"]);function _w(a){const[n,l]=a.slice(0,-1).split("(");if(n==="drop-shadow")return a;const[o]=l.match(Mm)||[];if(!o)return a;const c=l.replace(o,"");let u=Ow.has(n)?1:0;return o!==l&&(u*=100),n+"("+u+c+")"}const Bw=/\b([a-z-]*)\(.*?\)/gu,sm={..._a,getAnimatableNone:a=>{const n=a.match(Bw);return n?n.map(_w).join(" "):a}},wg={...vr,transform:Math.round},Uw={rotate:Ra,rotateX:Ra,rotateY:Ra,rotateZ:Ra,scale:oo,scaleX:oo,scaleY:oo,scaleZ:oo,skew:Ra,skewX:Ra,skewY:Ra,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:Ll,originX:dg,originY:dg,originZ:Ve},Pm={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...Uw,zIndex:wg,fillOpacity:Ll,strokeOpacity:Ll,numOctaves:wg},Vw={...Pm,color:jt,backgroundColor:jt,outlineColor:jt,fill:jt,stroke:jt,borderColor:jt,borderTopColor:jt,borderRightColor:jt,borderBottomColor:jt,borderLeftColor:jt,filter:sm,WebkitFilter:sm},ry=a=>Vw[a];function ly(a,n){let l=ry(a);return l!==sm&&(l=_a),l.getAnimatableNone?l.getAnimatableNone(n):void 0}const Pw=new Set(["auto","none","0"]);function qw(a,n,l){let o=0,c;for(;o<a.length&&!c;){const u=a[o];typeof u=="string"&&!Pw.has(u)&&zl(u).values.length&&(c=a[o]),o++}if(c&&l)for(const u of n)a[u]=ly(l,c)}class Hw extends Um{constructor(n,l,o,c,u){super(n,l,o,c,u,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:l,name:o}=this;if(!l||!l.current)return;super.readKeyframes();for(let f=0;f<n.length;f++){let g=n[f];if(typeof g=="string"&&(g=g.trim(),Dm(g))){const p=ty(g,l.current);p!==void 0&&(n[f]=p),f===n.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!sy.has(o)||n.length!==2)return;const[c,u]=n,m=Ng(c),x=Ng(u);if(m!==x)if(bg(m)&&bg(x))for(let f=0;f<n.length;f++){const g=n[f];typeof g=="string"&&(n[f]=parseFloat(g))}else hn[o]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:l}=this,o=[];for(let c=0;c<n.length;c++)(n[c]===null||zw(n[c]))&&o.push(c);o.length&&qw(n,o,l)}measureInitialState(){const{element:n,unresolvedKeyframes:l,name:o}=this;if(!n||!n.current)return;o==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hn[o](n.measureViewportBox(),window.getComputedStyle(n.current)),l[0]=this.measuredOrigin;const c=l[l.length-1];c!==void 0&&n.getValue(o,c).jump(c,!1)}measureEndState(){const{element:n,name:l,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const c=n.getValue(l);c&&c.jump(this.measuredOrigin,!1);const u=o.length-1,m=o[u];o[u]=hn[l](n.measureViewportBox(),window.getComputedStyle(n.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),this.removedTransforms?.length&&this.removedTransforms.forEach(([x,f])=>{n.getValue(x).set(f)}),this.resolveNoneKeyframes()}}function Iw(a,n,l){if(a instanceof EventTarget)return[a];if(typeof a=="string"){let o=document;const c=l?.[a]??o.querySelectorAll(a);return c?Array.from(c):[]}return Array.from(a)}const iy=(a,n)=>n&&typeof a=="number"?n.transform(a):a;function oy(a){return Sb(a)&&"offsetHeight"in a}const Sg=30,Fw=a=>!isNaN(parseFloat(a));class Yw{constructor(n,l={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=o=>{const c=Qt.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(o),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(n),this.owner=l.owner}setCurrent(n){this.current=n,this.updatedAt=Qt.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=Fw(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,l){this.events[n]||(this.events[n]=new Am);const o=this.events[n].add(l);return n==="change"?()=>{o(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:o}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,l){this.passiveEffect=n,this.stopPassiveEffect=l}set(n){this.passiveEffect?this.passiveEffect(n,this.updateAndNotify):this.updateAndNotify(n)}setWithVelocity(n,l,o){this.set(l),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-o}jump(n,l=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,l&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(n){this.dependents||(this.dependents=new Set),this.dependents.add(n)}removeDependent(n){this.dependents&&this.dependents.delete(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=Qt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>Sg)return 0;const l=Math.min(this.updatedAt-this.prevUpdatedAt,Sg);return Ab(parseFloat(this.current)-parseFloat(this.prevFrameValue),l)}start(n){return this.stop(),new Promise(l=>{this.hasAnimated=!0,this.animation=n(l),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fr(a,n){return new Yw(a,n)}const{schedule:qm}=Bb(queueMicrotask,!1),Ns={x:!1,y:!1};function cy(){return Ns.x||Ns.y}function $w(a){return a==="x"||a==="y"?Ns[a]?null:(Ns[a]=!0,()=>{Ns[a]=!1}):Ns.x||Ns.y?null:(Ns.x=Ns.y=!0,()=>{Ns.x=Ns.y=!1})}function dy(a,n){const l=Iw(a),o=new AbortController,c={passive:!0,...n,signal:o.signal};return[l,c,()=>o.abort()]}function Cg(a){return!(a.pointerType==="touch"||cy())}function Gw(a,n,l={}){const[o,c,u]=dy(a,l),m=x=>{if(!Cg(x))return;const{target:f}=x,g=n(f,x);if(typeof g!="function"||!f)return;const p=y=>{Cg(y)&&(g(y),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,c)};return o.forEach(x=>{x.addEventListener("pointerenter",m,c)}),u}const uy=(a,n)=>n?a===n?!0:uy(a,n.parentElement):!1,Hm=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,Kw=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Xw(a){return Kw.has(a.tagName)||a.tabIndex!==-1}const go=new WeakSet;function Ag(a){return n=>{n.key==="Enter"&&a(n)}}function iu(a,n){a.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const Qw=(a,n)=>{const l=a.currentTarget;if(!l)return;const o=Ag(()=>{if(go.has(l))return;iu(l,"down");const c=Ag(()=>{iu(l,"up")}),u=()=>iu(l,"cancel");l.addEventListener("keyup",c,n),l.addEventListener("blur",u,n)});l.addEventListener("keydown",o,n),l.addEventListener("blur",()=>l.removeEventListener("keydown",o),n)};function Tg(a){return Hm(a)&&!cy()}function Zw(a,n,l={}){const[o,c,u]=dy(a,l),m=x=>{const f=x.currentTarget;if(!Tg(x))return;go.add(f);const g=n(f,x),p=(T,L)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",j),go.has(f)&&go.delete(f),Tg(T)&&typeof g=="function"&&g(T,{success:L})},y=T=>{p(T,f===window||f===document||l.useGlobalTarget||uy(f,T.target))},j=T=>{p(T,!1)};window.addEventListener("pointerup",y,c),window.addEventListener("pointercancel",j,c)};return o.forEach(x=>{(l.useGlobalTarget?window:x).addEventListener("pointerdown",m,c),oy(x)&&(x.addEventListener("focus",g=>Qw(g,c)),!Xw(x)&&!x.hasAttribute("tabindex")&&(x.tabIndex=0))}),u}function my(a){return Sb(a)&&"ownerSVGElement"in a}function Jw(a){return my(a)&&a.tagName==="svg"}const Vt=a=>!!(a&&a.getVelocity),Ww=[...ny,jt,_a],eS=a=>Ww.find(ay(a)),Im=b.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});class tS extends b.Component{getSnapshotBeforeUpdate(n){const l=this.props.childRef.current;if(l&&n.isPresent&&!this.props.isPresent){const o=l.offsetParent,c=oy(o)&&o.offsetWidth||0,u=this.props.sizeRef.current;u.height=l.offsetHeight||0,u.width=l.offsetWidth||0,u.top=l.offsetTop,u.left=l.offsetLeft,u.right=c-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sS({children:a,isPresent:n,anchorX:l,root:o}){const c=b.useId(),u=b.useRef(null),m=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:x}=b.useContext(Im);return b.useInsertionEffect(()=>{const{width:f,height:g,top:p,left:y,right:j}=m.current;if(n||!u.current||!f||!g)return;const T=l==="left"?`left: ${y}`:`right: ${j}`;u.current.dataset.motionPopId=c;const L=document.createElement("style");x&&(L.nonce=x);const w=o??document.head;return w.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${g}px !important;
            ${T}px !important;
            top: ${p}px !important;
          }
        `),()=>{w.contains(L)&&w.removeChild(L)}},[n]),e.jsx(tS,{isPresent:n,childRef:u,sizeRef:m,children:b.cloneElement(a,{ref:u})})}const aS=({children:a,initial:n,isPresent:l,onExitComplete:o,custom:c,presenceAffectsLayout:u,mode:m,anchorX:x,root:f})=>{const g=vm(nS),p=b.useId();let y=!0,j=b.useMemo(()=>(y=!1,{id:p,initial:n,isPresent:l,custom:c,onExitComplete:T=>{g.set(T,!0);for(const L of g.values())if(!L)return;o&&o()},register:T=>(g.set(T,!1),()=>g.delete(T))}),[l,g,o]);return u&&y&&(j={...j}),b.useMemo(()=>{g.forEach((T,L)=>g.set(L,!1))},[l]),b.useEffect(()=>{!l&&!g.size&&o&&o()},[l]),m==="popLayout"&&(a=e.jsx(sS,{isPresent:l,anchorX:x,root:f,children:a})),e.jsx(Ro.Provider,{value:j,children:a})};function nS(){return new Map}function hy(a=!0){const n=b.useContext(Ro);if(n===null)return[!0,null];const{isPresent:l,onExitComplete:o,register:c}=n,u=b.useId();b.useEffect(()=>{if(a)return c(u)},[a]);const m=b.useCallback(()=>a&&o&&o(u),[u,o,a]);return!l&&o?[!1,m]:[!0]}const co=a=>a.key||"";function Eg(a){const n=[];return b.Children.forEach(a,l=>{b.isValidElement(l)&&n.push(l)}),n}const ou=({children:a,custom:n,initial:l=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:u="sync",propagate:m=!1,anchorX:x="left",root:f})=>{const[g,p]=hy(m),y=b.useMemo(()=>Eg(a),[a]),j=m&&!g?[]:y.map(co),T=b.useRef(!0),L=b.useRef(y),w=vm(()=>new Map),[z,N]=b.useState(y),[E,S]=b.useState(y);Nb(()=>{T.current=!1,L.current=y;for(let $=0;$<E.length;$++){const B=co(E[$]);j.includes(B)?w.delete(B):w.get(B)!==!0&&w.set(B,!1)}},[E,j.length,j.join("-")]);const O=[];if(y!==z){let $=[...y];for(let B=0;B<E.length;B++){const H=E[B],P=co(H);j.includes(P)||($.splice(B,0,H),O.push(H))}return u==="wait"&&O.length&&($=O),S(Eg($)),N(y),null}const{forceRender:A}=b.useContext(ym);return e.jsx(e.Fragment,{children:E.map($=>{const B=co($),H=m&&!g?!1:y===E||j.includes(B),P=()=>{if(w.has(B))w.set(B,!0);else return;let D=!0;w.forEach(k=>{k||(D=!1)}),D&&(A?.(),S(L.current),m&&p?.(),o&&o())};return e.jsx(aS,{isPresent:H,initial:!T.current||l?void 0:!1,custom:n,presenceAffectsLayout:c,mode:u,root:f,onExitComplete:H?void 0:P,anchorX:x,children:$},B)})})},fy=b.createContext({strict:!1}),kg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xr={};for(const a in kg)xr[a]={isEnabled:n=>kg[a].some(l=>!!n[l])};function rS(a){for(const n in a)xr[n]={...xr[n],...a[n]}}const lS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function So(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||lS.has(a)}let xy=a=>!So(a);function iS(a){typeof a=="function"&&(xy=n=>n.startsWith("on")?!So(n):a(n))}try{iS(require("@emotion/is-prop-valid").default)}catch{}function oS(a,n,l){const o={};for(const c in a)c==="values"&&typeof a.values=="object"||(xy(c)||l===!0&&So(c)||!n&&!So(c)||a.draggable&&c.startsWith("onDrag"))&&(o[c]=a[c]);return o}const Lo=b.createContext({});function zo(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function Ol(a){return typeof a=="string"||Array.isArray(a)}const Fm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ym=["initial",...Fm];function Oo(a){return zo(a.animate)||Ym.some(n=>Ol(a[n]))}function gy(a){return!!(Oo(a)||a.variants)}function cS(a,n){if(Oo(a)){const{initial:l,animate:o}=a;return{initial:l===!1||Ol(l)?l:void 0,animate:Ol(o)?o:void 0}}return a.inherit!==!1?n:{}}function dS(a){const{initial:n,animate:l}=cS(a,b.useContext(Lo));return b.useMemo(()=>({initial:n,animate:l}),[Dg(n),Dg(l)])}function Dg(a){return Array.isArray(a)?a.join(" "):a}const _l={};function uS(a){for(const n in a)_l[n]=a[n],km(n)&&(_l[n].isCSSVariable=!0)}function py(a,{layout:n,layoutId:l}){return Nr.has(a)||a.startsWith("origin")||(n||l!==void 0)&&(!!_l[a]||a==="opacity")}const mS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},hS=jr.length;function fS(a,n,l){let o="",c=!0;for(let u=0;u<hS;u++){const m=jr[u],x=a[m];if(x===void 0)continue;let f=!0;if(typeof x=="number"?f=x===(m.startsWith("scale")?1:0):f=parseFloat(x)===0,!f||l){const g=iy(x,Pm[m]);if(!f){c=!1;const p=mS[m]||m;o+=`${p}(${g}) `}l&&(n[m]=g)}}return o=o.trim(),l?o=l(n,c?"":o):c&&(o="none"),o}function $m(a,n,l){const{style:o,vars:c,transformOrigin:u}=a;let m=!1,x=!1;for(const f in n){const g=n[f];if(Nr.has(f)){m=!0;continue}else if(km(f)){c[f]=g;continue}else{const p=iy(g,Pm[f]);f.startsWith("origin")?(x=!0,u[f]=p):o[f]=p}}if(n.transform||(m||l?o.transform=fS(n,a.transform,l):o.transform&&(o.transform="none")),x){const{originX:f="50%",originY:g="50%",originZ:p=0}=u;o.transformOrigin=`${f} ${g} ${p}`}}const Gm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function by(a,n,l){for(const o in n)!Vt(n[o])&&!py(o,l)&&(a[o]=n[o])}function xS({transformTemplate:a},n){return b.useMemo(()=>{const l=Gm();return $m(l,n,a),Object.assign({},l.vars,l.style)},[n])}function gS(a,n){const l=a.style||{},o={};return by(o,l,a),Object.assign(o,xS(a,n)),o}function pS(a,n){const l={},o=gS(a,n);return a.drag&&a.dragListener!==!1&&(l.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(l.tabIndex=0),l.style=o,l}const bS={offset:"stroke-dashoffset",array:"stroke-dasharray"},yS={offset:"strokeDashoffset",array:"strokeDasharray"};function vS(a,n,l=1,o=0,c=!0){a.pathLength=1;const u=c?bS:yS;a[u.offset]=Ve.transform(-o);const m=Ve.transform(n),x=Ve.transform(l);a[u.array]=`${m} ${x}`}function yy(a,{attrX:n,attrY:l,attrScale:o,pathLength:c,pathSpacing:u=1,pathOffset:m=0,...x},f,g,p){if($m(a,x,g),f){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:y,style:j}=a;y.transform&&(j.transform=y.transform,delete y.transform),(j.transform||y.transformOrigin)&&(j.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),j.transform&&(j.transformBox=p?.transformBox??"fill-box",delete y.transformBox),n!==void 0&&(y.x=n),l!==void 0&&(y.y=l),o!==void 0&&(y.scale=o),c!==void 0&&vS(y,c,u,m,!1)}const vy=()=>({...Gm(),attrs:{}}),jy=a=>typeof a=="string"&&a.toLowerCase()==="svg";function jS(a,n,l,o){const c=b.useMemo(()=>{const u=vy();return yy(u,n,jy(o),a.transformTemplate,a.style),{...u.attrs,style:{...u.style}}},[n]);if(a.style){const u={};by(u,a.style,a),c.style={...u,...c.style}}return c}const NS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Km(a){return typeof a!="string"||a.includes("-")?!1:!!(NS.indexOf(a)>-1||/[A-Z]/u.test(a))}function wS(a,n,l,{latestValues:o},c,u=!1){const x=(Km(a)?jS:pS)(n,o,c,a),f=oS(n,typeof a=="string",u),g=a!==b.Fragment?{...f,...x,ref:l}:{},{children:p}=n,y=b.useMemo(()=>Vt(p)?p.get():p,[p]);return b.createElement(a,{...g,children:y})}function Mg(a){const n=[{},{}];return a?.values.forEach((l,o)=>{n[0][o]=l.get(),n[1][o]=l.getVelocity()}),n}function Xm(a,n,l,o){if(typeof n=="function"){const[c,u]=Mg(o);n=n(l!==void 0?l:a.custom,c,u)}if(typeof n=="string"&&(n=a.variants&&a.variants[n]),typeof n=="function"){const[c,u]=Mg(o);n=n(l!==void 0?l:a.custom,c,u)}return n}function po(a){return Vt(a)?a.get():a}function SS({scrapeMotionValuesFromProps:a,createRenderState:n},l,o,c){return{latestValues:CS(l,o,c,a),renderState:n()}}function CS(a,n,l,o){const c={},u=o(a,{});for(const j in u)c[j]=po(u[j]);let{initial:m,animate:x}=a;const f=Oo(a),g=gy(a);n&&g&&!f&&a.inherit!==!1&&(m===void 0&&(m=n.initial),x===void 0&&(x=n.animate));let p=l?l.initial===!1:!1;p=p||m===!1;const y=p?x:m;if(y&&typeof y!="boolean"&&!zo(y)){const j=Array.isArray(y)?y:[y];for(let T=0;T<j.length;T++){const L=Xm(a,j[T]);if(L){const{transitionEnd:w,transition:z,...N}=L;for(const E in N){let S=N[E];if(Array.isArray(S)){const O=p?S.length-1:0;S=S[O]}S!==null&&(c[E]=S)}for(const E in w)c[E]=w[E]}}}return c}const Ny=a=>(n,l)=>{const o=b.useContext(Lo),c=b.useContext(Ro),u=()=>SS(a,n,o,c);return l?u():vm(u)};function Qm(a,n,l){const{style:o}=a,c={};for(const u in o)(Vt(o[u])||n.style&&Vt(n.style[u])||py(u,a)||l?.getValue(u)?.liveStyle!==void 0)&&(c[u]=o[u]);return c}const AS=Ny({scrapeMotionValuesFromProps:Qm,createRenderState:Gm});function wy(a,n,l){const o=Qm(a,n,l);for(const c in a)if(Vt(a[c])||Vt(n[c])){const u=jr.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;o[u]=a[c]}return o}const TS=Ny({scrapeMotionValuesFromProps:wy,createRenderState:vy}),ES=Symbol.for("motionComponentSymbol");function cr(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function kS(a,n,l){return b.useCallback(o=>{o&&a.onMount&&a.onMount(o),n&&(o?n.mount(o):n.unmount()),l&&(typeof l=="function"?l(o):cr(l)&&(l.current=o))},[n])}const Zm=a=>a.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),DS="framerAppearId",Sy="data-"+Zm(DS),Cy=b.createContext({});function MS(a,n,l,o,c){const{visualElement:u}=b.useContext(Lo),m=b.useContext(fy),x=b.useContext(Ro),f=b.useContext(Im).reducedMotion,g=b.useRef(null);o=o||m.renderer,!g.current&&o&&(g.current=o(a,{visualState:n,parent:u,props:l,presenceContext:x,blockInitialAnimation:x?x.initial===!1:!1,reducedMotionConfig:f}));const p=g.current,y=b.useContext(Cy);p&&!p.projection&&c&&(p.type==="html"||p.type==="svg")&&RS(g.current,l,c,y);const j=b.useRef(!1);b.useInsertionEffect(()=>{p&&j.current&&p.update(l,x)});const T=l[Sy],L=b.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return Nb(()=>{p&&(j.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),L.current&&p.animationState&&p.animationState.animateChanges())}),b.useEffect(()=>{p&&(!L.current&&p.animationState&&p.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),L.current=!1),p.enteringChildren=void 0)}),p}function RS(a,n,l,o){const{layoutId:c,layout:u,drag:m,dragConstraints:x,layoutScroll:f,layoutRoot:g,layoutCrossfade:p}=n;a.projection=new l(a.latestValues,n["data-framer-portal-id"]?void 0:Ay(a.parent)),a.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!m||x&&cr(x),visualElement:a,animationType:typeof u=="string"?u:"both",initialPromotionConfig:o,crossfade:p,layoutScroll:f,layoutRoot:g})}function Ay(a){if(a)return a.options.allowProjection!==!1?a.projection:Ay(a.parent)}function cu(a,{forwardMotionProps:n=!1}={},l,o){l&&rS(l);const c=Km(a)?TS:AS;function u(x,f){let g;const p={...b.useContext(Im),...x,layoutId:LS(x)},{isStatic:y}=p,j=dS(x),T=c(x,y);if(!y&&jm){zS();const L=OS(p);g=L.MeasureLayout,j.visualElement=MS(a,T,p,o,L.ProjectionNode)}return e.jsxs(Lo.Provider,{value:j,children:[g&&j.visualElement?e.jsx(g,{visualElement:j.visualElement,...p}):null,wS(a,x,kS(T,j.visualElement,f),T,y,n)]})}u.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const m=b.forwardRef(u);return m[ES]=a,m}function LS({layoutId:a}){const n=b.useContext(ym).id;return n&&a!==void 0?n+"-"+a:a}function zS(a,n){b.useContext(fy).strict}function OS(a){const{drag:n,layout:l}=xr;if(!n&&!l)return{};const o={...n,...l};return{MeasureLayout:n?.isEnabled(a)||l?.isEnabled(a)?o.MeasureLayout:void 0,ProjectionNode:o.ProjectionNode}}function _S(a,n){if(typeof Proxy>"u")return cu;const l=new Map,o=(u,m)=>cu(u,m,a,n),c=(u,m)=>o(u,m);return new Proxy(c,{get:(u,m)=>m==="create"?o:(l.has(m)||l.set(m,cu(m,void 0,a,n)),l.get(m))})}function Ty({top:a,left:n,right:l,bottom:o}){return{x:{min:n,max:l},y:{min:a,max:o}}}function BS({x:a,y:n}){return{top:n.min,right:a.max,bottom:n.max,left:a.min}}function US(a,n){if(!n)return a;const l=n({x:a.left,y:a.top}),o=n({x:a.right,y:a.bottom});return{top:l.y,left:l.x,bottom:o.y,right:o.x}}function du(a){return a===void 0||a===1}function am({scale:a,scaleX:n,scaleY:l}){return!du(a)||!du(n)||!du(l)}function on(a){return am(a)||Ey(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function Ey(a){return Rg(a.x)||Rg(a.y)}function Rg(a){return a&&a!=="0%"}function Co(a,n,l){const o=a-l,c=n*o;return l+c}function Lg(a,n,l,o,c){return c!==void 0&&(a=Co(a,c,o)),Co(a,l,o)+n}function nm(a,n=0,l=1,o,c){a.min=Lg(a.min,n,l,o,c),a.max=Lg(a.max,n,l,o,c)}function ky(a,{x:n,y:l}){nm(a.x,n.translate,n.scale,n.originPoint),nm(a.y,l.translate,l.scale,l.originPoint)}const zg=.999999999999,Og=1.0000000000001;function VS(a,n,l,o=!1){const c=l.length;if(!c)return;n.x=n.y=1;let u,m;for(let x=0;x<c;x++){u=l[x],m=u.projectionDelta;const{visualElement:f}=u.options;f&&f.props.style&&f.props.style.display==="contents"||(o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ur(a,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),m&&(n.x*=m.x.scale,n.y*=m.y.scale,ky(a,m)),o&&on(u.latestValues)&&ur(a,u.latestValues))}n.x<Og&&n.x>zg&&(n.x=1),n.y<Og&&n.y>zg&&(n.y=1)}function dr(a,n){a.min=a.min+n,a.max=a.max+n}function _g(a,n,l,o,c=.5){const u=ct(a.min,a.max,c);nm(a,n,l,u,o)}function ur(a,n){_g(a.x,n.x,n.scaleX,n.scale,n.originX),_g(a.y,n.y,n.scaleY,n.scale,n.originY)}function Dy(a,n){return Ty(US(a.getBoundingClientRect(),n))}function PS(a,n,l){const o=Dy(a,l),{scroll:c}=n;return c&&(dr(o.x,c.offset.x),dr(o.y,c.offset.y)),o}const Bg=()=>({translate:0,scale:1,origin:0,originPoint:0}),mr=()=>({x:Bg(),y:Bg()}),Ug=()=>({min:0,max:0}),pt=()=>({x:Ug(),y:Ug()}),rm={current:null},My={current:!1};function qS(){if(My.current=!0,!!jm)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),n=()=>rm.current=a.matches;a.addEventListener("change",n),n()}else rm.current=!1}const HS=new WeakMap;function IS(a,n,l){for(const o in n){const c=n[o],u=l[o];if(Vt(c))a.addValue(o,c);else if(Vt(u))a.addValue(o,fr(c,{owner:a}));else if(u!==c)if(a.hasValue(o)){const m=a.getValue(o);m.liveStyle===!0?m.jump(c):m.hasAnimated||m.set(c)}else{const m=a.getStaticValue(o);a.addValue(o,fr(m!==void 0?m:c,{owner:a}))}}for(const o in l)n[o]===void 0&&a.removeValue(o);return n}const Vg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class FS{scrapeMotionValuesFromProps(n,l,o){return{}}constructor({parent:n,props:l,presenceContext:o,reducedMotionConfig:c,blockInitialAnimation:u,visualState:m},x={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Um,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const j=Qt.now();this.renderScheduledAt<j&&(this.renderScheduledAt=j,lt.render(this.render,!1,!0))};const{latestValues:f,renderState:g}=m;this.latestValues=f,this.baseTarget={...f},this.initialValues=l.initial?{...f}:{},this.renderState=g,this.parent=n,this.props=l,this.presenceContext=o,this.depth=n?n.depth+1:0,this.reducedMotionConfig=c,this.options=x,this.blockInitialAnimation=!!u,this.isControllingVariants=Oo(l),this.isVariantNode=gy(l),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(l,{},this);for(const j in y){const T=y[j];f[j]!==void 0&&Vt(T)&&T.set(f[j])}}mount(n){this.current=n,HS.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((l,o)=>this.bindToMotionValue(o,l)),My.current||qS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rm.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Oa(this.notifyUpdate),Oa(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const l=this.features[n];l&&(l.unmount(),l.isMounted=!1)}this.current=null}addChild(n){this.children.add(n),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(n)}removeChild(n){this.children.delete(n),this.enteringChildren&&this.enteringChildren.delete(n)}bindToMotionValue(n,l){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const o=Nr.has(n);o&&this.onBindTransform&&this.onBindTransform();const c=l.on("change",m=>{this.latestValues[n]=m,this.props.onUpdate&&lt.preRender(this.notifyUpdate),o&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,n,l)),this.valueSubscriptions.set(n,()=>{c(),u&&u(),l.owner&&l.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in xr){const l=xr[n];if(!l)continue;const{isEnabled:o,Feature:c}=l;if(!this.features[n]&&c&&o(this.props)&&(this.features[n]=new c(this)),this.features[n]){const u=this.features[n];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,l){this.latestValues[n]=l}update(n,l){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=l;for(let o=0;o<Vg.length;o++){const c=Vg[o];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const u="on"+c,m=n[u];m&&(this.propEventSubscriptions[c]=this.on(c,m))}this.prevMotionValues=IS(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const l=this.getClosestVariantNode();if(l)return l.variantChildren&&l.variantChildren.add(n),()=>l.variantChildren.delete(n)}addValue(n,l){const o=this.values.get(n);l!==o&&(o&&this.removeValue(n),this.bindToMotionValue(n,l),this.values.set(n,l),this.latestValues[n]=l.get())}removeValue(n){this.values.delete(n);const l=this.valueSubscriptions.get(n);l&&(l(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,l){if(this.props.values&&this.props.values[n])return this.props.values[n];let o=this.values.get(n);return o===void 0&&l!==void 0&&(o=fr(l===null?void 0:l,{owner:this}),this.addValue(n,o)),o}readValue(n,l){let o=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:this.getBaseTargetFromProps(this.props,n)??this.readValueFromInstance(this.current,n,this.options);return o!=null&&(typeof o=="string"&&(wb(o)||Cb(o))?o=parseFloat(o):!eS(o)&&_a.test(l)&&(o=ly(n,l)),this.setBaseTarget(n,Vt(o)?o.get():o)),Vt(o)?o.get():o}setBaseTarget(n,l){this.baseTarget[n]=l}getBaseTarget(n){const{initial:l}=this.props;let o;if(typeof l=="string"||typeof l=="object"){const u=Xm(this.props,l,this.presenceContext?.custom);u&&(o=u[n])}if(l&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,n);return c!==void 0&&!Vt(c)?c:this.initialValues[n]!==void 0&&o===void 0?void 0:this.baseTarget[n]}on(n,l){return this.events[n]||(this.events[n]=new Am),this.events[n].add(l)}notify(n,...l){this.events[n]&&this.events[n].notify(...l)}scheduleRenderMicrotask(){qm.render(this.render)}}class Ry extends FS{constructor(){super(...arguments),this.KeyframeResolver=Hw}sortInstanceNodePosition(n,l){return n.compareDocumentPosition(l)&2?1:-1}getBaseTargetFromProps(n,l){return n.style?n.style[l]:void 0}removeValueFromRenderState(n,{vars:l,style:o}){delete l[n],delete o[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;Vt(n)&&(this.childSubscription=n.on("change",l=>{this.current&&(this.current.textContent=`${l}`)}))}}function Ly(a,{style:n,vars:l},o,c){const u=a.style;let m;for(m in n)u[m]=n[m];c?.applyProjectionStyles(u,o);for(m in l)u.setProperty(m,l[m])}function YS(a){return window.getComputedStyle(a)}class $S extends Ry{constructor(){super(...arguments),this.type="html",this.renderInstance=Ly}readValueFromInstance(n,l){if(Nr.has(l))return this.projection?.isProjecting?Qu(l):iw(n,l);{const o=YS(n),c=(km(l)?o.getPropertyValue(l):o[l])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(n,{transformPagePoint:l}){return Dy(n,l)}build(n,l,o){$m(n,l,o.transformTemplate)}scrapeMotionValuesFromProps(n,l,o){return Qm(n,l,o)}}const zy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function GS(a,n,l,o){Ly(a,n,void 0,o);for(const c in n.attrs)a.setAttribute(zy.has(c)?c:Zm(c),n.attrs[c])}class KS extends Ry{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(n,l){return n[l]}readValueFromInstance(n,l){if(Nr.has(l)){const o=ry(l);return o&&o.default||0}return l=zy.has(l)?l:Zm(l),n.getAttribute(l)}scrapeMotionValuesFromProps(n,l,o){return wy(n,l,o)}build(n,l,o){yy(n,l,this.isSVGTag,o.transformTemplate,o.style)}renderInstance(n,l,o,c){GS(n,l,o,c)}mount(n){this.isSVGTag=jy(n.tagName),super.mount(n)}}const XS=(a,n)=>Km(a)?new KS(n):new $S(n,{allowProjection:a!==b.Fragment});function hr(a,n,l){const o=a.getProps();return Xm(o,n,l!==void 0?l:o.custom,a)}const lm=a=>Array.isArray(a);function QS(a,n,l){a.hasValue(n)?a.getValue(n).set(l):a.addValue(n,fr(l))}function ZS(a){return lm(a)?a[a.length-1]||0:a}function JS(a,n){const l=hr(a,n);let{transitionEnd:o={},transition:c={},...u}=l||{};u={...u,...o};for(const m in u){const x=ZS(u[m]);QS(a,m,x)}}function WS(a){return!!(Vt(a)&&a.add)}function im(a,n){const l=a.getValue("willChange");if(WS(l))return l.add(n);if(!l&&na.WillChange){const o=new na.WillChange("auto");a.addValue("willChange",o),o.add(n)}}function Oy(a){return a.props[Sy]}const e4=a=>a!==null;function t4(a,{repeat:n,repeatType:l="loop"},o){const c=a.filter(e4),u=n&&l!=="loop"&&n%2===1?0:c.length-1;return c[u]}const s4={type:"spring",stiffness:500,damping:25,restSpeed:10},a4=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),n4={type:"keyframes",duration:.8},r4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},l4=(a,{keyframes:n})=>n.length>2?n4:Nr.has(a)?a.startsWith("scale")?a4(n[1]):s4:r4;function i4({when:a,delay:n,delayChildren:l,staggerChildren:o,staggerDirection:c,repeat:u,repeatType:m,repeatDelay:x,from:f,elapsed:g,...p}){return!!Object.keys(p).length}const Jm=(a,n,l,o={},c,u)=>m=>{const x=Vm(o,a)||{},f=x.delay||o.delay||0;let{elapsed:g=0}=o;g=g-Ms(f);const p={keyframes:Array.isArray(l)?l:[null,l],ease:"easeOut",velocity:n.getVelocity(),...x,delay:-g,onUpdate:j=>{n.set(j),x.onUpdate&&x.onUpdate(j)},onComplete:()=>{m(),x.onComplete&&x.onComplete()},name:a,motionValue:n,element:u?void 0:c};i4(x)||Object.assign(p,l4(a,p)),p.duration&&(p.duration=Ms(p.duration)),p.repeatDelay&&(p.repeatDelay=Ms(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(tm(p),p.delay===0&&(y=!0)),(na.instantAnimations||na.skipAnimations)&&(y=!0,tm(p),p.delay=0),p.allowFlatten=!x.type&&!x.ease,y&&!u&&n.get()!==void 0){const j=t4(p.keyframes,x);if(j!==void 0){lt.update(()=>{p.onUpdate(j),p.onComplete()});return}}return x.isSync?new Bm(p):new Dw(p)};function o4({protectedKeys:a,needsAnimating:n},l){const o=a.hasOwnProperty(l)&&n[l]!==!0;return n[l]=!1,o}function _y(a,n,{delay:l=0,transitionOverride:o,type:c}={}){let{transition:u=a.getDefaultTransition(),transitionEnd:m,...x}=n;o&&(u=o);const f=[],g=c&&a.animationState&&a.animationState.getState()[c];for(const p in x){const y=a.getValue(p,a.latestValues[p]??null),j=x[p];if(j===void 0||g&&o4(g,p))continue;const T={delay:l,...Vm(u||{},p)},L=y.get();if(L!==void 0&&!y.isAnimating&&!Array.isArray(j)&&j===L&&!T.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=Oy(a);if(N){const E=window.MotionHandoffAnimation(N,p,lt);E!==null&&(T.startTime=E,w=!0)}}im(a,p),y.start(Jm(p,y,j,a.shouldReduceMotion&&sy.has(p)?{type:!1}:T,a,w));const z=y.animation;z&&f.push(z)}return m&&Promise.all(f).then(()=>{lt.update(()=>{m&&JS(a,m)})}),f}function By(a,n,l,o=0,c=1){const u=Array.from(a).sort((g,p)=>g.sortNodePosition(p)).indexOf(n),m=a.size,x=(m-1)*o;return typeof l=="function"?l(u,m):c===1?u*o:x-u*o}function om(a,n,l={}){const o=hr(a,n,l.type==="exit"?a.presenceContext?.custom:void 0);let{transition:c=a.getDefaultTransition()||{}}=o||{};l.transitionOverride&&(c=l.transitionOverride);const u=o?()=>Promise.all(_y(a,o,l)):()=>Promise.resolve(),m=a.variantChildren&&a.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:p,staggerDirection:y}=c;return c4(a,n,f,g,p,y,l)}:()=>Promise.resolve(),{when:x}=c;if(x){const[f,g]=x==="beforeChildren"?[u,m]:[m,u];return f().then(()=>g())}else return Promise.all([u(),m(l.delay)])}function c4(a,n,l=0,o=0,c=0,u=1,m){const x=[];for(const f of a.variantChildren)f.notify("AnimationStart",n),x.push(om(f,n,{...m,delay:l+(typeof o=="function"?0:o)+By(a.variantChildren,f,o,c,u)}).then(()=>f.notify("AnimationComplete",n)));return Promise.all(x)}function d4(a,n,l={}){a.notify("AnimationStart",n);let o;if(Array.isArray(n)){const c=n.map(u=>om(a,u,l));o=Promise.all(c)}else if(typeof n=="string")o=om(a,n,l);else{const c=typeof n=="function"?hr(a,n,l.custom):n;o=Promise.all(_y(a,c,l))}return o.then(()=>{a.notify("AnimationComplete",n)})}function Uy(a,n){if(!Array.isArray(n))return!1;const l=n.length;if(l!==a.length)return!1;for(let o=0;o<l;o++)if(n[o]!==a[o])return!1;return!0}const u4=Ym.length;function Vy(a){if(!a)return;if(!a.isControllingVariants){const l=a.parent?Vy(a.parent)||{}:{};return a.props.initial!==void 0&&(l.initial=a.props.initial),l}const n={};for(let l=0;l<u4;l++){const o=Ym[l],c=a.props[o];(Ol(c)||c===!1)&&(n[o]=c)}return n}const m4=[...Fm].reverse(),h4=Fm.length;function f4(a){return n=>Promise.all(n.map(({animation:l,options:o})=>d4(a,l,o)))}function x4(a){let n=f4(a),l=Pg(),o=!0;const c=f=>(g,p)=>{const y=hr(a,p,f==="exit"?a.presenceContext?.custom:void 0);if(y){const{transition:j,transitionEnd:T,...L}=y;g={...g,...L,...T}}return g};function u(f){n=f(a)}function m(f){const{props:g}=a,p=Vy(a.parent)||{},y=[],j=new Set;let T={},L=1/0;for(let z=0;z<h4;z++){const N=m4[z],E=l[N],S=g[N]!==void 0?g[N]:p[N],O=Ol(S),A=N===f?E.isActive:null;A===!1&&(L=z);let $=S===p[N]&&S!==g[N]&&O;if($&&o&&a.manuallyAnimateOnMount&&($=!1),E.protectedKeys={...T},!E.isActive&&A===null||!S&&!E.prevProp||zo(S)||typeof S=="boolean")continue;const B=g4(E.prevProp,S);let H=B||N===f&&E.isActive&&!$&&O||z>L&&O,P=!1;const D=Array.isArray(S)?S:[S];let k=D.reduce(c(N),{});A===!1&&(k={});const{prevResolvedValues:K={}}=E,ie={...K,...k},se=ee=>{H=!0,j.has(ee)&&(P=!0,j.delete(ee)),E.needsAnimating[ee]=!0;const be=a.getValue(ee);be&&(be.liveStyle=!1)};for(const ee in ie){const be=k[ee],xe=K[ee];if(T.hasOwnProperty(ee))continue;let R=!1;lm(be)&&lm(xe)?R=!Uy(be,xe):R=be!==xe,R?be!=null?se(ee):j.add(ee):be!==void 0&&j.has(ee)?se(ee):E.protectedKeys[ee]=!0}E.prevProp=S,E.prevResolvedValues=k,E.isActive&&(T={...T,...k}),o&&a.blockInitialAnimation&&(H=!1);const pe=$&&B;H&&(!pe||P)&&y.push(...D.map(ee=>{const be={type:N};if(typeof ee=="string"&&o&&!pe&&a.manuallyAnimateOnMount&&a.parent){const{parent:xe}=a,R=hr(xe,ee);if(xe.enteringChildren&&R){const{delayChildren:Z}=R.transition||{};be.delay=By(xe.enteringChildren,a,Z)}}return{animation:ee,options:be}}))}if(j.size){const z={};if(typeof g.initial!="boolean"){const N=hr(a,Array.isArray(g.initial)?g.initial[0]:g.initial);N&&N.transition&&(z.transition=N.transition)}j.forEach(N=>{const E=a.getBaseTarget(N),S=a.getValue(N);S&&(S.liveStyle=!0),z[N]=E??null}),y.push({animation:z})}let w=!!y.length;return o&&(g.initial===!1||g.initial===g.animate)&&!a.manuallyAnimateOnMount&&(w=!1),o=!1,w?n(y):Promise.resolve()}function x(f,g){if(l[f].isActive===g)return Promise.resolve();a.variantChildren?.forEach(y=>y.animationState?.setActive(f,g)),l[f].isActive=g;const p=m(f);for(const y in l)l[y].protectedKeys={};return p}return{animateChanges:m,setActive:x,setAnimateFunction:u,getState:()=>l,reset:()=>{l=Pg(),o=!0}}}function g4(a,n){return typeof n=="string"?n!==a:Array.isArray(n)?!Uy(n,a):!1}function ln(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pg(){return{animate:ln(!0),whileInView:ln(),whileHover:ln(),whileTap:ln(),whileDrag:ln(),whileFocus:ln(),exit:ln()}}class qa{constructor(n){this.isMounted=!1,this.node=n}update(){}}class p4 extends qa{constructor(n){super(n),n.animationState||(n.animationState=x4(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();zo(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:l}=this.node.prevProps||{};n!==l&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let b4=0;class y4 extends qa{constructor(){super(...arguments),this.id=b4++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:l}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===o)return;const c=this.node.animationState.setActive("exit",!n);l&&!n&&c.then(()=>{l(this.id)})}mount(){const{register:n,onExitComplete:l}=this.node.presenceContext||{};l&&l(this.id),n&&(this.unmount=n(this.id))}unmount(){}}const v4={animation:{Feature:p4},exit:{Feature:y4}};function Bl(a,n,l,o={passive:!0}){return a.addEventListener(n,l,o),()=>a.removeEventListener(n,l)}function Yl(a){return{point:{x:a.pageX,y:a.pageY}}}const j4=a=>n=>Hm(n)&&a(n,Yl(n));function El(a,n,l,o){return Bl(a,n,j4(l),o)}const Py=1e-4,N4=1-Py,w4=1+Py,qy=.01,S4=0-qy,C4=0+qy;function It(a){return a.max-a.min}function A4(a,n,l){return Math.abs(a-n)<=l}function qg(a,n,l,o=.5){a.origin=o,a.originPoint=ct(n.min,n.max,a.origin),a.scale=It(l)/It(n),a.translate=ct(l.min,l.max,a.origin)-a.originPoint,(a.scale>=N4&&a.scale<=w4||isNaN(a.scale))&&(a.scale=1),(a.translate>=S4&&a.translate<=C4||isNaN(a.translate))&&(a.translate=0)}function kl(a,n,l,o){qg(a.x,n.x,l.x,o?o.originX:void 0),qg(a.y,n.y,l.y,o?o.originY:void 0)}function Hg(a,n,l){a.min=l.min+n.min,a.max=a.min+It(n)}function T4(a,n,l){Hg(a.x,n.x,l.x),Hg(a.y,n.y,l.y)}function Ig(a,n,l){a.min=n.min-l.min,a.max=a.min+It(n)}function Dl(a,n,l){Ig(a.x,n.x,l.x),Ig(a.y,n.y,l.y)}function gs(a){return[a("x"),a("y")]}const Hy=({current:a})=>a?a.ownerDocument.defaultView:null,Fg=(a,n)=>Math.abs(a-n);function E4(a,n){const l=Fg(a.x,n.x),o=Fg(a.y,n.y);return Math.sqrt(l**2+o**2)}class Iy{constructor(n,l,{transformPagePoint:o,contextWindow:c=window,dragSnapToOrigin:u=!1,distanceThreshold:m=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=mu(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,L=E4(j.offset,{x:0,y:0})>=this.distanceThreshold;if(!T&&!L)return;const{point:w}=j,{timestamp:z}=Ot;this.history.push({...w,timestamp:z});const{onStart:N,onMove:E}=this.handlers;T||(N&&N(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,j)},this.handlePointerMove=(j,T)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=uu(T,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(j,T)=>{this.end();const{onEnd:L,onSessionEnd:w,resumeAnimation:z}=this.handlers;if(this.dragSnapToOrigin&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=mu(j.type==="pointercancel"?this.lastMoveEventInfo:uu(T,this.transformPagePoint),this.history);this.startEvent&&L&&L(j,N),w&&w(j,N)},!Hm(n))return;this.dragSnapToOrigin=u,this.handlers=l,this.transformPagePoint=o,this.distanceThreshold=m,this.contextWindow=c||window;const x=Yl(n),f=uu(x,this.transformPagePoint),{point:g}=f,{timestamp:p}=Ot;this.history=[{...g,timestamp:p}];const{onSessionStart:y}=l;y&&y(n,mu(f,this.history)),this.removeListeners=Hl(El(this.contextWindow,"pointermove",this.handlePointerMove),El(this.contextWindow,"pointerup",this.handlePointerUp),El(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),Oa(this.updatePoint)}}function uu(a,n){return n?{point:n(a.point)}:a}function Yg(a,n){return{x:a.x-n.x,y:a.y-n.y}}function mu({point:a},n){return{point:a,delta:Yg(a,Fy(n)),offset:Yg(a,k4(n)),velocity:D4(n,.1)}}function k4(a){return a[0]}function Fy(a){return a[a.length-1]}function D4(a,n){if(a.length<2)return{x:0,y:0};let l=a.length-1,o=null;const c=Fy(a);for(;l>=0&&(o=a[l],!(c.timestamp-o.timestamp>Ms(n)));)l--;if(!o)return{x:0,y:0};const u=Rs(c.timestamp-o.timestamp);if(u===0)return{x:0,y:0};const m={x:(c.x-o.x)/u,y:(c.y-o.y)/u};return m.x===1/0&&(m.x=0),m.y===1/0&&(m.y=0),m}function M4(a,{min:n,max:l},o){return n!==void 0&&a<n?a=o?ct(n,a,o.min):Math.max(a,n):l!==void 0&&a>l&&(a=o?ct(l,a,o.max):Math.min(a,l)),a}function $g(a,n,l){return{min:n!==void 0?a.min+n:void 0,max:l!==void 0?a.max+l-(a.max-a.min):void 0}}function R4(a,{top:n,left:l,bottom:o,right:c}){return{x:$g(a.x,l,c),y:$g(a.y,n,o)}}function Gg(a,n){let l=n.min-a.min,o=n.max-a.max;return n.max-n.min<a.max-a.min&&([l,o]=[o,l]),{min:l,max:o}}function L4(a,n){return{x:Gg(a.x,n.x),y:Gg(a.y,n.y)}}function z4(a,n){let l=.5;const o=It(a),c=It(n);return c>o?l=Rl(n.min,n.max-o,a.min):o>c&&(l=Rl(a.min,a.max-c,n.min)),aa(0,1,l)}function O4(a,n){const l={};return n.min!==void 0&&(l.min=n.min-a.min),n.max!==void 0&&(l.max=n.max-a.min),l}const cm=.35;function _4(a=cm){return a===!1?a=0:a===!0&&(a=cm),{x:Kg(a,"left","right"),y:Kg(a,"top","bottom")}}function Kg(a,n,l){return{min:Xg(a,n),max:Xg(a,l)}}function Xg(a,n){return typeof a=="number"?a:a[n]||0}const B4=new WeakMap;class U4{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=n}start(n,{snapToCursor:l=!1,distanceThreshold:o}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const u=y=>{const{dragSnapToOrigin:j}=this.getProps();j?this.pauseAnimation():this.stopAnimation(),l&&this.snapToCursor(Yl(y).point)},m=(y,j)=>{const{drag:T,dragPropagation:L,onDragStart:w}=this.getProps();if(T&&!L&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$w(T),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=j,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gs(N=>{let E=this.getAxisMotionValue(N).get()||0;if(Ls.test(E)){const{projection:S}=this.visualElement;if(S&&S.layout){const O=S.layout.layoutBox[N];O&&(E=It(O)*(parseFloat(E)/100))}}this.originPoint[N]=E}),w&&lt.postRender(()=>w(y,j)),im(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},x=(y,j)=>{this.latestPointerEvent=y,this.latestPanInfo=j;const{dragPropagation:T,dragDirectionLock:L,onDirectionLock:w,onDrag:z}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:N}=j;if(L&&this.currentDirection===null){this.currentDirection=V4(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",j.point,N),this.updateAxis("y",j.point,N),this.visualElement.render(),z&&z(y,j)},f=(y,j)=>{this.latestPointerEvent=y,this.latestPanInfo=j,this.stop(y,j),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>gs(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Iy(n,{onSessionStart:u,onStart:m,onMove:x,onSessionEnd:f,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:o,contextWindow:Hy(this.visualElement)})}stop(n,l){const o=n||this.latestPointerEvent,c=l||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!c||!o)return;const{velocity:m}=c;this.startAnimation(m);const{onDragEnd:x}=this.getProps();x&&lt.postRender(()=>x(o,c))}cancel(){this.isDragging=!1;const{projection:n,animationState:l}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:o}=this.getProps();!o&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),l&&l.setActive("whileDrag",!1)}updateAxis(n,l,o){const{drag:c}=this.getProps();if(!o||!uo(n,c,this.currentDirection))return;const u=this.getAxisMotionValue(n);let m=this.originPoint[n]+o[n];this.constraints&&this.constraints[n]&&(m=M4(m,this.constraints[n],this.elastic[n])),u.set(m)}resolveConstraints(){const{dragConstraints:n,dragElastic:l}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;n&&cr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=R4(o.layoutBox,n):this.constraints=!1,this.elastic=_4(l),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&gs(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=O4(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:l}=this.getProps();if(!n||!cr(n))return!1;const o=n.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const u=PS(o,c.root,this.visualElement.getTransformPagePoint());let m=L4(c.layout.layoutBox,u);if(l){const x=l(BS(m));this.hasMutatedConstraints=!!x,x&&(m=Ty(x))}return m}startAnimation(n){const{drag:l,dragMomentum:o,dragElastic:c,dragTransition:u,dragSnapToOrigin:m,onDragTransitionEnd:x}=this.getProps(),f=this.constraints||{},g=gs(p=>{if(!uo(p,l,this.currentDirection))return;let y=f&&f[p]||{};m&&(y={min:0,max:0});const j=c?200:1e6,T=c?40:1e7,L={type:"inertia",velocity:o?n[p]:0,bounceStiffness:j,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...u,...y};return this.startAxisValueAnimation(p,L)});return Promise.all(g).then(x)}startAxisValueAnimation(n,l){const o=this.getAxisMotionValue(n);return im(this.visualElement,n),o.start(Jm(n,o,0,l,this.visualElement,!1))}stopAnimation(){gs(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){gs(n=>this.getAxisMotionValue(n).animation?.pause())}getAnimationState(n){return this.getAxisMotionValue(n).animation?.state}getAxisMotionValue(n){const l=`_drag${n.toUpperCase()}`,o=this.visualElement.getProps(),c=o[l];return c||this.visualElement.getValue(n,(o.initial?o.initial[n]:void 0)||0)}snapToCursor(n){gs(l=>{const{drag:o}=this.getProps();if(!uo(l,o,this.currentDirection))return;const{projection:c}=this.visualElement,u=this.getAxisMotionValue(l);if(c&&c.layout){const{min:m,max:x}=c.layout.layoutBox[l];u.set(n[l]-ct(m,x,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:l}=this.getProps(),{projection:o}=this.visualElement;if(!cr(l)||!o||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};gs(m=>{const x=this.getAxisMotionValue(m);if(x&&this.constraints!==!1){const f=x.get();c[m]=z4({min:f,max:f},this.constraints[m])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",o.root&&o.root.updateScroll(),o.updateLayout(),this.resolveConstraints(),gs(m=>{if(!uo(m,n,null))return;const x=this.getAxisMotionValue(m),{min:f,max:g}=this.constraints[m];x.set(ct(f,g,c[m]))})}addListeners(){if(!this.visualElement.current)return;B4.set(this.visualElement,this);const n=this.visualElement.current,l=El(n,"pointerdown",f=>{const{drag:g,dragListener:p=!0}=this.getProps();g&&p&&this.start(f)}),o=()=>{const{dragConstraints:f}=this.getProps();cr(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,u=c.addEventListener("measure",o);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),lt.read(o);const m=Bl(window,"resize",()=>this.scalePositionWithinConstraints()),x=c.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:g})=>{this.isDragging&&g&&(gs(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=f[p].translate,y.set(y.get()+f[p].translate))}),this.visualElement.render())}));return()=>{m(),l(),u(),x&&x()}}getProps(){const n=this.visualElement.getProps(),{drag:l=!1,dragDirectionLock:o=!1,dragPropagation:c=!1,dragConstraints:u=!1,dragElastic:m=cm,dragMomentum:x=!0}=n;return{...n,drag:l,dragDirectionLock:o,dragPropagation:c,dragConstraints:u,dragElastic:m,dragMomentum:x}}}function uo(a,n,l){return(n===!0||n===a)&&(l===null||l===a)}function V4(a,n=10){let l=null;return Math.abs(a.y)>n?l="y":Math.abs(a.x)>n&&(l="x"),l}class P4 extends qa{constructor(n){super(n),this.removeGroupControls=ps,this.removeListeners=ps,this.controls=new U4(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qg=a=>(n,l)=>{a&&lt.postRender(()=>a(n,l))};class q4 extends qa{constructor(){super(...arguments),this.removePointerDownListener=ps}onPointerDown(n){this.session=new Iy(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Hy(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:l,onPan:o,onPanEnd:c}=this.node.getProps();return{onSessionStart:Qg(n),onStart:Qg(l),onMove:o,onEnd:(u,m)=>{delete this.session,c&&lt.postRender(()=>c(u,m))}}}mount(){this.removePointerDownListener=El(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zg(a,n){return n.max===n.min?0:a/(n.max-n.min)*100}const wl={correct:(a,n)=>{if(!n.target)return a;if(typeof a=="string")if(Ve.test(a))a=parseFloat(a);else return a;const l=Zg(a,n.target.x),o=Zg(a,n.target.y);return`${l}% ${o}%`}},H4={correct:(a,{treeScale:n,projectionDelta:l})=>{const o=a,c=_a.parse(a);if(c.length>5)return o;const u=_a.createTransformer(a),m=typeof c[0]!="number"?1:0,x=l.x.scale*n.x,f=l.y.scale*n.y;c[0+m]/=x,c[1+m]/=f;const g=ct(x,f,.5);return typeof c[2+m]=="number"&&(c[2+m]/=g),typeof c[3+m]=="number"&&(c[3+m]/=g),u(c)}};let hu=!1;class I4 extends b.Component{componentDidMount(){const{visualElement:n,layoutGroup:l,switchLayoutGroup:o,layoutId:c}=this.props,{projection:u}=n;uS(F4),u&&(l.group&&l.group.add(u),o&&o.register&&c&&o.register(u),hu&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),bo.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:l,visualElement:o,drag:c,isPresent:u}=this.props,{projection:m}=o;return m&&(m.isPresent=u,hu=!0,c||n.layoutDependency!==l||l===void 0||n.isPresent!==u?m.willUpdate():this.safeToRemove(),n.isPresent!==u&&(u?m.promote():m.relegate()||lt.postRender(()=>{const x=m.getStack();(!x||!x.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),qm.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:l,switchLayoutGroup:o}=this.props,{projection:c}=n;hu=!0,c&&(c.scheduleCheckAfterUnmount(),l&&l.group&&l.group.remove(c),o&&o.deregister&&o.deregister(c))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function Yy(a){const[n,l]=hy(),o=b.useContext(ym);return e.jsx(I4,{...a,layoutGroup:o,switchLayoutGroup:b.useContext(Cy),isPresent:n,safeToRemove:l})}const F4={borderRadius:{...wl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wl,borderTopRightRadius:wl,borderBottomLeftRadius:wl,borderBottomRightRadius:wl,boxShadow:H4};function Y4(a,n,l){const o=Vt(a)?a:fr(a);return o.start(Jm("",o,n,l)),o.animation}const $4=(a,n)=>a.depth-n.depth;class G4{constructor(){this.children=[],this.isDirty=!1}add(n){Nm(this.children,n),this.isDirty=!0}remove(n){wm(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort($4),this.isDirty=!1,this.children.forEach(n)}}function K4(a,n){const l=Qt.now(),o=({timestamp:c})=>{const u=c-l;u>=n&&(Oa(o),a(u-n))};return lt.setup(o,!0),()=>Oa(o)}const $y=["TopLeft","TopRight","BottomLeft","BottomRight"],X4=$y.length,Jg=a=>typeof a=="string"?parseFloat(a):a,Wg=a=>typeof a=="number"||Ve.test(a);function Q4(a,n,l,o,c,u){c?(a.opacity=ct(0,l.opacity??1,Z4(o)),a.opacityExit=ct(n.opacity??1,0,J4(o))):u&&(a.opacity=ct(n.opacity??1,l.opacity??1,o));for(let m=0;m<X4;m++){const x=`border${$y[m]}Radius`;let f=ep(n,x),g=ep(l,x);if(f===void 0&&g===void 0)continue;f||(f=0),g||(g=0),f===0||g===0||Wg(f)===Wg(g)?(a[x]=Math.max(ct(Jg(f),Jg(g),o),0),(Ls.test(g)||Ls.test(f))&&(a[x]+="%")):a[x]=g}(n.rotate||l.rotate)&&(a.rotate=ct(n.rotate||0,l.rotate||0,o))}function ep(a,n){return a[n]!==void 0?a[n]:a.borderRadius}const Z4=Gy(0,.5,Lb),J4=Gy(.5,.95,ps);function Gy(a,n,l){return o=>o<a?0:o>n?1:l(Rl(a,n,o))}function tp(a,n){a.min=n.min,a.max=n.max}function xs(a,n){tp(a.x,n.x),tp(a.y,n.y)}function sp(a,n){a.translate=n.translate,a.scale=n.scale,a.originPoint=n.originPoint,a.origin=n.origin}function ap(a,n,l,o,c){return a-=n,a=Co(a,1/l,o),c!==void 0&&(a=Co(a,1/c,o)),a}function W4(a,n=0,l=1,o=.5,c,u=a,m=a){if(Ls.test(n)&&(n=parseFloat(n),n=ct(m.min,m.max,n/100)-m.min),typeof n!="number")return;let x=ct(u.min,u.max,o);a===u&&(x-=n),a.min=ap(a.min,n,l,x,c),a.max=ap(a.max,n,l,x,c)}function np(a,n,[l,o,c],u,m){W4(a,n[l],n[o],n[c],n.scale,u,m)}const e5=["x","scaleX","originX"],t5=["y","scaleY","originY"];function rp(a,n,l,o){np(a.x,n,e5,l?l.x:void 0,o?o.x:void 0),np(a.y,n,t5,l?l.y:void 0,o?o.y:void 0)}function lp(a){return a.translate===0&&a.scale===1}function Ky(a){return lp(a.x)&&lp(a.y)}function ip(a,n){return a.min===n.min&&a.max===n.max}function s5(a,n){return ip(a.x,n.x)&&ip(a.y,n.y)}function op(a,n){return Math.round(a.min)===Math.round(n.min)&&Math.round(a.max)===Math.round(n.max)}function Xy(a,n){return op(a.x,n.x)&&op(a.y,n.y)}function cp(a){return It(a.x)/It(a.y)}function dp(a,n){return a.translate===n.translate&&a.scale===n.scale&&a.originPoint===n.originPoint}class a5{constructor(){this.members=[]}add(n){Nm(this.members,n),n.scheduleRender()}remove(n){if(wm(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const l=this.members[this.members.length-1];l&&this.promote(l)}}relegate(n){const l=this.members.findIndex(c=>n===c);if(l===0)return!1;let o;for(let c=l;c>=0;c--){const u=this.members[c];if(u.isPresent!==!1){o=u;break}}return o?(this.promote(o),!0):!1}promote(n,l){const o=this.lead;if(n!==o&&(this.prevLead=o,this.lead=n,n.show(),o)){o.instance&&o.scheduleRender(),n.scheduleRender(),n.resumeFrom=o,l&&(n.resumeFrom.preserveOpacity=!0),o.snapshot&&(n.snapshot=o.snapshot,n.snapshot.latestValues=o.animationValues||o.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:c}=n.options;c===!1&&o.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:l,resumingFrom:o}=n;l.onExitComplete&&l.onExitComplete(),o&&o.options.onExitComplete&&o.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function n5(a,n,l){let o="";const c=a.x.translate/n.x,u=a.y.translate/n.y,m=l?.z||0;if((c||u||m)&&(o=`translate3d(${c}px, ${u}px, ${m}px) `),(n.x!==1||n.y!==1)&&(o+=`scale(${1/n.x}, ${1/n.y}) `),l){const{transformPerspective:g,rotate:p,rotateX:y,rotateY:j,skewX:T,skewY:L}=l;g&&(o=`perspective(${g}px) ${o}`),p&&(o+=`rotate(${p}deg) `),y&&(o+=`rotateX(${y}deg) `),j&&(o+=`rotateY(${j}deg) `),T&&(o+=`skewX(${T}deg) `),L&&(o+=`skewY(${L}deg) `)}const x=a.x.scale*n.x,f=a.y.scale*n.y;return(x!==1||f!==1)&&(o+=`scale(${x}, ${f})`),o||"none"}const fu=["","X","Y","Z"],r5=1e3;let l5=0;function xu(a,n,l,o){const{latestValues:c}=n;c[a]&&(l[a]=c[a],n.setStaticValue(a,0),o&&(o[a]=0))}function Qy(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:n}=a.options;if(!n)return;const l=Oy(n);if(window.MotionHasOptimisedAnimation(l,"transform")){const{layout:c,layoutId:u}=a.options;window.MotionCancelOptimisedAnimation(l,"transform",lt,!(c||u))}const{parent:o}=a;o&&!o.hasCheckedOptimisedAppear&&Qy(o)}function Zy({attachResizeListener:a,defaultParent:n,measureScroll:l,checkIsScrollRoot:o,resetTransform:c}){return class{constructor(m={},x=n?.()){this.id=l5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(c5),this.nodes.forEach(h5),this.nodes.forEach(f5),this.nodes.forEach(d5)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=m,this.root=x?x.root||x:this,this.path=x?[...x.path,x]:[],this.parent=x,this.depth=x?x.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new G4)}addEventListener(m,x){return this.eventHandlers.has(m)||this.eventHandlers.set(m,new Am),this.eventHandlers.get(m).add(x)}notifyListeners(m,...x){const f=this.eventHandlers.get(m);f&&f.notify(...x)}hasListeners(m){return this.eventHandlers.has(m)}mount(m){if(this.instance)return;this.isSVG=my(m)&&!Jw(m),this.instance=m;const{layoutId:x,layout:f,visualElement:g}=this.options;if(g&&!g.current&&g.mount(m),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||x)&&(this.isLayoutDirty=!0),a){let p,y=0;const j=()=>this.root.updateBlockedByResize=!1;lt.read(()=>{y=window.innerWidth}),a(m,()=>{const T=window.innerWidth;T!==y&&(y=T,this.root.updateBlockedByResize=!0,p&&p(),p=K4(j,250),bo.hasAnimatedSinceResize&&(bo.hasAnimatedSinceResize=!1,this.nodes.forEach(hp)))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&g&&(x||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:j,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||y5,{onLayoutAnimationStart:w,onLayoutAnimationComplete:z}=g.getProps(),N=!this.targetLayout||!Xy(this.targetLayout,T),E=!y&&j;if(this.options.layoutRoot||this.resumeFrom||E||y&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...Vm(L,"layout"),onPlay:w,onComplete:z};(g.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(p,E)}else y||hp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const m=this.getStack();m&&m.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Oa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x5),this.animationId++)}getTransformTemplate(){const{visualElement:m}=this.options;return m&&m.getProps().transformTemplate}willUpdate(m=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Qy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:x,layout:f}=this.options;if(x===void 0&&!f)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),m&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(up);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(mp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(m5),this.nodes.forEach(i5),this.nodes.forEach(o5)):this.nodes.forEach(mp),this.clearAllSnapshots();const x=Qt.now();Ot.delta=aa(0,1e3/60,x-Ot.timestamp),Ot.timestamp=x,Ot.isProcessing=!0,su.update.process(Ot),su.preRender.process(Ot),su.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(u5),this.sharedNodes.forEach(g5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!It(this.snapshot.measuredBox.x)&&!It(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const m=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:x}=this.options;x&&x.notify("LayoutMeasure",this.layout.layoutBox,m?m.layoutBox:void 0)}updateScroll(m="measure"){let x=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===m&&(x=!1),x&&this.instance){const f=o(this.instance);this.scroll={animationId:this.root.animationId,phase:m,isRoot:f,offset:l(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!c)return;const m=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,x=this.projectionDelta&&!Ky(this.projectionDelta),f=this.getTransformTemplate(),g=f?f(this.latestValues,""):void 0,p=g!==this.prevTransformTemplateValue;m&&this.instance&&(x||on(this.latestValues)||p)&&(c(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(m=!0){const x=this.measurePageBox();let f=this.removeElementScroll(x);return m&&(f=this.removeTransform(f)),v5(f),{animationId:this.root.animationId,measuredBox:x,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:m}=this.options;if(!m)return pt();const x=m.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(j5))){const{scroll:g}=this.root;g&&(dr(x.x,g.offset.x),dr(x.y,g.offset.y))}return x}removeElementScroll(m){const x=pt();if(xs(x,m),this.scroll?.wasRoot)return x;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:p,options:y}=g;g!==this.root&&p&&y.layoutScroll&&(p.wasRoot&&xs(x,m),dr(x.x,p.offset.x),dr(x.y,p.offset.y))}return x}applyTransform(m,x=!1){const f=pt();xs(f,m);for(let g=0;g<this.path.length;g++){const p=this.path[g];!x&&p.options.layoutScroll&&p.scroll&&p!==p.root&&ur(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),on(p.latestValues)&&ur(f,p.latestValues)}return on(this.latestValues)&&ur(f,this.latestValues),f}removeTransform(m){const x=pt();xs(x,m);for(let f=0;f<this.path.length;f++){const g=this.path[f];if(!g.instance||!on(g.latestValues))continue;am(g.latestValues)&&g.updateSnapshot();const p=pt(),y=g.measurePageBox();xs(p,y),rp(x,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,p)}return on(this.latestValues)&&rp(x,this.latestValues),x}setTargetDelta(m){this.targetDelta=m,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(m){this.options={...this.options,...m,crossfade:m.crossfade!==void 0?m.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(m=!1){const x=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=x.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=x.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=x.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==x;if(!(m||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const j=this.getClosestProjectingParent();j&&j.layout&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),Dl(this.relativeTargetOrigin,this.layout.layoutBox,j.layout.layoutBox),xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):xs(this.target,this.layout.layoutBox),ky(this.target,this.targetDelta)):xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const j=this.getClosestProjectingParent();j&&!!j.resumingFrom==!!this.resumingFrom&&!j.options.layoutScroll&&j.target&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),Dl(this.relativeTargetOrigin,this.target,j.target),xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||am(this.parent.latestValues)||Ey(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const m=this.getLead(),x=!!this.resumingFrom||this!==m;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),x&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(f=!1),f)return;const{layout:g,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||p))return;xs(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,j=this.treeScale.y;VS(this.layoutCorrected,this.treeScale,this.path,x),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=pt());const{target:T}=m;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sp(this.prevProjectionDelta.x,this.projectionDelta.x),sp(this.prevProjectionDelta.y,this.projectionDelta.y)),kl(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==j||!dp(this.projectionDelta.x,this.prevProjectionDelta.x)||!dp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(m=!0){if(this.options.visualElement?.scheduleRender(),m){const x=this.getStack();x&&x.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mr(),this.projectionDelta=mr(),this.projectionDeltaWithTransform=mr()}setAnimationOrigin(m,x=!1){const f=this.snapshot,g=f?f.latestValues:{},p={...this.latestValues},y=mr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!x;const j=pt(),T=f?f.source:void 0,L=this.layout?this.layout.source:void 0,w=T!==L,z=this.getStack(),N=!z||z.members.length<=1,E=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(b5));this.animationProgress=0;let S;this.mixTargetDelta=O=>{const A=O/1e3;fp(y.x,m.x,A),fp(y.y,m.y,A),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dl(j,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p5(this.relativeTarget,this.relativeTargetOrigin,j,A),S&&s5(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=pt()),xs(S,this.relativeTarget)),w&&(this.animationValues=p,Q4(p,g,this.latestValues,A,E,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(m){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Oa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{bo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fr(0)),this.currentAnimation=Y4(this.motionValue,[0,1e3],{...m,velocity:0,isSync:!0,onUpdate:x=>{this.mixTargetDelta(x),m.onUpdate&&m.onUpdate(x)},onStop:()=>{},onComplete:()=>{m.onComplete&&m.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const m=this.getStack();m&&m.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(r5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const m=this.getLead();let{targetWithTransforms:x,target:f,layout:g,latestValues:p}=m;if(!(!x||!f||!g)){if(this!==m&&this.layout&&g&&Jy(this.options.animationType,this.layout.layoutBox,g.layoutBox)){f=this.target||pt();const y=It(this.layout.layoutBox.x);f.x.min=m.target.x.min,f.x.max=f.x.min+y;const j=It(this.layout.layoutBox.y);f.y.min=m.target.y.min,f.y.max=f.y.min+j}xs(x,f),ur(x,p),kl(this.projectionDeltaWithTransform,this.layoutCorrected,x,p)}}registerSharedNode(m,x){this.sharedNodes.has(m)||this.sharedNodes.set(m,new a5),this.sharedNodes.get(m).add(x);const g=x.options.initialPromotionConfig;x.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(x):void 0})}isLead(){const m=this.getStack();return m?m.lead===this:!0}getLead(){const{layoutId:m}=this.options;return m?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:m}=this.options;return m?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:m}=this.options;if(m)return this.root.sharedNodes.get(m)}promote({needsReset:m,transition:x,preserveFollowOpacity:f}={}){const g=this.getStack();g&&g.promote(this,f),m&&(this.projectionDelta=void 0,this.needsReset=!0),x&&this.setOptions({transition:x})}relegate(){const m=this.getStack();return m?m.relegate(this):!1}resetSkewAndRotation(){const{visualElement:m}=this.options;if(!m)return;let x=!1;const{latestValues:f}=m;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(x=!0),!x)return;const g={};f.z&&xu("z",m,g,this.animationValues);for(let p=0;p<fu.length;p++)xu(`rotate${fu[p]}`,m,g,this.animationValues),xu(`skew${fu[p]}`,m,g,this.animationValues);m.render();for(const p in g)m.setStaticValue(p,g[p]),this.animationValues&&(this.animationValues[p]=g[p]);m.scheduleRender()}applyProjectionStyles(m,x){if(!this.instance||this.isSVG)return;if(!this.isVisible){m.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,m.visibility="",m.opacity="",m.pointerEvents=po(x?.pointerEvents)||"",m.transform=f?f(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=po(x?.pointerEvents)||""),this.hasProjected&&!on(this.latestValues)&&(m.transform=f?f({},""):"none",this.hasProjected=!1);return}m.visibility="";const p=g.animationValues||g.latestValues;this.applyTransformsToTarget();let y=n5(this.projectionDeltaWithTransform,this.treeScale,p);f&&(y=f(p,y)),m.transform=y;const{x:j,y:T}=this.projectionDelta;m.transformOrigin=`${j.origin*100}% ${T.origin*100}% 0`,g.animationValues?m.opacity=g===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:m.opacity=g===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const L in _l){if(p[L]===void 0)continue;const{correct:w,applyTo:z,isCSSVariable:N}=_l[L],E=y==="none"?p[L]:w(p[L],g);if(z){const S=z.length;for(let O=0;O<S;O++)m[z[O]]=E}else N?this.options.visualElement.renderState.vars[L]=E:m[L]=E}this.options.layoutId&&(m.pointerEvents=g===this?po(x?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(m=>m.currentAnimation?.stop()),this.root.nodes.forEach(up),this.root.sharedNodes.clear()}}}function i5(a){a.updateLayout()}function o5(a){const n=a.resumeFrom?.snapshot||a.snapshot;if(a.isLead()&&a.layout&&n&&a.hasListeners("didUpdate")){const{layoutBox:l,measuredBox:o}=a.layout,{animationType:c}=a.options,u=n.source!==a.layout.source;c==="size"?gs(p=>{const y=u?n.measuredBox[p]:n.layoutBox[p],j=It(y);y.min=l[p].min,y.max=y.min+j}):Jy(c,n.layoutBox,l)&&gs(p=>{const y=u?n.measuredBox[p]:n.layoutBox[p],j=It(l[p]);y.max=y.min+j,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[p].max=a.relativeTarget[p].min+j)});const m=mr();kl(m,l,n.layoutBox);const x=mr();u?kl(x,a.applyTransform(o,!0),n.measuredBox):kl(x,l,n.layoutBox);const f=!Ky(m);let g=!1;if(!a.resumeFrom){const p=a.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:j}=p;if(y&&j){const T=pt();Dl(T,n.layoutBox,y.layoutBox);const L=pt();Dl(L,l,j.layoutBox),Xy(T,L)||(g=!0),p.options.layoutRoot&&(a.relativeTarget=L,a.relativeTargetOrigin=T,a.relativeParent=p)}}}a.notifyListeners("didUpdate",{layout:l,snapshot:n,delta:x,layoutDelta:m,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(a.isLead()){const{onExitComplete:l}=a.options;l&&l()}a.options.transition=void 0}function c5(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function d5(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function u5(a){a.clearSnapshot()}function up(a){a.clearMeasurements()}function mp(a){a.isLayoutDirty=!1}function m5(a){const{visualElement:n}=a.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),a.resetTransform()}function hp(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function h5(a){a.resolveTargetDelta()}function f5(a){a.calcProjection()}function x5(a){a.resetSkewAndRotation()}function g5(a){a.removeLeadSnapshot()}function fp(a,n,l){a.translate=ct(n.translate,0,l),a.scale=ct(n.scale,1,l),a.origin=n.origin,a.originPoint=n.originPoint}function xp(a,n,l,o){a.min=ct(n.min,l.min,o),a.max=ct(n.max,l.max,o)}function p5(a,n,l,o){xp(a.x,n.x,l.x,o),xp(a.y,n.y,l.y,o)}function b5(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const y5={duration:.45,ease:[.4,0,.1,1]},gp=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),pp=gp("applewebkit/")&&!gp("chrome/")?Math.round:ps;function bp(a){a.min=pp(a.min),a.max=pp(a.max)}function v5(a){bp(a.x),bp(a.y)}function Jy(a,n,l){return a==="position"||a==="preserve-aspect"&&!A4(cp(n),cp(l),.2)}function j5(a){return a!==a.root&&a.scroll?.wasRoot}const N5=Zy({attachResizeListener:(a,n)=>Bl(a,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gu={current:void 0},Wy=Zy({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!gu.current){const a=new N5({});a.mount(window),a.setOptions({layoutScroll:!0}),gu.current=a}return gu.current},resetTransform:(a,n)=>{a.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),w5={pan:{Feature:q4},drag:{Feature:P4,ProjectionNode:Wy,MeasureLayout:Yy}};function yp(a,n,l){const{props:o}=a;a.animationState&&o.whileHover&&a.animationState.setActive("whileHover",l==="Start");const c="onHover"+l,u=o[c];u&&lt.postRender(()=>u(n,Yl(n)))}class S5 extends qa{mount(){const{current:n}=this.node;n&&(this.unmount=Gw(n,(l,o)=>(yp(this.node,o,"Start"),c=>yp(this.node,c,"End"))))}unmount(){}}class C5 extends qa{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hl(Bl(this.node.current,"focus",()=>this.onFocus()),Bl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vp(a,n,l){const{props:o}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&o.whileTap&&a.animationState.setActive("whileTap",l==="Start");const c="onTap"+(l==="End"?"":l),u=o[c];u&&lt.postRender(()=>u(n,Yl(n)))}class A5 extends qa{mount(){const{current:n}=this.node;n&&(this.unmount=Zw(n,(l,o)=>(vp(this.node,o,"Start"),(c,{success:u})=>vp(this.node,c,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dm=new WeakMap,pu=new WeakMap,T5=a=>{const n=dm.get(a.target);n&&n(a)},E5=a=>{a.forEach(T5)};function k5({root:a,...n}){const l=a||document;pu.has(l)||pu.set(l,{});const o=pu.get(l),c=JSON.stringify(n);return o[c]||(o[c]=new IntersectionObserver(E5,{root:a,...n})),o[c]}function D5(a,n,l){const o=k5(n);return dm.set(a,l),o.observe(a),()=>{dm.delete(a),o.unobserve(a)}}const M5={some:0,all:1};class R5 extends qa{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:l,margin:o,amount:c="some",once:u}=n,m={root:l?l.current:void 0,rootMargin:o,threshold:typeof c=="number"?c:M5[c]},x=f=>{const{isIntersecting:g}=f;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),j=g?p:y;j&&j(f)};return D5(this.node.current,m,x)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:l}=this.node;["amount","margin","root"].some(L5(n,l))&&this.startObserver()}unmount(){}}function L5({viewport:a={}},{viewport:n={}}={}){return l=>a[l]!==n[l]}const z5={inView:{Feature:R5},tap:{Feature:A5},focus:{Feature:C5},hover:{Feature:S5}},O5={layout:{ProjectionNode:Wy,MeasureLayout:Yy}},_5={...v4,...z5,...w5,...O5},ge=_S(_5,XS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U5=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,o)=>o?o.toUpperCase():l.toLowerCase()),jp=a=>{const n=U5(a);return n.charAt(0).toUpperCase()+n.slice(1)},ev=(...a)=>a.filter((n,l,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===l).join(" ").trim(),V5=a=>{for(const n in a)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=b.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:m,...x},f)=>b.createElement("svg",{ref:f,...P5,width:n,height:n,stroke:a,strokeWidth:o?Number(l)*24/Number(n):l,className:ev("lucide",c),...!u&&!V5(x)&&{"aria-hidden":"true"},...x},[...m.map(([g,p])=>b.createElement(g,p)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=(a,n)=>{const l=b.forwardRef(({className:o,...c},u)=>b.createElement(q5,{ref:u,iconNode:n,className:ev(`lucide-${B5(jp(a))}`,`lucide-${a}`,o),...c}));return l.displayName=jp(a),l};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Np=Me("activity",H5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_o=Me("arrow-left",I5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ht=Me("arrow-right",F5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wp=Me("bell",Y5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ft=Me("book-open",$5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],K5=Me("briefcase",G5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Q5=Me("building-2",X5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],J5=Me("building",Z5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],un=Me("calendar-days",W5);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ct=Me("calendar",e6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],tv=Me("chart-column",t6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bu=Me("check",s6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wm=Me("chevron-down",a6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sv=Me("chevron-left",n6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gr=Me("chevron-right",r6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ra=Me("circle-alert",l6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Pt=Me("circle-check-big",i6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sp=Me("circle-check",o6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],av=Me("circle-x",c6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zt=Me("clock",d6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]],m6=Me("cog",u6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Os=Me("credit-card",h6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],x6=Me("database",f6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],za=Me("dollar-sign",g6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],b6=Me("download",p6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],um=Me("eye-off",y6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xn=Me("eye",v6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rs=Me("file-text",j6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Cp=Me("funnel",N6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Je=Me("graduation-cap",w6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],C6=Me("grid-3x3",S6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],T6=Me("house",A6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pr=Me("info",E6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],D6=Me("list",k6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],mm=Me("lock",M6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],L6=Me("log-out",R6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],$l=Me("mail",z6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ba=Me("map-pin",O6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],B6=Me("moon",_6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],V6=Me("pen-line",U6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],q6=Me("percent",P6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ul=Me("phone",H6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ws=Me("plus",I6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],nv=Me("printer",F6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],$6=Me("qr-code",Y6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],La=Me("receipt",G6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],X6=Me("rotate-ccw",K6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Z6=Me("rotate-cw",Q6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],_s=Me("search",J6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wr=Me("settings",W6);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],eh=Me("shield",e3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ao=Me("sparkles",t3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],To=Me("square-check-big",s3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],la=Me("square-pen",a3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Eo=Me("square",n3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],l3=Me("sun",r3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ua=Me("trash-2",i3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ap=Me("trending-down",o3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],gn=Me("trending-up",c3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pn=Me("triangle-alert",d3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Va=Me("user-check",u3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],h3=Me("user-plus",m3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mt=Me("user",f3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bt=Me("users",x3);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Us=Me("x",g3),ce=({children:a,variant:n="primary",size:l="md",className:o="",onClick:c,disabled:u=!1,type:m="button"})=>{const x="btn font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",f={primary:"btn-primary bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white shadow-lg hover:shadow-xl",secondary:"btn-secondary bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white",outline:"btn-outline border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white",ghost:"btn-ghost text-blue-600 hover:bg-blue-50 hover:text-blue-700"},g={sm:"btn-sm px-3 py-2 text-sm",md:"px-6 py-3 text-base",lg:"btn-lg px-8 py-4 text-lg"};return e.jsx("button",{type:m,className:`${x} ${f[n]} ${g[l]} ${o}`,onClick:c,disabled:u,children:a})},p3=()=>e.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_1px_1px,rgba(255,255,255,0.15)_1px,transparent_0)] bg-[length:50px_50px] animate-pulse"}),e.jsx(ge.div,{className:"absolute top-20 left-20 w-32 h-32 bg-gradient-to-r from-blue-400/20 to-indigo-400/20 rounded-full blur-xl",animate:{y:[0,-20,0],x:[0,10,0],scale:[1,1.1,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),e.jsx(ge.div,{className:"absolute top-40 right-32 w-48 h-48 bg-gradient-to-r from-indigo-400/20 to-purple-400/20 rounded-full blur-2xl",animate:{y:[0,30,0],x:[0,-15,0],scale:[1,.9,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2}}),e.jsx(ge.div,{className:"absolute bottom-32 left-1/3 w-40 h-40 bg-gradient-to-r from-cyan-400/20 to-blue-400/20 rounded-full blur-xl",animate:{y:[0,-25,0],x:[0,20,0],scale:[1,1.2,1]},transition:{duration:12,repeat:1/0,ease:"easeInOut",delay:4}}),e.jsx(ge.div,{className:"absolute bottom-20 right-20 w-56 h-56 bg-gradient-to-r from-blue-400/15 to-indigo-400/15 rounded-full blur-3xl",animate:{y:[0,40,0],x:[0,-25,0],scale:[1,.8,1]},transition:{duration:15,repeat:1/0,ease:"easeInOut",delay:1}}),e.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-50",viewBox:"0 0 1000 1000",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgba(59, 130, 246, 0.3)"}),e.jsx("stop",{offset:"50%",stopColor:"rgba(99, 102, 241, 0.2)"}),e.jsx("stop",{offset:"100%",stopColor:"rgba(139, 92, 246, 0.3)"})]})}),e.jsx(ge.path,{d:"M100,200 Q300,100 500,200 T900,200",stroke:"url(#lineGradient)",strokeWidth:"2",fill:"none",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:3,repeat:1/0,repeatType:"reverse"}}),e.jsx(ge.path,{d:"M100,400 Q400,300 700,400 T900,400",stroke:"url(#lineGradient)",strokeWidth:"2",fill:"none",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:4,repeat:1/0,repeatType:"reverse",delay:1}}),e.jsx(ge.path,{d:"M100,600 Q200,500 400,600 T800,600",stroke:"url(#lineGradient)",strokeWidth:"2",fill:"none",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:5,repeat:1/0,repeatType:"reverse",delay:2}})]})]}),e.jsx("section",{className:"relative pt-20 pb-20 min-h-screen flex items-center",children:e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full",children:e.jsxs("div",{className:"text-center",children:[e.jsxs(ge.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-12",children:[e.jsxs("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-bold mb-8 leading-tight",children:[e.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-indigo-100 bg-clip-text text-transparent",children:"La Gestion"}),e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-blue-300 via-indigo-300 to-purple-300 bg-clip-text text-transparent",children:"Scolaire"}),e.jsx("br",{}),e.jsx("span",{className:"text-5xl md:text-6xl lg:text-7xl bg-gradient-to-r from-blue-400 to-indigo-400 bg-clip-text text-transparent",children:"Simplifie"})]}),e.jsxs("p",{className:"text-xl md:text-2xl text-blue-100 max-w-4xl mx-auto mb-12 leading-relaxed font-light",children:["Transformez votre tablissement scolaire avec une plateforme",e.jsxs("span",{className:"font-semibold text-white",children:[" ","moderne et intuitive"]}),". Grez lves, cours, et performances en toute simplicit."]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center mb-16",children:e.jsx(ta,{to:"/login",children:e.jsx(ge.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(ce,{size:"lg",className:"bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white shadow-2xl hover:shadow-blue-500/25 px-8 py-4 text-lg font-semibold rounded-xl transition-all duration-300",children:["Commencer maintenant",e.jsx(Ht,{className:"w-6 h-6 ml-3"})]})})})})]}),e.jsxs(ge.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[e.jsxs(ge.div,{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 shadow-xl border border-white/20",whileHover:{y:-5,scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-400 to-indigo-400 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:e.jsx(bt,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:"500+"}),e.jsx("p",{className:"text-blue-200 font-medium",children:"tablissements"})]}),e.jsxs(ge.div,{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 shadow-xl border border-white/20",whileHover:{y:-5,scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:e.jsx(Ft,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:"50K+"}),e.jsx("p",{className:"text-blue-200 font-medium",children:"tudiants"})]}),e.jsxs(ge.div,{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 shadow-xl border border-white/20",whileHover:{y:-5,scale:1.02},transition:{type:"spring",stiffness:300},children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-400 to-pink-400 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:e.jsx(tv,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:"99%"}),e.jsx("p",{className:"text-blue-200 font-medium",children:"Satisfaction"})]})]})]})})})]}),ke=b.forwardRef(({label:a,error:n,icon:l,className:o="",...c},u)=>e.jsxs("div",{className:"form-control w-full",children:[a&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-slate-700 font-medium",children:a})}),e.jsxs("div",{className:"relative",children:[l&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-slate-500",children:l}),e.jsx("input",{ref:u,className:`
              input input-bordered w-full transition-all duration-200 placeholder:text-slate-400
              ${l?"pl-10":""}
              ${n?"border-red-400 focus:border-red-500 focus:ring-red-200":""}
              ${c.type==="date"||c.type==="time"?"bg-gray-700 text-white border-gray-600 focus:border-gray-500 focus:ring-2 focus:ring-gray-500 [color-scheme:dark]":"bg-white text-slate-800 border-slate-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}
              ${o}
            `,...c})]}),n&&e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text-alt text-red-500",children:n})})]}));ke.displayName="Input";const mn="/assets/logo%20itak-C5PHd-VC.png",b3="http://localhost:3000",rr={STUDENT:"student",TEACHER:"teacher",STAFF:"staff",PARENT:"parent",ADMIN:"admin"},js={MONDAY:"Monday",TUESDAY:"Tuesday",WEDNESDAY:"Wednesday",THURSDAY:"Thursday",FRIDAY:"Friday",SATURDAY:"Saturday",SUNDAY:"Sunday"};class y3{async makeRequest(n,l={}){try{const o=`${b3}${n}`,c=localStorage.getItem("itak_access_token")||sessionStorage.getItem("itak_access_token");console.log(" Token rcupr:",c?" Prsent":" Absent"),c&&console.log(" Token (premiers caractres):",c.substring(0,20)+"...");const u={headers:{"Content-Type":"application/json",...c&&{Authorization:`Bearer ${c}`},...l.headers},...l};console.log(" Headers envoys:",u.headers),console.log(" Appel HTTP vers:",o),console.log(" Options de la requte:",u),console.log(" Body de la requte:",l.body);const m=await fetch(o,u);console.log(" Statut de la rponse:",m.status,m.statusText),console.log(" Headers de la rponse:",Object.fromEntries(m.headers.entries()));const x=m.headers.get("content-type"),f=x&&x.includes("application/json");let g=null;if(f){const y=await m.text();if(y&&y.trim().length>0)try{g=JSON.parse(y)}catch{console.warn(" Impossible de parser le JSON:",y),g=null}}if(console.log(" Donnes de la rponse:",g),!m.ok){console.error(" Erreur HTTP:",m.status,m.statusText),console.error(" Dtails de l'erreur:",g);let y="Erreur inconnue";if(g&&typeof g=="object"){if("message"in g){const j=g.message;Array.isArray(j)?y=j[0]:typeof j=="string"&&j.trim()&&(y=j)}if(y==="Erreur inconnue"&&"error"in g){const j=g.error;typeof j=="string"&&j.trim()&&(y=j)}if(y==="Erreur inconnue"&&"statusCode"in g&&"message"in g){const j=g.message;typeof j=="string"&&j.trim()&&(y=j)}}return y==="Erreur inconnue"&&(y=`Erreur ${m.status}: ${m.statusText}`),{success:!1,error:y,statusCode:m.status}}console.log(" Requte russie!");let p;if(g&&typeof g=="object"&&"message"in g){const y=g.message;typeof y=="string"&&(p=y)}return{success:!0,data:g,message:p}}catch(o){return console.error(" Erreur de connexion:",o),{success:!1,error:o instanceof Error?o.message:"Erreur de connexion"}}}async createUser(n){return console.log(n),this.makeRequest("/auth/register",{method:"POST",body:JSON.stringify(n)})}async getUserById(n){return this.makeRequest(`/users/${n}`)}async getAllUsers(){return this.makeRequest("/users")}async updateUser(n,l){return this.makeRequest(`/users/${n}`,{method:"PUT",body:JSON.stringify(l)})}async deleteUser(n){return this.makeRequest(`/users/${n}`,{method:"DELETE"})}async login(n){return this.makeRequest("/auth/login",{method:"POST",body:JSON.stringify(n)})}async refreshToken(n){return this.makeRequest("/auth/refresh",{method:"POST",body:JSON.stringify({refresh_token:n})})}async logout(){return this.makeRequest("/auth/logout",{method:"POST"})}async createStudentProfile(n){return console.log(n),this.makeRequest("/students",{method:"POST",body:JSON.stringify(n)})}async getAllStudents(){return this.makeRequest("/students")}async createTeacherProfile(n){return console.log(n),this.makeRequest("/teachers",{method:"POST",body:JSON.stringify(n)})}async getAllTeachers(){return this.makeRequest("/teachers")}async createStaffProfile(n){return console.log(n),this.makeRequest("/staff",{method:"POST",body:JSON.stringify(n)})}async getAllStaff(){return this.makeRequest("/staff")}async updateStudentProfile(n,l){return this.makeRequest(`/students/${n}`,{method:"PUT",body:JSON.stringify(l)})}async updateTeacherProfile(n,l){return this.makeRequest(`/teachers/${n}`,{method:"PUT",body:JSON.stringify(l)})}async updateStaffProfile(n,l){return this.makeRequest(`/staff/${n}`,{method:"PUT",body:JSON.stringify(l)})}async createClass(n){return console.log(n),this.makeRequest("/classes",{method:"POST",body:JSON.stringify(n)})}async getAllClasses(){return this.makeRequest("/classes")}async updateClass(n,l){return this.makeRequest(`/classes/${n}`,{method:"PUT",body:JSON.stringify(l)})}async deleteClass(n){return this.makeRequest(`/classes/${n}`,{method:"DELETE"})}async getClassesByCategory(n){return this.makeRequest(`/classes/category/${n}`)}async getClassesByLevel(n){return this.makeRequest(`/classes/level/${n}`)}async createClassCategory(n){return this.makeRequest("/class-categories",{method:"POST",body:JSON.stringify(n)})}async getAllClassCategories(){return this.makeRequest("/class-categories")}async getClassCategoryById(n){return this.makeRequest(`/class-categories/${n}`)}async updateClassCategory(n,l){return this.makeRequest(`/class-categories/${n}`,{method:"PUT",body:JSON.stringify(l)})}async deleteClassCategory(n){return this.makeRequest(`/class-categories/${n}`,{method:"DELETE"})}async initializeClassCategories(){return this.makeRequest("/class-categories/initialize",{method:"POST"})}async createSubject(n){return this.makeRequest("/subjects",{method:"POST",body:JSON.stringify(n)})}async getAllSubjects(){return this.makeRequest("/subjects")}async updateSubject(n,l){return this.makeRequest(`/subjects/${n}`,{method:"PUT",body:JSON.stringify(l)})}async deleteSubject(n){return this.makeRequest(`/subjects/${n}`,{method:"DELETE"})}async createClassSubject(n){return console.log(n),this.makeRequest("/class-subjects",{method:"POST",body:JSON.stringify(n)})}async getAllClassSubjects(){return this.makeRequest("/class-subjects")}async createStudentClass(n){return console.log(n),this.makeRequest("/student-classes",{method:"POST",body:JSON.stringify(n)})}async getAllStudentClasses(){return this.makeRequest("/student-classes")}async createTeachingAssignment(n){return console.log(n),this.makeRequest("/teaching-assignments",{method:"POST",body:JSON.stringify(n)})}async getAllTeachingAssignments(){return this.makeRequest("/teaching-assignments")}async deleteStudentClass(n){return this.makeRequest(`/student-classes/${n}`,{method:"DELETE"})}async deleteClassSubject(n){return this.makeRequest(`/class-subjects/${n}`,{method:"DELETE"})}async deleteTeachingAssignment(n){return this.makeRequest(`/teaching-assignments/${n}`,{method:"DELETE"})}async createSchoolYear(n){return this.makeRequest("/school-years",{method:"POST",body:JSON.stringify(n)})}async getAllSchoolYears(){return this.makeRequest("/school-years")}async getSchoolYearById(n){return this.makeRequest(`/school-years/${n}`)}async updateSchoolYear(n,l){return this.makeRequest(`/school-years/${n}`,{method:"PUT",body:JSON.stringify(l)})}async deleteSchoolYear(n){return this.makeRequest(`/school-years/${n}`,{method:"DELETE"})}async createTerm(n){return this.makeRequest("/terms",{method:"POST",body:JSON.stringify(n)})}async getAllTerms(){return this.makeRequest("/terms")}async getTermById(n){return this.makeRequest(`/terms/${n}`)}async getTermsBySchoolYear(n){return this.makeRequest(`/terms/school-years/${n}`)}async updateTerm(n,l){return this.makeRequest(`/terms/${n}`,{method:"PUT",body:JSON.stringify(l)})}async deleteTerm(n){return this.makeRequest(`/terms/${n}`,{method:"DELETE"})}async createTimetable(n){return this.makeRequest("/timetables",{method:"POST",body:JSON.stringify(n)})}async getAllTimetables(){return this.makeRequest("/timetables")}async getTimetableById(n){return this.makeRequest(`/timetables/${n}`)}async getTimetablesByClass(n,l){return this.makeRequest(`/timetables/class/${n}?academicYearId=${l}`)}async getWeeklyTimetable(n,l){return this.makeRequest(`/timetables/weekly/${n}?academicYearId=${l}`)}async updateTimetable(n,l){return this.makeRequest(`/timetables/${n}`,{method:"PATCH",body:JSON.stringify(l)})}async deleteTimetable(n){return this.makeRequest(`/timetables/${n}`,{method:"DELETE"})}async createEvent(n){return this.makeRequest("/events",{method:"POST",body:JSON.stringify(n)})}async getAllEvents(){return this.makeRequest("/events")}async getEventById(n){return this.makeRequest(`/events/${n}`)}async getEventsByAcademicYear(n){return this.makeRequest(`/events/academic-year/${n}`)}async getEventsByClass(n){return this.makeRequest(`/events/class/${n}`)}async getEventsByDateRange(n,l){return this.makeRequest(`/events/calendar?startDate=${n}&endDate=${l}`)}async updateEvent(n,l){return this.makeRequest(`/events/${n}`,{method:"PATCH",body:JSON.stringify(l)})}async deleteEvent(n){return this.makeRequest(`/events/${n}`,{method:"DELETE"})}async getAllFeeTypes(){return this.makeRequest("/fee-types")}async createFeeType(n){return this.makeRequest("/fee-types",{method:"POST",body:JSON.stringify(n)})}async updateFeeType(n,l){return this.makeRequest(`/fee-types/${n}`,{method:"PATCH",body:JSON.stringify(l)})}async deleteFeeType(n){return this.makeRequest(`/fee-types/${n}`,{method:"DELETE"})}async getAllStudentFees(){return this.makeRequest("/student-fees")}async createStudentFee(n){return this.makeRequest("/student-fees",{method:"POST",body:JSON.stringify(n)})}async updateStudentFee(n,l){return this.makeRequest(`/student-fees/${n}`,{method:"PATCH",body:JSON.stringify(l)})}async deleteStudentFee(n){return this.makeRequest(`/student-fees/${n}`,{method:"DELETE"})}async getAllPayments(){return this.makeRequest("/payments")}async createPayment(n){return this.makeRequest("/payments",{method:"POST",body:JSON.stringify(n)})}async updatePayment(n,l){return this.makeRequest(`/payments/${n}`,{method:"PUT",body:JSON.stringify(l)})}async deletePayment(n){return this.makeRequest(`/payments/${n}`,{method:"DELETE"})}async getAllInvoices(){return this.makeRequest("/invoices")}async createInvoice(n){return this.makeRequest("/invoices",{method:"POST",body:JSON.stringify(n)})}async updateInvoice(n,l){return this.makeRequest(`/invoices/${n}`,{method:"PUT",body:JSON.stringify(l)})}async deleteInvoice(n){return this.makeRequest(`/invoices/${n}`,{method:"DELETE"})}async getAllDiscounts(){return this.makeRequest("/discounts")}async createDiscount(n){return this.makeRequest("/discounts",{method:"POST",body:JSON.stringify(n)})}async updateDiscount(n,l){return this.makeRequest(`/discounts/${n}`,{method:"PUT",body:JSON.stringify(l)})}async deleteDiscount(n){return this.makeRequest(`/discounts/${n}`,{method:"DELETE"})}async getAllRefunds(){return this.makeRequest("/refunds")}async createRefund(n){return this.makeRequest("/refunds",{method:"POST",body:JSON.stringify(n)})}async updateRefund(n,l){return this.makeRequest(`/refunds/${n}`,{method:"PUT",body:JSON.stringify(l)})}async deleteRefund(n){return this.makeRequest(`/refunds/${n}`,{method:"DELETE"})}async getFinanceStats(){return this.makeRequest("/finance/stats")}}const ve=new y3,Ss=({type:a,title:n,message:l,isVisible:o,onClose:c,duration:u=5e3})=>{b.useEffect(()=>{if(o&&u>0){const f=setTimeout(()=>{c()},u);return()=>clearTimeout(f)}},[o,u,c]);const m=()=>{switch(a){case"success":return e.jsx(Pt,{className:"w-6 h-6 text-green-500"});case"error":return e.jsx(av,{className:"w-6 h-6 text-red-500"});case"warning":return e.jsx(ra,{className:"w-6 h-6 text-yellow-500"});case"info":return e.jsx(pr,{className:"w-6 h-6 text-blue-500"});default:return e.jsx(pr,{className:"w-6 h-6 text-blue-500"})}},x=()=>{switch(a){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}};return o?e.jsx("div",{className:`fixed top-4 right-4 z-50 max-w-sm w-full ${x()} border rounded-lg shadow-lg p-4 transform transition-all duration-300 ease-out`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[m(),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-semibold mb-1",children:n}),e.jsx("p",{className:"text-sm opacity-90",children:l})]}),e.jsx("button",{onClick:c,className:"flex-shrink-0 p-1 rounded-full hover:bg-black/10 transition-colors",children:e.jsx(Us,{className:"w-4 h-4"})})]})}):null},v3=()=>{const a=ut(),[n,l]=b.useState(!1),[o,c]=b.useState({email:"",password:"",rememberMe:!1}),[u,m]=b.useState({}),[x,f]=b.useState(!1),[g,p]=b.useState({type:"info",title:"",message:"",isVisible:!1}),y=(S,O,A)=>{p({type:S,title:O,message:A,isVisible:!0})},j=()=>{p(S=>({...S,isVisible:!1}))},T=S=>{const{name:O,value:A,type:$,checked:B}=S.target;c(H=>({...H,[O]:$==="checkbox"?B:A})),u[O]&&m(H=>({...H,[O]:""}))},L=()=>{const S={};return o.email?/\S+@\S+\.\S+/.test(o.email)||(S.email="L'email n'est pas valide"):S.email="L'email est requis",o.password?o.password.length<6&&(S.password="Le mot de passe doit contenir au moins 6 caractres"):S.password="Le mot de passe est requis",m(S),Object.keys(S).length===0},w=async S=>{if(S.preventDefault(),L()){f(!0);try{const O=await ve.login({email:o.email,password:o.password});if(O.success&&O.data){const{user:A,access_token:$,refresh_token:B}=O.data;o.rememberMe?(localStorage.setItem("itak_access_token",$),localStorage.setItem("refresh_token",B),localStorage.setItem("itak_user",JSON.stringify(A)),console.log(" Token stock dans localStorage:",$)):(sessionStorage.setItem("itak_access_token",$),sessionStorage.setItem("refresh_token",B),sessionStorage.setItem("itak_user",JSON.stringify(A)),console.log(" Token stock dans sessionStorage:",$)),y("success","Connexion russie !",`Bienvenue ${A.firstName} ${A.lastName} !`),setTimeout(()=>{a("/dashboard")},2e3)}else y("error","chec de la connexion",O.error||"Email ou mot de passe incorrect.")}catch(O){console.error("Login error:",O),y("error","Erreur de connexion","Impossible de se connecter au serveur. Vrifiez votre connexion internet.")}finally{f(!1)}}},z={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},N={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},E=[{icon:e.jsx(bt,{className:"w-6 h-6"}),title:"Gestion des Utilisateurs",description:"Accs scuris pour tous les membres de votre tablissement"},{icon:e.jsx(Ft,{className:"w-6 h-6"}),title:"Donnes Centralises",description:"Toutes vos informations scolaires en un seul endroit"},{icon:e.jsx(eh,{className:"w-6 h-6"}),title:"Scurit Maximale",description:"Protection de vos donnes avec chiffrement de niveau bancaire"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex",children:[e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:e.jsxs(ge.div,{className:"w-full max-w-md",variants:z,initial:"hidden",animate:"visible",children:[e.jsxs(ge.div,{className:"text-center mb-8",variants:N,children:[e.jsxs(ta,{to:"/",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 mb-6 transition-colors",children:[e.jsx(_o,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Retour  l'accueil"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx("img",{src:mn,alt:"ITAK Manager",className:"w-12 h-12"}),e.jsx("span",{className:"text-2xl font-bold text-blue-900",children:"School Manager"})]}),e.jsx("h1",{className:"text-3xl font-bold text-blue-900 mb-2",children:"Connexion"}),e.jsx("p",{className:"text-blue-700",children:"Accdez  votre espace de gestion scolaire"})]}),e.jsxs(ge.div,{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-blue-100 p-8",variants:N,children:[e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsx(ge.div,{variants:N,children:e.jsx(ke,{label:"Adresse email",type:"email",name:"email",placeholder:"votre@email.com",value:o.email,onChange:T,error:u.email,icon:e.jsx($l,{className:"w-5 h-5"})})}),e.jsx(ge.div,{variants:N,children:e.jsxs("div",{className:"relative",children:[e.jsx(ke,{label:"Mot de passe",type:n?"text":"password",name:"password",placeholder:"Votre mot de passe",value:o.password,onChange:T,error:u.password,icon:e.jsx(mm,{className:"w-5 h-5"})}),e.jsx("button",{type:"button",onClick:()=>l(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-600 transition-colors",children:n?e.jsx(um,{className:"w-5 h-5"}):e.jsx(xn,{className:"w-5 h-5"})})]})}),e.jsx(ge.div,{variants:N,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"rememberMe",checked:o.rememberMe,onChange:T,className:"checkbox checkbox-primary checkbox-sm"}),e.jsx("span",{className:"text-sm text-blue-700",children:"Se souvenir de moi"})]}),e.jsx(ta,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-700 transition-colors font-medium",children:"Mot de passe oubli ?"})]})}),e.jsx(ge.div,{variants:N,children:e.jsx(ce,{type:"submit",variant:"primary",size:"lg",className:"w-full bg-blue-600 hover:bg-blue-700 text-white shadow-lg",disabled:x,children:x?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Connexion en cours..."]}):"Se connecter"})})]}),e.jsx(ge.div,{className:"divider my-6",variants:N,children:e.jsx("span",{className:"text-blue-400 text-sm",children:"ou"})}),e.jsxs(ge.div,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-4",variants:N,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Pt,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Comptes de dmonstration"})]}),e.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Admin:"})," admin@school.com / admin123"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Enseignant:"})," teacher@school.com / teacher123"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"lve:"})," student@school.com / student123"]})]})]})]}),e.jsx(ge.div,{className:"text-center mt-6",variants:N,children:e.jsxs("p",{className:"text-blue-600 text-sm",children:["Pas encore de compte ?"," ",e.jsx(ta,{to:"/register",className:"text-blue-700 hover:text-blue-800 font-semibold transition-colors",children:"Crer un compte"})]})})]})}),e.jsx("div",{className:"hidden lg:flex w-1/2 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 text-white p-12",children:e.jsxs("div",{className:"w-full max-w-lg",children:[e.jsxs(ge.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.3},className:"mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Bienvenue sur School Manager"}),e.jsx("p",{className:"text-xl text-blue-100 leading-relaxed",children:"La plateforme moderne qui rvolutionne la gestion scolaire. Simplifiez l'administration et amliorez l'exprience de tous."})]}),e.jsx("div",{className:"space-y-8",children:E.map((S,O)=>e.jsxs(ge.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.5+O*.1},className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:S.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:S.title}),e.jsx("p",{className:"text-blue-100 leading-relaxed",children:S.description})]})]},O))}),e.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"mt-12 pt-8 border-t border-white/20",children:e.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"1000+"}),e.jsx("div",{className:"text-blue-100 text-sm",children:"coles"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"50k+"}),e.jsx("div",{className:"text-blue-100 text-sm",children:"Utilisateurs"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold",children:"99.9%"}),e.jsx("div",{className:"text-blue-100 text-sm",children:"Disponibilit"})]})]})})]})}),e.jsx(Ss,{type:g.type,title:g.title,message:g.message,isVisible:g.isVisible,onClose:j,duration:5e3})]})},j3=()=>{const a=ut(),[n,l]=b.useState(!1),[o,c]=b.useState(!1),[u,m]=b.useState({username:"",email:"",password:"",confirmPassword:"",role:rr.STUDENT,firstName:"",lastName:"",gender:"",birthDate:"",phone:"",acceptTerms:!1}),[x,f]=b.useState({}),[g,p]=b.useState(!1),[y,j]=b.useState({type:"info",title:"",message:"",isVisible:!1}),T=(B,H,P)=>{j({type:B,title:H,message:P,isVisible:!0})},L=()=>{j(B=>({...B,isVisible:!1}))},w=B=>{const{name:H,value:P,type:D}=B.target,k=B.target.checked;m(K=>({...K,[H]:D==="checkbox"?k:P})),x[H]&&f(K=>({...K,[H]:""}))},z=()=>{const B={};return u.username&&u.username.length>0&&u.username.length<3&&(B.username="Le nom d'utilisateur doit contenir au moins 3 caractres"),u.email?/\S+@\S+\.\S+/.test(u.email)||(B.email="L'email n'est pas valide"):B.email="L'email est requis",u.password?u.password.length<8&&(B.password="Le mot de passe doit contenir au moins 8 caractres"):B.password="Le mot de passe est requis",u.confirmPassword?u.password!==u.confirmPassword&&(B.confirmPassword="Les mots de passe ne correspondent pas"):B.confirmPassword="La confirmation du mot de passe est requise",u.firstName.trim()||(B.firstName="Le prnom est requis"),u.lastName.trim()||(B.lastName="Le nom de famille est requis"),u.acceptTerms||(B.acceptTerms="Vous devez accepter les conditions d'utilisation"),f(B),Object.keys(B).length===0},N=async B=>{if(B.preventDefault(),z()){p(!0);try{const H={username:u.username||void 0,email:u.email,password:u.password,firstName:u.firstName,lastName:u.lastName,gender:u.gender||void 0,birthDate:u.birthDate||void 0,phone:u.phone||void 0,role:u.role,isActive:!0},P=await ve.createUser(H);P.success?(T("success","Compte cr avec succs !","Votre compte a t cr. Vous pouvez maintenant vous connecter."),setTimeout(()=>{a("/login")},2e3)):T("error","Erreur lors de la cration",P.error||"Une erreur est survenue lors de la cration du compte.")}catch(H){console.error("Registration error:",H),T("error","Erreur de connexion","Impossible de se connecter au serveur. Vrifiez votre connexion internet.")}finally{p(!1)}}},E={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},S={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},O=[{icon:e.jsx(bt,{className:"w-6 h-6"}),title:"Gestion Complte",description:"Tous les aspects de votre cole en une seule plateforme"},{icon:e.jsx(Ft,{className:"w-6 h-6"}),title:"Interface Intuitive",description:"Facile  utiliser pour tous les membres de votre quipe"},{icon:e.jsx(eh,{className:"w-6 h-6"}),title:"Scurit Garantie",description:"Vos donnes sont protges avec les meilleurs standards"}],A=[{value:rr.STUDENT,label:"lve"},{value:rr.TEACHER,label:"Enseignant/Enseignante"},{value:rr.STAFF,label:"Personnel administratif"},{value:rr.PARENT,label:"Parent"},{value:rr.ADMIN,label:"Administrateur/Administratrice"}],$=[{value:"male",label:"Masculin"},{value:"female",label:"Fminin"},{value:"other",label:"Autre"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex",children:[e.jsx(Ss,{type:y.type,title:y.title,message:y.message,isVisible:y.isVisible,onClose:L,duration:5e3}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:e.jsxs(ge.div,{className:"w-full max-w-lg",variants:E,initial:"hidden",animate:"visible",children:[e.jsxs(ge.div,{className:"text-center mb-8",variants:S,children:[e.jsxs(ta,{to:"/",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 mb-6 transition-colors",children:[e.jsx(_o,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Retour  l'accueil"})]}),e.jsx("div",{className:"flex items-center justify-center gap-3 mb-6",children:e.jsx("span",{className:"text-2xl font-bold text-blue-900",children:"School Manager"})}),e.jsx("h1",{className:"text-3xl font-bold text-blue-900 mb-2",children:"Crer un compte"}),e.jsx("p",{className:"text-blue-700",children:"Rejoignez School Manager et accdez  votre espace"})]}),e.jsxs(ge.div,{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-blue-100 p-8",variants:S,children:[e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 border-b border-blue-200 pb-2",children:"Informations du compte"}),e.jsx(ge.div,{variants:S,children:e.jsx(ke,{label:"Nom d'utilisateur (optionnel)",type:"text",name:"username",placeholder:"Votre nom d'utilisateur",value:u.username,onChange:w,error:x.username,icon:e.jsx(Va,{className:"w-5 h-5"})})}),e.jsx(ge.div,{variants:S,children:e.jsx(ke,{label:"Adresse email",type:"email",name:"email",placeholder:"votre@email.com",value:u.email,onChange:w,error:x.email,icon:e.jsx($l,{className:"w-5 h-5"})})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(ge.div,{variants:S,children:e.jsxs("div",{className:"relative",children:[e.jsx(ke,{label:"Mot de passe",type:n?"text":"password",name:"password",placeholder:"Votre mot de passe",value:u.password,onChange:w,error:x.password,icon:e.jsx(mm,{className:"w-5 h-5"})}),e.jsx("button",{type:"button",onClick:()=>l(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-600 transition-colors",children:n?e.jsx(um,{className:"w-5 h-5"}):e.jsx(xn,{className:"w-5 h-5"})})]})}),e.jsx(ge.div,{variants:S,children:e.jsxs("div",{className:"relative",children:[e.jsx(ke,{label:"Confirmer le mot de passe",type:o?"text":"password",name:"confirmPassword",placeholder:"Confirmez votre mot de passe",value:u.confirmPassword,onChange:w,error:x.confirmPassword,icon:e.jsx(mm,{className:"w-5 h-5"})}),e.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-600 transition-colors",children:o?e.jsx(um,{className:"w-5 h-5"}):e.jsx(xn,{className:"w-5 h-5"})})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 border-b border-blue-200 pb-2",children:"Informations personnelles"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(ge.div,{variants:S,children:e.jsx(ke,{label:"Prnom",type:"text",name:"firstName",placeholder:"Votre prnom",value:u.firstName,onChange:w,error:x.firstName,icon:e.jsx(Mt,{className:"w-5 h-5"})})}),e.jsx(ge.div,{variants:S,children:e.jsx(ke,{label:"Nom de famille",type:"text",name:"lastName",placeholder:"Votre nom",value:u.lastName,onChange:w,error:x.lastName,icon:e.jsx(Mt,{className:"w-5 h-5"})})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(ge.div,{variants:S,children:[e.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Genre (optionnel)"}),e.jsxs("select",{name:"gender",value:u.gender,onChange:w,className:"w-full px-4 py-3 bg-white text-slate-800 border border-slate-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",children:[e.jsx("option",{value:"",className:"text-slate-800",children:"Slectionnez votre genre"}),$.map(B=>e.jsx("option",{value:B.value,className:"text-slate-800",children:B.label},B.value))]}),x.gender&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:x.gender})]}),e.jsx(ge.div,{variants:S,children:e.jsx(ke,{label:"Date de naissance (optionnel)",type:"date",name:"birthDate",value:u.birthDate,onChange:w,error:x.birthDate,icon:e.jsx(Ct,{className:"w-5 h-5 "})})})]}),e.jsx(ge.div,{variants:S,children:e.jsx(ke,{label:"Numro de tlphone (optionnel)",type:"tel",name:"phone",placeholder:"+33 6 12 34 56 78",value:u.phone,onChange:w,error:x.phone,icon:e.jsx(Ul,{className:"w-5 h-5"})})}),e.jsxs(ge.div,{variants:S,children:[e.jsx("label",{className:"block text-sm font-medium text-blue-700 mb-2",children:"Rle dans l'tablissement"}),e.jsx("select",{name:"role",value:u.role,onChange:w,className:"w-full px-4 py-3 bg-white text-slate-800 border border-slate-300 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200",children:A.map(B=>e.jsx("option",{value:B.value,className:"text-slate-800",children:B.label},B.value))})]})]}),e.jsx(ge.div,{variants:S,children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"acceptTerms",checked:u.acceptTerms,onChange:w,className:"w-4 h-4 text-blue-600 bg-white border-slate-300 rounded focus:ring-blue-500 focus:ring-2"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[e.jsxs("span",{children:["J'accepte les"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"conditions d'utilisation"})," ","et la"," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-medium underline",children:"politique de confidentialit"})]}),x.acceptTerms&&e.jsx("div",{className:"text-red-500 text-xs mt-1",children:x.acceptTerms})]})]})}),e.jsx(ge.div,{variants:S,children:e.jsx(ce,{type:"submit",variant:"primary",size:"lg",className:"w-full bg-blue-600 hover:bg-blue-700 text-white shadow-lg",disabled:g,children:g?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Cration du compte..."]}):"Crer mon compte"})})]}),e.jsx(ge.div,{className:"text-center mt-6",variants:S,children:e.jsxs("p",{className:"text-blue-600 text-sm",children:["Vous avez dj un compte ?"," ",e.jsx(ta,{to:"/login",className:"text-blue-700 hover:text-blue-800 font-semibold transition-colors",children:"Se connecter"})]})})]})]})}),e.jsx("div",{className:"hidden lg:flex w-1/2 bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 text-white p-12",children:e.jsxs("div",{className:"w-full max-w-lg",children:[e.jsxs(ge.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.3},className:"mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Rejoignez la rvolution scolaire"}),e.jsx("p",{className:"text-xl text-blue-100 leading-relaxed",children:"Des centaines d'coles font dj confiance  School Manager. Simplifiez votre administration et amliorez l'exprience de tous."})]}),e.jsx("div",{className:"space-y-8",children:O.map((B,H)=>e.jsxs(ge.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.5+H*.1},className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm",children:B.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:B.title}),e.jsx("p",{className:"text-blue-100 leading-relaxed",children:B.description})]})]},H))}),e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"mt-12 pt-8 border-t border-white/20",children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Pourquoi choisir School Manager ?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{className:"text-blue-100",children:"Essai gratuit de 30 jours"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{className:"text-blue-100",children:"Support technique 24/7"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{className:"text-blue-100",children:"Mise  jour automatique"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pt,{className:"w-5 h-5 text-green-300"}),e.jsx("span",{className:"text-blue-100",children:"Formation gratuite incluse"})]})]})]})]})})]})},N3=({isCollapsed:a,onToggle:n})=>{const l=Pa(),[o,c]=b.useState(null),[u,m]=b.useState([]),x=[{title:"Tableau de bord",path:"/dashboard",icon:e.jsx(T6,{className:"w-5 h-5"})},{title:"Utilisateurs",path:"/users",icon:e.jsx(bt,{className:"w-5 h-5"})},{title:"Classes & Matires",path:"/classes-subjects",icon:e.jsx(Ft,{className:"w-5 h-5"})},{title:"Calendrier",path:"/calendar",icon:e.jsx(Ct,{className:"w-5 h-5"}),children:[{title:"Emplois du temps",path:"/calendar/timetables",icon:e.jsx(Zt,{className:"w-4 h-4"})},{title:"vnements",path:"/calendar/events",icon:e.jsx(un,{className:"w-4 h-4"})}]},{title:"Anne scolaire",path:"/school-years",icon:e.jsx(Je,{className:"w-5 h-5"})},{title:"Finances",path:"/finances",icon:e.jsx(za,{className:"w-5 h-5"}),children:[{title:"Vue d'ensemble",path:"/finances/overview",icon:e.jsx(gn,{className:"w-4 h-4"})},{title:"Paiements",path:"/finances/payments",icon:e.jsx(Os,{className:"w-4 h-4"})},{title:"Factures",path:"/finances/invoices",icon:e.jsx(La,{className:"w-4 h-4"})}]},{title:"Affectations",path:"/settings",icon:e.jsx(wr,{className:"w-5 h-5"})}],f=y=>l.pathname===y||l.pathname.startsWith(y+"/"),g=y=>{m(j=>j.includes(y)?j.filter(T=>T!==y):[...j,y])},p=(y,j=0)=>{const T=y.children&&y.children.length>0,L=u.includes(y.title),w=f(y.path);return e.jsxs("div",{children:[e.jsx("div",{className:"relative",children:e.jsx("div",{children:e.jsxs(ta,{to:y.path,className:`relative flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 group overflow-hidden ${w?"bg-gradient-to-r from-blue-500/20 to-indigo-500/20 text-white border border-blue-400/30 shadow-lg shadow-blue-500/10":"text-white/70 hover:text-white hover:bg-white/10 border border-transparent hover:border-white/20"} ${j>0?"ml-6":""}`,onMouseEnter:()=>c(y.path),onMouseLeave:()=>c(null),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -skew-x-12 translate-x-[-100%] group-hover:translate-x-[100%]"}),w&&e.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-1 h-8 bg-gradient-to-b from-blue-400 to-indigo-400 rounded-r-full"}),e.jsxs("div",{className:`flex-shrink-0 relative ${w?"text-white":"text-white/60 group-hover:text-white"}`,children:[y.icon,w&&e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-gradient-to-r from-cyan-400 to-blue-400 rounded-full"})]}),!a&&e.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-sm",children:y.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[y.badge&&e.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${w?"bg-white/20 text-white":"bg-blue-500/20 text-blue-300"}`,children:y.badge}),T&&e.jsx("button",{onClick:z=>{z.preventDefault(),g(y.title)},className:"p-1 rounded-lg hover:bg-white/10 transition-colors duration-200",children:e.jsx("div",{className:`transform transition-transform duration-200 ${L?"rotate-90":"rotate-0"}`,children:e.jsx(gr,{className:"w-3 h-3"})})})]})]})]})})}),T&&!a&&L&&e.jsx("div",{className:"mt-2 space-y-1",children:y.children.map(z=>p(z,j+1))}),a&&o===y.path&&e.jsxs("div",{className:"absolute left-full ml-3 px-3 py-2 bg-slate-800/95 backdrop-blur-sm text-white text-sm rounded-lg whitespace-nowrap z-50 shadow-xl border border-white/20",children:[y.title,e.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1 w-0 h-0 border-l-4 border-l-slate-800 border-t-4 border-t-transparent border-b-4 border-b-transparent"})]})]},y.path)};return e.jsxs("div",{className:`relative h-screen flex flex-col transition-all duration-500 ease-in-out ${a?"w-16":"w-64"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/95 via-blue-900/90 to-indigo-900/95 backdrop-blur-xl"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500"}),e.jsx("div",{className:"absolute top-20 left-4 w-8 h-8 bg-blue-400/20 rounded-full blur-sm"}),e.jsx("div",{className:"absolute bottom-32 right-4 w-6 h-6 bg-indigo-400/20 rounded-full blur-sm"}),e.jsx("div",{className:"absolute top-1/2 left-2 w-4 h-4 bg-purple-400/20 rounded-full blur-sm"})]}),e.jsxs("div",{className:"relative flex-shrink-0 flex items-center justify-between p-4 border-b border-white/10",children:[a?e.jsx("div",{className:"relative w-10 h-10 flex items-center justify-center mx-auto",children:e.jsx("img",{src:mn,alt:"ITAK Logo",className:"w-full h-full object-contain"})}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"relative w-12 h-12 flex items-center justify-center",children:e.jsx("img",{src:mn,alt:"ITAK Logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-lg font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"ITAK Manager"}),e.jsx("span",{className:"text-xs text-blue-300/70 font-medium",children:"Gestion scolaire"})]})]}),e.jsx("button",{onClick:n,className:"relative p-2 rounded-xl bg-white/10 backdrop-blur-sm text-white/80 hover:text-white hover:bg-white/20 transition-all duration-300 border border-white/20 hover:border-white/30",children:e.jsx("div",{className:`transform transition-transform duration-300 ${a?"rotate-0":"rotate-180"}`,children:a?e.jsx(gr,{className:"w-4 h-4"}):e.jsx(sv,{className:"w-4 h-4"})})})]}),e.jsxs("nav",{className:"relative flex-1 p-4 space-y-2 overflow-y-auto",children:[e.jsx("style",{children:`
          .overflow-y-auto::-webkit-scrollbar {
            width: 4px;
          }
          .overflow-y-auto::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
          }
          .overflow-y-auto::-webkit-scrollbar-thumb {
            background: rgba(59, 130, 246, 0.5);
            border-radius: 2px;
          }
          .overflow-y-auto::-webkit-scrollbar-thumb:hover {
            background: rgba(59, 130, 246, 0.7);
          }
        `}),x.map(y=>e.jsx("div",{children:p(y)},y.path))]}),!a&&e.jsx("div",{className:"relative flex-shrink-0 p-4 border-t border-white/10",children:e.jsxs("div",{className:"relative bg-gradient-to-r from-white/10 to-blue-500/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-500 transform -skew-x-12 translate-x-[-100%] hover:translate-x-[100%]"}),e.jsxs("div",{className:"relative flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-lg flex items-center justify-center",children:e.jsx(Ao,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-blue-200/70 mb-1 font-medium",children:"Version"}),e.jsx("div",{className:"text-sm font-bold text-white",children:"1.0.0"})]}),e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full"})]})]})})]})},w3=({onSidebarToggle:a,user:n})=>{const l=ut(),[o,c]=b.useState(!1),[u,m]=b.useState(!1),[x,f]=b.useState(!1),g=()=>{localStorage.removeItem("itak_access_token"),localStorage.removeItem("itak_refresh_token"),localStorage.removeItem("itak_user"),sessionStorage.removeItem("itak_access_token"),sessionStorage.removeItem("itak_refresh_token"),sessionStorage.removeItem("itak_user"),l("/")},p=j=>({student:"lve",teacher:"Enseignant/Enseignante",staff:"Personnel administratif",parent:"Parent",admin:"Administrateur/Administratrice"})[j]||j,y=[{id:1,title:"Nouveau cours ajout",message:"Le cours de Mathmatiques a t cr",time:"Il y a 5 min",isRead:!1},{id:2,title:"Rapport disponible",message:"Votre rapport mensuel est prt",time:"Il y a 1 heure",isRead:!1},{id:3,title:"Mise  jour systme",message:"Nouvelle version disponible",time:"Il y a 2 heures",isRead:!0}];return e.jsxs("header",{className:"relative bg-white/80 backdrop-blur-xl border-b border-white/20 px-6 py-4 flex items-center justify-between w-full shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/90 via-blue-50/80 to-indigo-50/90 backdrop-blur-xl"}),e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-0.5 bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500"}),e.jsx("div",{className:"absolute top-4 right-20 w-2 h-2 bg-blue-400/30 rounded-full blur-sm"}),e.jsx("div",{className:"absolute bottom-4 left-1/4 w-1 h-1 bg-indigo-400/30 rounded-full blur-sm"})]}),e.jsxs("div",{className:"relative flex items-center gap-4",children:[e.jsx("button",{onClick:a,className:"relative p-2.5 rounded-xl bg-white/20 backdrop-blur-sm text-slate-700 hover:text-slate-900 hover:bg-white/30 transition-all duration-300 border border-white/30 hover:border-white/50 shadow-sm hover:shadow-md",children:e.jsxs("div",{className:"w-5 h-5 flex flex-col gap-1",children:[e.jsx("div",{className:"w-full h-0.5 bg-current rounded-full"}),e.jsx("div",{className:"w-full h-0.5 bg-current rounded-full"}),e.jsx("div",{className:"w-full h-0.5 bg-current rounded-full"})]})}),e.jsx("div",{className:"relative hidden md:block",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(_s,{className:"h-4 w-4 text-slate-400"})}),e.jsx("input",{type:"text",placeholder:"Rechercher...",className:"w-80 pl-12 pr-4 py-2.5 border border-white/30 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-400/50 text-slate-900 placeholder-slate-400 transition-all duration-300 bg-white/40 backdrop-blur-sm focus:bg-white/60 shadow-sm focus:shadow-md"})]})})]}),e.jsxs("div",{className:"relative flex items-center gap-3",children:[e.jsx("button",{onClick:()=>f(!x),className:"relative p-2.5 rounded-xl bg-white/20 backdrop-blur-sm text-slate-700 hover:text-slate-900 hover:bg-white/30 transition-all duration-300 border border-white/30 hover:border-white/50 shadow-sm hover:shadow-md",children:x?e.jsx(l3,{className:"h-5 w-5"}):e.jsx(B6,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>m(!u),className:"relative p-2.5 rounded-xl bg-white/20 backdrop-blur-sm text-slate-700 hover:text-slate-900 hover:bg-white/30 transition-all duration-300 border border-white/30 hover:border-white/50 shadow-sm hover:shadow-md",children:[e.jsx(wp,{className:"h-5 w-5"}),y.filter(j=>!j.isRead).length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-gradient-to-r from-red-500 to-pink-500 text-white text-xs rounded-full flex items-center justify-center font-bold shadow-lg border-2 border-white",children:y.filter(j=>!j.isRead).length})]}),u&&e.jsxs("div",{className:"absolute right-0 mt-3 w-80 bg-white/95 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl z-50 overflow-hidden",children:[e.jsx("div",{className:"relative p-4 border-b border-white/20 bg-gradient-to-r from-blue-50/50 to-indigo-50/50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center",children:e.jsx(wp,{className:"w-4 h-4 text-white"})}),e.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-slate-900 to-slate-700 bg-clip-text text-transparent",children:"Notifications"}),e.jsx("div",{className:"ml-auto w-2 h-2 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full"})]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:y.map(j=>e.jsx("div",{className:`relative p-4 border-b border-white/10 hover:bg-white/30 transition-all duration-200 ${j.isRead?"":"bg-blue-50/50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-2 ${j.isRead?"bg-slate-300":"bg-gradient-to-r from-blue-500 to-indigo-500"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-slate-900",children:j.title}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:j.message}),e.jsx("p",{className:"text-xs text-slate-400 mt-2 font-medium",children:j.time})]}),!j.isRead&&e.jsx("div",{className:"w-2 h-2 bg-gradient-to-r from-cyan-400 to-blue-400 rounded-full"})]})},j.id))}),e.jsx("div",{className:"p-3 border-t border-white/20 bg-gradient-to-r from-blue-50/30 to-indigo-50/30",children:e.jsx("button",{className:"w-full text-center text-sm bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold py-2.5 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Voir toutes les notifications"})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-3 p-2.5 rounded-xl bg-white/20 backdrop-blur-sm hover:bg-white/30 transition-all duration-300 border border-white/30 hover:border-white/50 shadow-sm hover:shadow-md",children:[e.jsxs("div",{className:"relative w-9 h-9 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-lg",children:[n.firstName?.charAt(0)||"U",n.lastName?.charAt(0)||"U",e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"hidden md:block text-left",children:[e.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:[n.firstName," ",n.lastName]}),e.jsx("div",{className:"text-xs text-slate-600 font-medium",children:p(n.role)})]}),e.jsx(Wm,{className:"h-4 w-4 text-slate-600"})]}),o&&e.jsxs("div",{className:"absolute right-0 mt-3 w-72 bg-white/95 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl z-50 overflow-hidden",children:[e.jsx("div",{className:"relative p-5 border-b border-white/20 bg-gradient-to-r from-blue-50/50 to-indigo-50/50",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg",children:[n.firstName?.charAt(0)||"U",n.lastName?.charAt(0)||"U",e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full border-2 border-white"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-bold text-slate-900 text-base",children:[n.firstName," ",n.lastName]}),e.jsx("div",{className:"text-sm text-slate-600 mt-1",children:n.email}),e.jsx("div",{className:"text-xs bg-gradient-to-r from-blue-500 to-indigo-500 text-white font-semibold mt-2 px-3 py-1 rounded-full inline-block",children:p(n.role)})]})]})}),e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-700 hover:bg-white/50 rounded-xl transition-all duration-200 group",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-100 to-indigo-100 rounded-lg flex items-center justify-center group-hover:from-blue-500 group-hover:to-indigo-500 transition-all duration-300",children:e.jsx(Mt,{className:"h-4 w-4 text-blue-600 group-hover:text-white transition-colors duration-300"})}),e.jsx("span",{className:"font-semibold",children:"Mon Profil"})]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 text-left text-slate-700 hover:bg-white/50 rounded-xl transition-all duration-200 group",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-indigo-100 to-purple-100 rounded-lg flex items-center justify-center group-hover:from-indigo-500 group-hover:to-purple-500 transition-all duration-300",children:e.jsx(wr,{className:"h-4 w-4 text-indigo-600 group-hover:text-white transition-colors duration-300"})}),e.jsx("span",{className:"font-semibold",children:"Paramtres"})]})]}),e.jsx("div",{className:"p-2 border-t border-white/20 bg-gradient-to-r from-red-50/30 to-pink-50/30",children:e.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 px-4 py-3 text-left text-red-600 hover:bg-red-50/50 rounded-xl transition-all duration-200 group",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-100 to-pink-100 rounded-lg flex items-center justify-center group-hover:from-red-500 group-hover:to-pink-500 transition-all duration-300",children:e.jsx(L6,{className:"h-4 w-4 text-red-600 group-hover:text-white transition-colors duration-300"})}),e.jsx("span",{className:"font-semibold",children:"Se dconnecter"})]})})]})]})]})]})},it=({user:a,children:n})=>{const[l,o]=b.useState(!1),c=()=>{o(!l)};return e.jsxs("div",{className:"flex h-screen bg-blue-50 overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(N3,{isCollapsed:l,onToggle:c})}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(w3,{onSidebarToggle:c,isSidebarCollapsed:l,user:a})}),e.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-blue-50",children:n})]})]})},S3=()=>{const a=ut(),[n,l]=b.useState(null);b.useEffect(()=>{const u=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user"),m=localStorage.getItem("itak_access_token")||sessionStorage.getItem("itak_access_token");if(!u||!m){a("/login");return}try{l(JSON.parse(u))}catch(x){console.error("Erreur lors du parsing des donnes utilisateur:",x),a("/login")}},[a]);const o={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},c={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return n?e.jsx(it,{user:{firstName:n?.firstName||"Utilisateur",lastName:n?.lastName||"Anonyme",role:n?.role||"user",email:n?.email||""},children:e.jsxs(ge.div,{variants:o,initial:"hidden",animate:"visible",children:[e.jsx(ge.div,{className:"mb-8",variants:c,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:["Bonjour, ",n.first_name," ! "]}),e.jsx("p",{className:"text-slate-600",children:"Voici un aperu de votre tableau de bord"})]}),e.jsxs(ge.div,{className:"text-right",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[e.jsx("p",{className:"text-sm text-slate-500",children:"Aujourd'hui"}),e.jsx("p",{className:"text-lg font-semibold text-slate-700",children:new Date().toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long"})})]})]})}),e.jsxs(ge.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",variants:c,children:[e.jsx(ge.div,{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 hover:shadow-lg transition-all duration-300 group",whileHover:{y:-2},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ge.div,{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",whileHover:{rotate:5,scale:1.05},transition:{type:"spring",stiffness:300},children:e.jsx(bt,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Utilisateurs"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:"1,247"}),e.jsxs("p",{className:"text-xs text-emerald-600 flex items-center gap-1",children:[e.jsx(gn,{className:"w-3 h-3"}),"+12% ce mois"]})]})]})}),e.jsx(ge.div,{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 hover:shadow-lg transition-all duration-300 group",whileHover:{y:-2},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ge.div,{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg",whileHover:{rotate:5,scale:1.05},transition:{type:"spring",stiffness:300},children:e.jsx(Ft,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Cours Actifs"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:"89"}),e.jsxs("p",{className:"text-xs text-emerald-600 flex items-center gap-1",children:[e.jsx(gn,{className:"w-3 h-3"}),"+5% ce mois"]})]})]})}),e.jsx(ge.div,{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 hover:shadow-lg transition-all duration-300 group",whileHover:{y:-2},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ge.div,{className:"w-14 h-14 bg-gradient-to-br from-violet-500 to-violet-600 rounded-xl flex items-center justify-center shadow-lg",whileHover:{rotate:5,scale:1.05},transition:{type:"spring",stiffness:300},children:e.jsx(Ct,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"vnements"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:"12"}),e.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:[e.jsx(Zt,{className:"w-3 h-3"}),"Ce mois"]})]})]})}),e.jsx(ge.div,{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 hover:shadow-lg transition-all duration-300 group",whileHover:{y:-2},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ge.div,{className:"w-14 h-14 bg-gradient-to-br from-amber-500 to-amber-600 rounded-xl flex items-center justify-center shadow-lg",whileHover:{rotate:5,scale:1.05},transition:{type:"spring",stiffness:300},children:e.jsx(tv,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Performance"}),e.jsx("p",{className:"text-2xl font-bold text-slate-900",children:"98%"}),e.jsxs("p",{className:"text-xs text-emerald-600 flex items-center gap-1",children:[e.jsx(Np,{className:"w-3 h-3"}),"Excellent"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(ge.div,{className:"lg:col-span-2 bg-white rounded-2xl shadow-sm border border-slate-200 p-6",variants:c,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-slate-900 flex items-center gap-2",children:[e.jsx(Np,{className:"w-5 h-5 text-blue-600"}),"Activit Rcente"]}),e.jsxs(ge.button,{className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",whileHover:{x:2},transition:{type:"spring",stiffness:300},children:["Voir tout",e.jsx(Ht,{className:"w-3 h-3"})]})]}),e.jsx("div",{className:"space-y-4",children:[{action:"Nouveau cours cr",details:"Mathmatiques Avances",time:"Il y a 2h",type:"course",color:"emerald"},{action:"Utilisateur inscrit",details:"Marie Dubois - lve",time:"Il y a 4h",type:"user",color:"blue"},{action:"Rapport gnr",details:"Rapport mensuel",time:"Il y a 6h",type:"report",color:"violet"}].map((u,m)=>e.jsxs(ge.div,{className:"flex items-start gap-4 p-4 rounded-xl hover:bg-slate-50 transition-all duration-200 group",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.1},whileHover:{x:5},children:[e.jsx(ge.div,{className:`w-3 h-3 rounded-full mt-2 bg-${u.color}-500`,animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,delay:m*.5}}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-slate-900 group-hover:text-slate-700",children:u.action}),e.jsx("p",{className:"text-sm text-slate-600",children:u.details}),e.jsxs("p",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[e.jsx(Zt,{className:"w-3 h-3"}),u.time]})]})]},m))})]}),e.jsxs(ge.div,{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6",variants:c,children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:"Actions Rapides"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ge.button,{className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-4 py-3 rounded-xl transition-all duration-300 flex items-center gap-3 shadow-lg hover:shadow-xl",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(bt,{className:"w-5 h-5"}),"Grer les Utilisateurs",e.jsx(Ht,{className:"w-4 h-4 ml-auto"})]}),e.jsxs(ge.button,{className:"w-full bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-4 py-3 rounded-xl transition-all duration-300 flex items-center gap-3 shadow-lg hover:shadow-xl",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(Ft,{className:"w-5 h-5"}),"Crer un Cours",e.jsx(Ht,{className:"w-4 h-4 ml-auto"})]}),e.jsxs(ge.button,{className:"w-full bg-gradient-to-r from-violet-600 to-violet-700 hover:from-violet-700 hover:to-violet-800 text-white px-4 py-3 rounded-xl transition-all duration-300 flex items-center gap-3 shadow-lg hover:shadow-xl",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(Ct,{className:"w-5 h-5"}),"Planifier un vnement",e.jsx(Ht,{className:"w-4 h-4 ml-auto"})]}),e.jsxs(ge.button,{className:"w-full bg-gradient-to-r from-slate-600 to-slate-700 hover:from-slate-700 hover:to-slate-800 text-white px-4 py-3 rounded-xl transition-all duration-300 flex items-center gap-3 shadow-lg hover:shadow-xl",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(wr,{className:"w-5 h-5"}),"Paramtres",e.jsx(Ht,{className:"w-4 h-4 ml-auto"})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ge.div,{className:"w-16 h-16 border-4 border-slate-300 border-t-slate-600 rounded-full mx-auto mb-4",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),e.jsx("p",{className:"text-slate-600 font-medium",children:"Chargement..."})]})})},C3=({activeTab:a,onTabChange:n,userCounts:l})=>{const o=[{id:"all",label:"Tous les utilisateurs",icon:e.jsx(bt,{className:"w-4 h-4"}),count:l.all,color:"blue"},{id:"student",label:"lves",icon:e.jsx(Je,{className:"w-4 h-4"}),count:l.students,color:"green"},{id:"teacher",label:"Enseignants",icon:e.jsx(Va,{className:"w-4 h-4"}),count:l.teachers,color:"purple"},{id:"staff",label:"Personnels",icon:e.jsx(J5,{className:"w-4 h-4"}),count:l.staff,color:"orange"}],c=(m,x)=>{const f={blue:x?"bg-blue-600 text-white":"text-blue-600 hover:bg-blue-50",green:x?"bg-green-600 text-white":"text-green-600 hover:bg-green-50",purple:x?"bg-purple-600 text-white":"text-purple-600 hover:bg-purple-50",orange:x?"bg-orange-600 text-white":"text-orange-600 hover:bg-orange-50"};return f[m]||f.blue},u=m=>{const x={blue:"bg-blue-100 text-blue-700",green:"bg-green-100 text-green-700",purple:"bg-purple-100 text-purple-700",orange:"bg-orange-100 text-orange-700"};return x[m]||x.blue};return e.jsx(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm border border-blue-100 p-2",children:e.jsx("div",{className:"flex space-x-1",children:o.map(m=>e.jsx("div",{className:"flex-1 flex flex-col",children:e.jsxs("button",{onClick:()=>n(m.id),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${c(m.color,a===m.id)}`,children:[m.icon,e.jsx("span",{className:"text-sm",children:m.label}),e.jsx("span",{className:`inline-flex items-center justify-center px-2 py-1 text-xs font-bold rounded-full ${u(m.color)}`,children:m.count})]})},m.id))})})},A3=({isOpen:a,onClose:n,profileType:l,onAssignProfile:o,existingUsers:c,preselectedUser:u,existingProfileData:m})=>{const[x,f]=b.useState(""),[g,p]=b.useState(u||null),[y,j]=b.useState([]),[T,L]=b.useState(!!u),[w,z]=b.useState({matricule:"",enrollmentDate:"",photo:void 0,maritalStatus:"single",fatherName:"",motherName:"",tutorName:"",tutorPhone:"",address:"",emergencyContact:"",notes:""}),[N,E]=b.useState({matricule:"",hireDate:"",photo:void 0,maritalStatus:"single",diplomas:"",address:"",emergencyContact:"",notes:""}),[S,O]=b.useState({matricule:"",hireDate:"",photo:void 0,maritalStatus:"single",position:"",address:"",emergencyContact:"",notes:""});b.useEffect(()=>{m&&u&&(l==="student"&&"enrollmentDate"in m?z({matricule:m.matricule||"",enrollmentDate:m.enrollmentDate||"",maritalStatus:m.maritalStatus||"single",fatherName:m.fatherName||"",motherName:m.motherName||"",tutorName:m.tutorName||"",tutorPhone:m.tutorPhone||"",address:m.address||"",emergencyContact:m.emergencyContact||"",notes:m.notes||""}):l==="teacher"&&"hireDate"in m&&"diplomas"in m?E({matricule:m.matricule||"",hireDate:m.hireDate||"",maritalStatus:m.maritalStatus||"single",diplomas:m.diplomas||"",address:m.address||"",emergencyContact:m.emergencyContact||"",notes:m.notes||""}):l==="staff"&&"hireDate"in m&&"position"in m&&O({matricule:m.matricule||"",hireDate:m.hireDate||"",maritalStatus:m.maritalStatus||"single",position:m.position||"",address:m.address||"",emergencyContact:m.emergencyContact||"",notes:m.notes||""}))},[m,u,l]),b.useEffect(()=>{if(x){const D=c.filter(k=>k.firstName?.toLowerCase().includes(x.toLowerCase())||k.lastName?.toLowerCase().includes(x.toLowerCase())||k.email?.toLowerCase().includes(x.toLowerCase())||k.username?.toLowerCase().includes(x.toLowerCase()));j(D)}else j(c)},[x,c]),b.useEffect(()=>{a?(p(u||null),L(!!u)):(p(null),L(!1),f(""))},[a,u]);const A=D=>{p(D),L(!0)},$=D=>{if(D.preventDefault(),g){let k;switch(l){case"student":k={id:void 0,userId:g.id,matricule:w.matricule||"",enrollmentDate:w.enrollmentDate?typeof w.enrollmentDate=="string"?w.enrollmentDate:w.enrollmentDate.toISOString():"",photo:w.photo,maritalStatus:w.maritalStatus,fatherName:w.fatherName,motherName:w.motherName,tutorName:w.tutorName,tutorPhone:w.tutorPhone,address:w.address,emergencyContact:w.emergencyContact,notes:w.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),user:g};break;case"teacher":k={id:void 0,userId:g.id,matricule:N.matricule||"",hireDate:N.hireDate?typeof N.hireDate=="string"?N.hireDate:N.hireDate.toString():new Date().toISOString(),photo:N.photo,maritalStatus:N.maritalStatus,diplomas:N.diplomas,address:N.address,emergencyContact:N.emergencyContact,notes:N.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),user:g};break;case"staff":k={id:void 0,userId:g.id,matricule:S.matricule||"",hireDate:S.hireDate?typeof S.hireDate=="string"?S.hireDate:S.hireDate.toString():new Date().toISOString(),photo:S.photo,maritalStatus:S.maritalStatus,position:S.position,address:S.address,emergencyContact:S.emergencyContact,notes:S.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),user:g};break;default:k={id:void 0,userId:g.id,matricule:w.matricule||"",enrollmentDate:w.enrollmentDate?typeof w.enrollmentDate=="string"?w.enrollmentDate:w.enrollmentDate.toISOString():"",photo:w.photo,maritalStatus:w.maritalStatus,fatherName:w.fatherName,motherName:w.motherName,tutorName:w.tutorName,tutorPhone:w.tutorPhone,address:w.address,emergencyContact:w.emergencyContact,notes:w.notes,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),user:g}}o(g,k),H()}},B=()=>{z({matricule:"",enrollmentDate:"",photo:void 0,maritalStatus:"single",fatherName:"",motherName:"",tutorName:"",tutorPhone:"",address:"",emergencyContact:"",notes:""}),E({matricule:"",hireDate:"",photo:void 0,maritalStatus:"single",diplomas:"",address:"",emergencyContact:"",notes:""}),O({matricule:"",hireDate:"",photo:void 0,maritalStatus:"single",position:"",address:"",emergencyContact:"",notes:""}),p(null),L(!1),f("")},H=()=>{B(),n()},P=()=>{switch(l){case"student":return"lve";case"teacher":return"Enseignant";case"staff":return"Personnel administratif";default:return"Utilisateur"}};return a?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-900",children:["Assigner un profil ",P()]}),e.jsx("p",{className:"text-slate-600 mt-2",children:"Slectionnez un utilisateur et configurez son profil"})]}),e.jsx("button",{onClick:H,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(Us,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6",children:T?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h3",{className:"text-lg font-semibold text-blue-900",children:["tape 2: Configurer le profil ",P()]})}),g&&e.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-500 to-slate-600 rounded-full flex items-center justify-center text-white font-medium text-xl",children:[g.firstName?.charAt(0)||"?",g.lastName?.charAt(0)||"?"]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-slate-900 text-lg",children:[g.firstName||"Prnom"," ",g.lastName||"Nom"]}),e.jsxs("div",{className:"text-slate-600",children:["@",g.username,"  ",g.email]})]})]})}),l==="student"&&e.jsxs("form",{onSubmit:$,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ke,{label:"Matricule",name:"matricule",value:w.matricule,onChange:D=>z({...w,matricule:D.target.value}),required:!0}),e.jsx(ke,{label:"Date d'inscription",name:"enrollmentDate",type:"date",value:typeof w.enrollmentDate=="string"?w.enrollmentDate:w.enrollmentDate instanceof Date?w.enrollmentDate.toISOString().split("T")[0]:"",onChange:D=>z({...w,enrollmentDate:D.target.value}),required:!0}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-slate-700 font-medium",children:"Statut matrimonial"})}),e.jsxs("select",{value:w.maritalStatus,onChange:D=>z({...w,maritalStatus:D.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-800 bg-white",children:[e.jsx("option",{value:"single",children:"Clibataire"}),e.jsx("option",{value:"married",children:"Mari(e)"}),e.jsx("option",{value:"divorced",children:"Divorc(e)"}),e.jsx("option",{value:"widowed",children:"Veuf/Veuve"})]})]}),e.jsx(ke,{label:"Nom du pre",name:"fatherName",value:w.fatherName,onChange:D=>z({...w,fatherName:D.target.value})}),e.jsx(ke,{label:"Nom de la mre",name:"motherName",value:w.motherName,onChange:D=>z({...w,motherName:D.target.value})}),e.jsx(ke,{label:"Nom du tuteur",name:"tutorName",value:w.tutorName,onChange:D=>z({...w,tutorName:D.target.value})}),e.jsx(ke,{label:"Tlphone du tuteur",name:"tutorPhone",value:w.tutorPhone,onChange:D=>z({...w,tutorPhone:D.target.value})}),e.jsx("div",{className:"col-span-2",children:e.jsx(ke,{label:"Adresse",name:"address",value:w.address,onChange:D=>z({...w,address:D.target.value})})}),e.jsx(ke,{label:"Contact d'urgence",name:"emergencyContact",value:w.emergencyContact,onChange:D=>z({...w,emergencyContact:D.target.value})}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-slate-700 font-medium",children:"Notes"})}),e.jsx("textarea",{value:w.notes,onChange:D=>z({...w,notes:D.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-800 bg-white",rows:3,placeholder:"Informations supplmentaires..."})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-blue-100",children:[e.jsx(ce,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),e.jsxs(ce,{type:"submit",className:"flex items-center gap-2",children:[e.jsx(bu,{className:"w-4 h-4"}),"Assigner le profil"]})]})]}),l==="teacher"&&e.jsxs("form",{onSubmit:$,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ke,{label:"Matricule",name:"matricule",value:N.matricule,onChange:D=>E({...N,matricule:D.target.value}),required:!0}),e.jsx(ke,{label:"Date d'embauche",name:"hireDate",type:"date",value:N.hireDate?typeof N.hireDate=="string"?N.hireDate:N.hireDate instanceof Date?N.hireDate.toISOString().split("T")[0]:"":"",onChange:D=>E({...N,hireDate:D.target.value}),required:!0}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-slate-700 font-medium",children:"Statut matrimonial"})}),e.jsxs("select",{value:N.maritalStatus,onChange:D=>E({...N,maritalStatus:D.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-800 bg-white",children:[e.jsx("option",{value:"single",children:"Clibataire"}),e.jsx("option",{value:"married",children:"Mari(e)"}),e.jsx("option",{value:"divorced",children:"Divorc(e)"}),e.jsx("option",{value:"widowed",children:"Veuf/Veuve"})]})]}),e.jsx(ke,{label:"Diplmes",name:"diplomas",value:N.diplomas,onChange:D=>E({...N,diplomas:D.target.value}),required:!0}),e.jsx("div",{className:"col-span-2",children:e.jsx(ke,{label:"Adresse",name:"address",value:N.address,onChange:D=>E({...N,address:D.target.value})})}),e.jsx(ke,{label:"Contact d'urgence",name:"emergencyContact",value:N.emergencyContact,onChange:D=>E({...N,emergencyContact:D.target.value})}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-slate-700 font-medium",children:"Notes"})}),e.jsx("textarea",{value:N.notes,onChange:D=>E({...N,notes:D.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-800 bg-white",rows:3,placeholder:"Informations supplmentaires..."})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-blue-100",children:[e.jsx(ce,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),e.jsxs(ce,{type:"submit",className:"flex items-center gap-2",children:[e.jsx(bu,{className:"w-4 h-4"}),"Assigner le profil"]})]})]}),l==="staff"&&e.jsxs("form",{onSubmit:$,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ke,{label:"Matricule",name:"matricule",value:S.matricule,onChange:D=>O({...S,matricule:D.target.value}),required:!0}),e.jsx(ke,{label:"Date d'embauche",name:"hireDate",type:"date",value:S.hireDate?typeof S.hireDate=="string"?S.hireDate:S.hireDate instanceof Date?S.hireDate.toISOString().split("T")[0]:"":"",onChange:D=>O({...S,hireDate:D.target.value}),required:!0}),e.jsx(ke,{label:"Poste",name:"position",value:S.position,onChange:D=>O({...S,position:D.target.value}),required:!0}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-slate-700 font-medium",children:"Statut matrimonial"})}),e.jsxs("select",{value:S.maritalStatus,onChange:D=>O({...S,maritalStatus:D.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-800 bg-white",children:[e.jsx("option",{value:"single",children:"Clibataire"}),e.jsx("option",{value:"married",children:"Mari(e)"}),e.jsx("option",{value:"divorced",children:"Divorc(e)"}),e.jsx("option",{value:"widowed",children:"Veuf/Veuve"})]})]}),e.jsx("div",{className:"col-span-2",children:e.jsx(ke,{label:"Adresse",name:"address",value:S.address,onChange:D=>O({...S,address:D.target.value})})}),e.jsx(ke,{label:"Contact d'urgence",name:"emergencyContact",value:S.emergencyContact,onChange:D=>O({...S,emergencyContact:D.target.value})}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-slate-700 font-medium",children:"Notes"})}),e.jsx("textarea",{value:S.notes,onChange:D=>O({...S,notes:D.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-800 bg-white",rows:3,placeholder:"Informations supplmentaires..."})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-blue-100",children:[e.jsx(ce,{type:"button",variant:"outline",onClick:n,children:"Annuler"}),e.jsxs(ce,{type:"submit",className:"flex items-center gap-2",children:[e.jsx(bu,{className:"w-4 h-4"}),"Assigner le profil"]})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"tape 1: Slectionner un utilisateur"}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),e.jsx(ke,{type:"text",placeholder:"Rechercher un utilisateur par nom, email ou nom d'utilisateur...",value:x,onChange:D=>f(D.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-md font-medium text-slate-800",children:x?`Rsultats de recherche (${y.length})`:`Tous les utilisateurs (${y.length})`}),!x&&e.jsx("span",{className:"text-sm text-slate-600",children:"Commencez  taper pour filtrer"})]})]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:y.length===0?e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Aucun utilisateur trouv"}):y.map(D=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>A(D),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-12 h-12 bg-gradient-to-br from-slate-500 to-slate-600 rounded-full flex items-center justify-center text-white font-medium",children:[D.firstName?.charAt(0)||"?",D.lastName?.charAt(0)||"?"]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-slate-900",children:[D.firstName||"Prnom"," ",D.lastName||"Nom"]}),e.jsxs("div",{className:"text-sm text-slate-600",children:["@",D.username,"  ",D.email]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Rle actuel: ",D.role]})]})]}),e.jsx(h3,{className:"w-5 h-5 text-slate-500"})]},D.id))})]})})]})}):null},T3=({isOpen:a,onClose:n,student:l})=>{if(!a||!l)return null;const o=m=>{if(!m)return"Non renseign";try{return new Date(m).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return"Date invalide"}},c=m=>m?{single:"Clibataire",married:"Mari(e)",divorced:"Divorc(e)",widowed:"Veuf/Veuve"}[m]||m:"Non renseign",u=l.id!=="0"&&!!(l.matricule&&l.enrollmentDate&&l.fatherName&&l.motherName&&l.tutorName&&l.tutorPhone&&l.address&&l.emergencyContact);return e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-indigo-900/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(ge.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 p-6 text-white overflow-hidden flex-shrink-0",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent transform -skew-x-12"})}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ge.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",damping:15},className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg border border-white/30 flex-shrink-0",children:[l.user.firstName.charAt(0),l.user.lastName.charAt(0)]}),e.jsxs("div",{children:[e.jsxs(ge.h2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"text-2xl font-bold text-white mb-1",children:[l.user.firstName," ",l.user.lastName]}),e.jsxs(ge.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-blue-100 text-base mb-2",children:["@",l.user.username]}),e.jsx(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center gap-2",children:e.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 text-xs font-semibold rounded-full backdrop-blur-sm border ${u?"bg-green-500/20 text-green-100 border-green-400/30":"bg-orange-500/20 text-orange-100 border-orange-400/30"}`,children:u?e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"w-3 h-3"}),"Profil complet"]}):e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"w-3 h-3"}),"Profil incomplet"]})})})]})]}),e.jsx(ge.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.6},children:e.jsx(ce,{onClick:n,variant:"outline",size:"sm",className:"p-2 bg-white/10 hover:bg-white/20 border-white/30 text-white backdrop-blur-sm flex-shrink-0",children:e.jsx(Us,{className:"w-4 h-4"})})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 bg-gradient-to-br from-gray-50 to-blue-50/30 scrollbar-thin scrollbar-thumb-blue-400 scrollbar-track-blue-100 hover:scrollbar-thumb-blue-500",children:[e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:e.jsx(Mt,{className:"w-5 h-5 text-white"})}),"Informations personnelles"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-blue-700 mb-2",children:"Nom complet"}),e.jsxs("p",{className:"text-gray-800 font-semibold text-lg",children:[l.user.firstName," ",l.user.lastName]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 border border-purple-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-purple-700 mb-2",children:"Nom d'utilisateur"}),e.jsxs("p",{className:"text-gray-800 font-medium",children:["@",l.user.username]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-green-700 mb-2",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($l,{className:"w-5 h-5 text-green-600"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.user.email})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-4 border border-orange-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-2",children:"Rle"}),e.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-sm",children:"tudiant"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-xl p-4 border border-indigo-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-indigo-700 mb-2",children:"Matricule"}),e.jsx("p",{className:"text-gray-800 font-mono text-lg font-semibold",children:l.matricule||"Non renseign"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-teal-50 rounded-xl p-4 border border-cyan-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-cyan-700 mb-2",children:"Date d'inscription"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ct,{className:"w-5 h-5 text-cyan-600"}),e.jsx("p",{className:"text-gray-800 font-medium",children:o(l.enrollmentDate)})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 rounded-xl p-4 border border-rose-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-rose-700 mb-2",children:"Statut matrimonial"}),e.jsx("p",{className:"text-gray-800 font-medium",children:c(l.maritalStatus)})]}),e.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-purple-50 rounded-xl p-4 border border-violet-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-violet-700 mb-2",children:"Photo"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.photo?" Photo disponible":" Aucune photo"})]})]})]})]}),e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:e.jsx(bt,{className:"w-5 h-5 text-white"})}),"Informations familiales"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl p-4 border border-emerald-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-emerald-700 mb-2",children:" Nom du pre"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.fatherName||"Non renseign"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-4 border border-pink-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-pink-700 mb-2",children:" Nom de la mre"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.motherName||"Non renseign"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-yellow-50 rounded-xl p-4 border border-amber-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-amber-700 mb-2",children:" Nom du tuteur"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.tutorName||"Non renseign"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-xl p-4 border border-teal-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-teal-700 mb-2",children:" Tlphone du tuteur"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ul,{className:"w-5 h-5 text-teal-600"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.tutorPhone||"Non renseign"})]})]})]})]})]}),e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),"Informations de contact"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-4 border border-purple-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-purple-700 mb-2",children:" Adresse"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ba,{className:"w-5 h-5 text-purple-600 mt-0.5"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.address||"Non renseign"})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-4 border border-red-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-red-700 mb-2",children:" Contact d'urgence"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ul,{className:"w-5 h-5 text-red-600"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.emergencyContact||"Non renseign"})]})]})})]})]}),e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center",children:e.jsx(rs,{className:"w-5 h-5 text-white"})}),"Notes et informations supplmentaires"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-6 border border-orange-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-3",children:" Notes"}),e.jsx("p",{className:"text-gray-800 whitespace-pre-wrap font-medium leading-relaxed",children:l.notes||"Aucune note disponible"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-xl p-4 border border-slate-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:" Date de cration"}),e.jsx("p",{className:"text-gray-800 font-medium",children:o(l.createdAt)})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-xl p-4 border border-slate-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:" Dernire modification"}),e.jsx("p",{className:"text-gray-800 font-medium",children:o(l.updatedAt)})]})]})]})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-gradient-to-r from-gray-50 to-blue-50/50 backdrop-blur-sm border-t-2 border-gray-800/50 p-4 flex-shrink-0",children:e.jsx("div",{className:"flex justify-end gap-4",children:e.jsx(ge.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(ce,{onClick:n,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:"Fermer"})})})})]})})};var lr={},yu,Tp;function E3(){return Tp||(Tp=1,yu=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),yu}var vu={},Ma={},Ep;function bn(){if(Ep)return Ma;Ep=1;let a;const n=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Ma.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17},Ma.getSymbolTotalCodewords=function(o){return n[o]},Ma.getBCHDigit=function(l){let o=0;for(;l!==0;)o++,l>>>=1;return o},Ma.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');a=o},Ma.isKanjiModeEnabled=function(){return typeof a<"u"},Ma.toSJIS=function(o){return a(o)},Ma}var ju={},kp;function th(){return kp||(kp=1,(function(a){a.L={bit:1},a.M={bit:0},a.Q={bit:3},a.H={bit:2};function n(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return a.L;case"m":case"medium":return a.M;case"q":case"quartile":return a.Q;case"h":case"high":return a.H;default:throw new Error("Unknown EC Level: "+l)}}a.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},a.from=function(o,c){if(a.isValid(o))return o;try{return n(o)}catch{return c}}})(ju)),ju}var Nu,Dp;function k3(){if(Dp)return Nu;Dp=1;function a(){this.buffer=[],this.length=0}return a.prototype={get:function(n){const l=Math.floor(n/8);return(this.buffer[l]>>>7-n%8&1)===1},put:function(n,l){for(let o=0;o<l;o++)this.putBit((n>>>l-o-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),n&&(this.buffer[l]|=128>>>this.length%8),this.length++}},Nu=a,Nu}var wu,Mp;function D3(){if(Mp)return wu;Mp=1;function a(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}return a.prototype.set=function(n,l,o,c){const u=n*this.size+l;this.data[u]=o,c&&(this.reservedBit[u]=!0)},a.prototype.get=function(n,l){return this.data[n*this.size+l]},a.prototype.xor=function(n,l,o){this.data[n*this.size+l]^=o},a.prototype.isReserved=function(n,l){return this.reservedBit[n*this.size+l]},wu=a,wu}var Su={},Rp;function M3(){return Rp||(Rp=1,(function(a){const n=bn().getSymbolSize;a.getRowColCoords=function(o){if(o===1)return[];const c=Math.floor(o/7)+2,u=n(o),m=u===145?26:Math.ceil((u-13)/(2*c-2))*2,x=[u-7];for(let f=1;f<c-1;f++)x[f]=x[f-1]-m;return x.push(6),x.reverse()},a.getPositions=function(o){const c=[],u=a.getRowColCoords(o),m=u.length;for(let x=0;x<m;x++)for(let f=0;f<m;f++)x===0&&f===0||x===0&&f===m-1||x===m-1&&f===0||c.push([u[x],u[f]]);return c}})(Su)),Su}var Cu={},Lp;function R3(){if(Lp)return Cu;Lp=1;const a=bn().getSymbolSize,n=7;return Cu.getPositions=function(o){const c=a(o);return[[0,0],[c-n,0],[0,c-n]]},Cu}var Au={},zp;function L3(){return zp||(zp=1,(function(a){a.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n={N1:3,N2:3,N3:40,N4:10};a.isValid=function(c){return c!=null&&c!==""&&!isNaN(c)&&c>=0&&c<=7},a.from=function(c){return a.isValid(c)?parseInt(c,10):void 0},a.getPenaltyN1=function(c){const u=c.size;let m=0,x=0,f=0,g=null,p=null;for(let y=0;y<u;y++){x=f=0,g=p=null;for(let j=0;j<u;j++){let T=c.get(y,j);T===g?x++:(x>=5&&(m+=n.N1+(x-5)),g=T,x=1),T=c.get(j,y),T===p?f++:(f>=5&&(m+=n.N1+(f-5)),p=T,f=1)}x>=5&&(m+=n.N1+(x-5)),f>=5&&(m+=n.N1+(f-5))}return m},a.getPenaltyN2=function(c){const u=c.size;let m=0;for(let x=0;x<u-1;x++)for(let f=0;f<u-1;f++){const g=c.get(x,f)+c.get(x,f+1)+c.get(x+1,f)+c.get(x+1,f+1);(g===4||g===0)&&m++}return m*n.N2},a.getPenaltyN3=function(c){const u=c.size;let m=0,x=0,f=0;for(let g=0;g<u;g++){x=f=0;for(let p=0;p<u;p++)x=x<<1&2047|c.get(g,p),p>=10&&(x===1488||x===93)&&m++,f=f<<1&2047|c.get(p,g),p>=10&&(f===1488||f===93)&&m++}return m*n.N3},a.getPenaltyN4=function(c){let u=0;const m=c.data.length;for(let f=0;f<m;f++)u+=c.data[f];return Math.abs(Math.ceil(u*100/m/5)-10)*n.N4};function l(o,c,u){switch(o){case a.Patterns.PATTERN000:return(c+u)%2===0;case a.Patterns.PATTERN001:return c%2===0;case a.Patterns.PATTERN010:return u%3===0;case a.Patterns.PATTERN011:return(c+u)%3===0;case a.Patterns.PATTERN100:return(Math.floor(c/2)+Math.floor(u/3))%2===0;case a.Patterns.PATTERN101:return c*u%2+c*u%3===0;case a.Patterns.PATTERN110:return(c*u%2+c*u%3)%2===0;case a.Patterns.PATTERN111:return(c*u%3+(c+u)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}a.applyMask=function(c,u){const m=u.size;for(let x=0;x<m;x++)for(let f=0;f<m;f++)u.isReserved(f,x)||u.xor(f,x,l(c,f,x))},a.getBestMask=function(c,u){const m=Object.keys(a.Patterns).length;let x=0,f=1/0;for(let g=0;g<m;g++){u(g),a.applyMask(g,c);const p=a.getPenaltyN1(c)+a.getPenaltyN2(c)+a.getPenaltyN3(c)+a.getPenaltyN4(c);a.applyMask(g,c),p<f&&(f=p,x=g)}return x}})(Au)),Au}var mo={},Op;function rv(){if(Op)return mo;Op=1;const a=th(),n=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],l=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return mo.getBlocksCount=function(c,u){switch(u){case a.L:return n[(c-1)*4+0];case a.M:return n[(c-1)*4+1];case a.Q:return n[(c-1)*4+2];case a.H:return n[(c-1)*4+3];default:return}},mo.getTotalCodewordsCount=function(c,u){switch(u){case a.L:return l[(c-1)*4+0];case a.M:return l[(c-1)*4+1];case a.Q:return l[(c-1)*4+2];case a.H:return l[(c-1)*4+3];default:return}},mo}var Tu={},Sl={},_p;function z3(){if(_p)return Sl;_p=1;const a=new Uint8Array(512),n=new Uint8Array(256);return(function(){let o=1;for(let c=0;c<255;c++)a[c]=o,n[o]=c,o<<=1,o&256&&(o^=285);for(let c=255;c<512;c++)a[c]=a[c-255]})(),Sl.log=function(o){if(o<1)throw new Error("log("+o+")");return n[o]},Sl.exp=function(o){return a[o]},Sl.mul=function(o,c){return o===0||c===0?0:a[n[o]+n[c]]},Sl}var Bp;function O3(){return Bp||(Bp=1,(function(a){const n=z3();a.mul=function(o,c){const u=new Uint8Array(o.length+c.length-1);for(let m=0;m<o.length;m++)for(let x=0;x<c.length;x++)u[m+x]^=n.mul(o[m],c[x]);return u},a.mod=function(o,c){let u=new Uint8Array(o);for(;u.length-c.length>=0;){const m=u[0];for(let f=0;f<c.length;f++)u[f]^=n.mul(c[f],m);let x=0;for(;x<u.length&&u[x]===0;)x++;u=u.slice(x)}return u},a.generateECPolynomial=function(o){let c=new Uint8Array([1]);for(let u=0;u<o;u++)c=a.mul(c,new Uint8Array([1,n.exp(u)]));return c}})(Tu)),Tu}var Eu,Up;function _3(){if(Up)return Eu;Up=1;const a=O3();function n(l){this.genPoly=void 0,this.degree=l,this.degree&&this.initialize(this.degree)}return n.prototype.initialize=function(o){this.degree=o,this.genPoly=a.generateECPolynomial(this.degree)},n.prototype.encode=function(o){if(!this.genPoly)throw new Error("Encoder not initialized");const c=new Uint8Array(o.length+this.degree);c.set(o);const u=a.mod(c,this.genPoly),m=this.degree-u.length;if(m>0){const x=new Uint8Array(this.degree);return x.set(u,m),x}return u},Eu=n,Eu}var ku={},Du={},Mu={},Vp;function lv(){return Vp||(Vp=1,Mu.isValid=function(n){return!isNaN(n)&&n>=1&&n<=40}),Mu}var Ds={},Pp;function iv(){if(Pp)return Ds;Pp=1;const a="[0-9]+",n="[A-Z $%*+\\-./:]+";let l="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";l=l.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+l+`)(?:.|[\r
]))+`;Ds.KANJI=new RegExp(l,"g"),Ds.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ds.BYTE=new RegExp(o,"g"),Ds.NUMERIC=new RegExp(a,"g"),Ds.ALPHANUMERIC=new RegExp(n,"g");const c=new RegExp("^"+l+"$"),u=new RegExp("^"+a+"$"),m=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ds.testKanji=function(f){return c.test(f)},Ds.testNumeric=function(f){return u.test(f)},Ds.testAlphanumeric=function(f){return m.test(f)},Ds}var qp;function yn(){return qp||(qp=1,(function(a){const n=lv(),l=iv();a.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},a.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},a.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},a.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},a.MIXED={bit:-1},a.getCharCountIndicator=function(u,m){if(!u.ccBits)throw new Error("Invalid mode: "+u);if(!n.isValid(m))throw new Error("Invalid version: "+m);return m>=1&&m<10?u.ccBits[0]:m<27?u.ccBits[1]:u.ccBits[2]},a.getBestModeForData=function(u){return l.testNumeric(u)?a.NUMERIC:l.testAlphanumeric(u)?a.ALPHANUMERIC:l.testKanji(u)?a.KANJI:a.BYTE},a.toString=function(u){if(u&&u.id)return u.id;throw new Error("Invalid mode")},a.isValid=function(u){return u&&u.bit&&u.ccBits};function o(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return a.NUMERIC;case"alphanumeric":return a.ALPHANUMERIC;case"kanji":return a.KANJI;case"byte":return a.BYTE;default:throw new Error("Unknown mode: "+c)}}a.from=function(u,m){if(a.isValid(u))return u;try{return o(u)}catch{return m}}})(Du)),Du}var Hp;function B3(){return Hp||(Hp=1,(function(a){const n=bn(),l=rv(),o=th(),c=yn(),u=lv(),m=7973,x=n.getBCHDigit(m);function f(j,T,L){for(let w=1;w<=40;w++)if(T<=a.getCapacity(w,L,j))return w}function g(j,T){return c.getCharCountIndicator(j,T)+4}function p(j,T){let L=0;return j.forEach(function(w){const z=g(w.mode,T);L+=z+w.getBitsLength()}),L}function y(j,T){for(let L=1;L<=40;L++)if(p(j,L)<=a.getCapacity(L,T,c.MIXED))return L}a.from=function(T,L){return u.isValid(T)?parseInt(T,10):L},a.getCapacity=function(T,L,w){if(!u.isValid(T))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=c.BYTE);const z=n.getSymbolTotalCodewords(T),N=l.getTotalCodewordsCount(T,L),E=(z-N)*8;if(w===c.MIXED)return E;const S=E-g(w,T);switch(w){case c.NUMERIC:return Math.floor(S/10*3);case c.ALPHANUMERIC:return Math.floor(S/11*2);case c.KANJI:return Math.floor(S/13);case c.BYTE:default:return Math.floor(S/8)}},a.getBestVersionForData=function(T,L){let w;const z=o.from(L,o.M);if(Array.isArray(T)){if(T.length>1)return y(T,z);if(T.length===0)return 1;w=T[0]}else w=T;return f(w.mode,w.getLength(),z)},a.getEncodedBits=function(T){if(!u.isValid(T)||T<7)throw new Error("Invalid QR Code version");let L=T<<12;for(;n.getBCHDigit(L)-x>=0;)L^=m<<n.getBCHDigit(L)-x;return T<<12|L}})(ku)),ku}var Ru={},Ip;function U3(){if(Ip)return Ru;Ip=1;const a=bn(),n=1335,l=21522,o=a.getBCHDigit(n);return Ru.getEncodedBits=function(u,m){const x=u.bit<<3|m;let f=x<<10;for(;a.getBCHDigit(f)-o>=0;)f^=n<<a.getBCHDigit(f)-o;return(x<<10|f)^l},Ru}var Lu={},zu,Fp;function V3(){if(Fp)return zu;Fp=1;const a=yn();function n(l){this.mode=a.NUMERIC,this.data=l.toString()}return n.getBitsLength=function(o){return 10*Math.floor(o/3)+(o%3?o%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(o){let c,u,m;for(c=0;c+3<=this.data.length;c+=3)u=this.data.substr(c,3),m=parseInt(u,10),o.put(m,10);const x=this.data.length-c;x>0&&(u=this.data.substr(c),m=parseInt(u,10),o.put(m,x*3+1))},zu=n,zu}var Ou,Yp;function P3(){if(Yp)return Ou;Yp=1;const a=yn(),n=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(o){this.mode=a.ALPHANUMERIC,this.data=o}return l.getBitsLength=function(c){return 11*Math.floor(c/2)+6*(c%2)},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(c){let u;for(u=0;u+2<=this.data.length;u+=2){let m=n.indexOf(this.data[u])*45;m+=n.indexOf(this.data[u+1]),c.put(m,11)}this.data.length%2&&c.put(n.indexOf(this.data[u]),6)},Ou=l,Ou}var _u,$p;function q3(){if($p)return _u;$p=1;const a=yn();function n(l){this.mode=a.BYTE,typeof l=="string"?this.data=new TextEncoder().encode(l):this.data=new Uint8Array(l)}return n.getBitsLength=function(o){return o*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(l){for(let o=0,c=this.data.length;o<c;o++)l.put(this.data[o],8)},_u=n,_u}var Bu,Gp;function H3(){if(Gp)return Bu;Gp=1;const a=yn(),n=bn();function l(o){this.mode=a.KANJI,this.data=o}return l.getBitsLength=function(c){return c*13},l.prototype.getLength=function(){return this.data.length},l.prototype.getBitsLength=function(){return l.getBitsLength(this.data.length)},l.prototype.write=function(o){let c;for(c=0;c<this.data.length;c++){let u=n.toSJIS(this.data[c]);if(u>=33088&&u<=40956)u-=33088;else if(u>=57408&&u<=60351)u-=49472;else throw new Error("Invalid SJIS character: "+this.data[c]+`
Make sure your charset is UTF-8`);u=(u>>>8&255)*192+(u&255),o.put(u,13)}},Bu=l,Bu}var Uu={exports:{}},Kp;function I3(){return Kp||(Kp=1,(function(a){var n={single_source_shortest_paths:function(l,o,c){var u={},m={};m[o]=0;var x=n.PriorityQueue.make();x.push(o,0);for(var f,g,p,y,j,T,L,w,z;!x.empty();){f=x.pop(),g=f.value,y=f.cost,j=l[g]||{};for(p in j)j.hasOwnProperty(p)&&(T=j[p],L=y+T,w=m[p],z=typeof m[p]>"u",(z||w>L)&&(m[p]=L,x.push(p,L),u[p]=g))}if(typeof c<"u"&&typeof m[c]>"u"){var N=["Could not find a path from ",o," to ",c,"."].join("");throw new Error(N)}return u},extract_shortest_path_from_predecessor_list:function(l,o){for(var c=[],u=o;u;)c.push(u),l[u],u=l[u];return c.reverse(),c},find_path:function(l,o,c){var u=n.single_source_shortest_paths(l,o,c);return n.extract_shortest_path_from_predecessor_list(u,c)},PriorityQueue:{make:function(l){var o=n.PriorityQueue,c={},u;l=l||{};for(u in o)o.hasOwnProperty(u)&&(c[u]=o[u]);return c.queue=[],c.sorter=l.sorter||o.default_sorter,c},default_sorter:function(l,o){return l.cost-o.cost},push:function(l,o){var c={value:l,cost:o};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};a.exports=n})(Uu)),Uu.exports}var Xp;function F3(){return Xp||(Xp=1,(function(a){const n=yn(),l=V3(),o=P3(),c=q3(),u=H3(),m=iv(),x=bn(),f=I3();function g(N){return unescape(encodeURIComponent(N)).length}function p(N,E,S){const O=[];let A;for(;(A=N.exec(S))!==null;)O.push({data:A[0],index:A.index,mode:E,length:A[0].length});return O}function y(N){const E=p(m.NUMERIC,n.NUMERIC,N),S=p(m.ALPHANUMERIC,n.ALPHANUMERIC,N);let O,A;return x.isKanjiModeEnabled()?(O=p(m.BYTE,n.BYTE,N),A=p(m.KANJI,n.KANJI,N)):(O=p(m.BYTE_KANJI,n.BYTE,N),A=[]),E.concat(S,O,A).sort(function(B,H){return B.index-H.index}).map(function(B){return{data:B.data,mode:B.mode,length:B.length}})}function j(N,E){switch(E){case n.NUMERIC:return l.getBitsLength(N);case n.ALPHANUMERIC:return o.getBitsLength(N);case n.KANJI:return u.getBitsLength(N);case n.BYTE:return c.getBitsLength(N)}}function T(N){return N.reduce(function(E,S){const O=E.length-1>=0?E[E.length-1]:null;return O&&O.mode===S.mode?(E[E.length-1].data+=S.data,E):(E.push(S),E)},[])}function L(N){const E=[];for(let S=0;S<N.length;S++){const O=N[S];switch(O.mode){case n.NUMERIC:E.push([O,{data:O.data,mode:n.ALPHANUMERIC,length:O.length},{data:O.data,mode:n.BYTE,length:O.length}]);break;case n.ALPHANUMERIC:E.push([O,{data:O.data,mode:n.BYTE,length:O.length}]);break;case n.KANJI:E.push([O,{data:O.data,mode:n.BYTE,length:g(O.data)}]);break;case n.BYTE:E.push([{data:O.data,mode:n.BYTE,length:g(O.data)}])}}return E}function w(N,E){const S={},O={start:{}};let A=["start"];for(let $=0;$<N.length;$++){const B=N[$],H=[];for(let P=0;P<B.length;P++){const D=B[P],k=""+$+P;H.push(k),S[k]={node:D,lastCount:0},O[k]={};for(let K=0;K<A.length;K++){const ie=A[K];S[ie]&&S[ie].node.mode===D.mode?(O[ie][k]=j(S[ie].lastCount+D.length,D.mode)-j(S[ie].lastCount,D.mode),S[ie].lastCount+=D.length):(S[ie]&&(S[ie].lastCount=D.length),O[ie][k]=j(D.length,D.mode)+4+n.getCharCountIndicator(D.mode,E))}}A=H}for(let $=0;$<A.length;$++)O[A[$]].end=0;return{map:O,table:S}}function z(N,E){let S;const O=n.getBestModeForData(N);if(S=n.from(E,O),S!==n.BYTE&&S.bit<O.bit)throw new Error('"'+N+'" cannot be encoded with mode '+n.toString(S)+`.
 Suggested mode is: `+n.toString(O));switch(S===n.KANJI&&!x.isKanjiModeEnabled()&&(S=n.BYTE),S){case n.NUMERIC:return new l(N);case n.ALPHANUMERIC:return new o(N);case n.KANJI:return new u(N);case n.BYTE:return new c(N)}}a.fromArray=function(E){return E.reduce(function(S,O){return typeof O=="string"?S.push(z(O,null)):O.data&&S.push(z(O.data,O.mode)),S},[])},a.fromString=function(E,S){const O=y(E,x.isKanjiModeEnabled()),A=L(O),$=w(A,S),B=f.find_path($.map,"start","end"),H=[];for(let P=1;P<B.length-1;P++)H.push($.table[B[P]].node);return a.fromArray(T(H))},a.rawSplit=function(E){return a.fromArray(y(E,x.isKanjiModeEnabled()))}})(Lu)),Lu}var Qp;function Y3(){if(Qp)return vu;Qp=1;const a=bn(),n=th(),l=k3(),o=D3(),c=M3(),u=R3(),m=L3(),x=rv(),f=_3(),g=B3(),p=U3(),y=yn(),j=F3();function T($,B){const H=$.size,P=u.getPositions(B);for(let D=0;D<P.length;D++){const k=P[D][0],K=P[D][1];for(let ie=-1;ie<=7;ie++)if(!(k+ie<=-1||H<=k+ie))for(let se=-1;se<=7;se++)K+se<=-1||H<=K+se||(ie>=0&&ie<=6&&(se===0||se===6)||se>=0&&se<=6&&(ie===0||ie===6)||ie>=2&&ie<=4&&se>=2&&se<=4?$.set(k+ie,K+se,!0,!0):$.set(k+ie,K+se,!1,!0))}}function L($){const B=$.size;for(let H=8;H<B-8;H++){const P=H%2===0;$.set(H,6,P,!0),$.set(6,H,P,!0)}}function w($,B){const H=c.getPositions(B);for(let P=0;P<H.length;P++){const D=H[P][0],k=H[P][1];for(let K=-2;K<=2;K++)for(let ie=-2;ie<=2;ie++)K===-2||K===2||ie===-2||ie===2||K===0&&ie===0?$.set(D+K,k+ie,!0,!0):$.set(D+K,k+ie,!1,!0)}}function z($,B){const H=$.size,P=g.getEncodedBits(B);let D,k,K;for(let ie=0;ie<18;ie++)D=Math.floor(ie/3),k=ie%3+H-8-3,K=(P>>ie&1)===1,$.set(D,k,K,!0),$.set(k,D,K,!0)}function N($,B,H){const P=$.size,D=p.getEncodedBits(B,H);let k,K;for(k=0;k<15;k++)K=(D>>k&1)===1,k<6?$.set(k,8,K,!0):k<8?$.set(k+1,8,K,!0):$.set(P-15+k,8,K,!0),k<8?$.set(8,P-k-1,K,!0):k<9?$.set(8,15-k-1+1,K,!0):$.set(8,15-k-1,K,!0);$.set(P-8,8,1,!0)}function E($,B){const H=$.size;let P=-1,D=H-1,k=7,K=0;for(let ie=H-1;ie>0;ie-=2)for(ie===6&&ie--;;){for(let se=0;se<2;se++)if(!$.isReserved(D,ie-se)){let pe=!1;K<B.length&&(pe=(B[K]>>>k&1)===1),$.set(D,ie-se,pe),k--,k===-1&&(K++,k=7)}if(D+=P,D<0||H<=D){D-=P,P=-P;break}}}function S($,B,H){const P=new l;H.forEach(function(se){P.put(se.mode.bit,4),P.put(se.getLength(),y.getCharCountIndicator(se.mode,$)),se.write(P)});const D=a.getSymbolTotalCodewords($),k=x.getTotalCodewordsCount($,B),K=(D-k)*8;for(P.getLengthInBits()+4<=K&&P.put(0,4);P.getLengthInBits()%8!==0;)P.putBit(0);const ie=(K-P.getLengthInBits())/8;for(let se=0;se<ie;se++)P.put(se%2?17:236,8);return O(P,$,B)}function O($,B,H){const P=a.getSymbolTotalCodewords(B),D=x.getTotalCodewordsCount(B,H),k=P-D,K=x.getBlocksCount(B,H),ie=P%K,se=K-ie,pe=Math.floor(P/K),X=Math.floor(k/K),ee=X+1,be=pe-X,xe=new f(be);let R=0;const Z=new Array(K),me=new Array(K);let _=0;const Q=new Uint8Array($.buffer);for(let Se=0;Se<K;Se++){const Le=Se<se?X:ee;Z[Se]=Q.slice(R,R+Le),me[Se]=xe.encode(Z[Se]),R+=Le,_=Math.max(_,Le)}const Y=new Uint8Array(P);let U=0,ue,I;for(ue=0;ue<_;ue++)for(I=0;I<K;I++)ue<Z[I].length&&(Y[U++]=Z[I][ue]);for(ue=0;ue<be;ue++)for(I=0;I<K;I++)Y[U++]=me[I][ue];return Y}function A($,B,H,P){let D;if(Array.isArray($))D=j.fromArray($);else if(typeof $=="string"){let pe=B;if(!pe){const X=j.rawSplit($);pe=g.getBestVersionForData(X,H)}D=j.fromString($,pe||40)}else throw new Error("Invalid data");const k=g.getBestVersionForData(D,H);if(!k)throw new Error("The amount of data is too big to be stored in a QR Code");if(!B)B=k;else if(B<k)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+k+`.
`);const K=S(B,H,D),ie=a.getSymbolSize(B),se=new o(ie);return T(se,B),L(se),w(se,B),N(se,H,0),B>=7&&z(se,B),E(se,K),isNaN(P)&&(P=m.getBestMask(se,N.bind(null,se,H))),m.applyMask(P,se),N(se,H,P),{modules:se,version:B,errorCorrectionLevel:H,maskPattern:P,segments:D}}return vu.create=function(B,H){if(typeof B>"u"||B==="")throw new Error("No input text");let P=n.M,D,k;return typeof H<"u"&&(P=n.from(H.errorCorrectionLevel,n.M),D=g.from(H.version),k=m.from(H.maskPattern),H.toSJISFunc&&a.setToSJISFunction(H.toSJISFunc)),A(B,D,P,k)},vu}var Vu={},Pu={},Zp;function ov(){return Zp||(Zp=1,(function(a){function n(l){if(typeof l=="number"&&(l=l.toString()),typeof l!="string")throw new Error("Color should be defined as hex string");let o=l.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+l);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(u){return[u,u]}))),o.length===6&&o.push("F","F");const c=parseInt(o.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:c&255,hex:"#"+o.slice(0,6).join("")}}a.getOptions=function(o){o||(o={}),o.color||(o.color={});const c=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,u=o.width&&o.width>=21?o.width:void 0,m=o.scale||4;return{width:u,scale:u?4:m,margin:c,color:{dark:n(o.color.dark||"#000000ff"),light:n(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},a.getScale=function(o,c){return c.width&&c.width>=o+c.margin*2?c.width/(o+c.margin*2):c.scale},a.getImageWidth=function(o,c){const u=a.getScale(o,c);return Math.floor((o+c.margin*2)*u)},a.qrToImageData=function(o,c,u){const m=c.modules.size,x=c.modules.data,f=a.getScale(m,u),g=Math.floor((m+u.margin*2)*f),p=u.margin*f,y=[u.color.light,u.color.dark];for(let j=0;j<g;j++)for(let T=0;T<g;T++){let L=(j*g+T)*4,w=u.color.light;if(j>=p&&T>=p&&j<g-p&&T<g-p){const z=Math.floor((j-p)/f),N=Math.floor((T-p)/f);w=y[x[z*m+N]?1:0]}o[L++]=w.r,o[L++]=w.g,o[L++]=w.b,o[L]=w.a}}})(Pu)),Pu}var Jp;function $3(){return Jp||(Jp=1,(function(a){const n=ov();function l(c,u,m){c.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=m,u.width=m,u.style.height=m+"px",u.style.width=m+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}a.render=function(u,m,x){let f=x,g=m;typeof f>"u"&&(!m||!m.getContext)&&(f=m,m=void 0),m||(g=o()),f=n.getOptions(f);const p=n.getImageWidth(u.modules.size,f),y=g.getContext("2d"),j=y.createImageData(p,p);return n.qrToImageData(j.data,u,f),l(y,g,p),y.putImageData(j,0,0),g},a.renderToDataURL=function(u,m,x){let f=x;typeof f>"u"&&(!m||!m.getContext)&&(f=m,m=void 0),f||(f={});const g=a.render(u,m,f),p=f.type||"image/png",y=f.rendererOpts||{};return g.toDataURL(p,y.quality)}})(Vu)),Vu}var qu={},Wp;function G3(){if(Wp)return qu;Wp=1;const a=ov();function n(c,u){const m=c.a/255,x=u+'="'+c.hex+'"';return m<1?x+" "+u+'-opacity="'+m.toFixed(2).slice(1)+'"':x}function l(c,u,m){let x=c+u;return typeof m<"u"&&(x+=" "+m),x}function o(c,u,m){let x="",f=0,g=!1,p=0;for(let y=0;y<c.length;y++){const j=Math.floor(y%u),T=Math.floor(y/u);!j&&!g&&(g=!0),c[y]?(p++,y>0&&j>0&&c[y-1]||(x+=g?l("M",j+m,.5+T+m):l("m",f,0),f=0,g=!1),j+1<u&&c[y+1]||(x+=l("h",p),p=0)):f++}return x}return qu.render=function(u,m,x){const f=a.getOptions(m),g=u.modules.size,p=u.modules.data,y=g+f.margin*2,j=f.color.light.a?"<path "+n(f.color.light,"fill")+' d="M0 0h'+y+"v"+y+'H0z"/>':"",T="<path "+n(f.color.dark,"stroke")+' d="'+o(p,g,f.margin)+'"/>',L='viewBox="0 0 '+y+" "+y+'"',z='<svg xmlns="http://www.w3.org/2000/svg" '+(f.width?'width="'+f.width+'" height="'+f.width+'" ':"")+L+' shape-rendering="crispEdges">'+j+T+`</svg>
`;return typeof x=="function"&&x(null,z),z},qu}var eb;function K3(){if(eb)return lr;eb=1;const a=E3(),n=Y3(),l=$3(),o=G3();function c(u,m,x,f,g){const p=[].slice.call(arguments,1),y=p.length,j=typeof p[y-1]=="function";if(!j&&!a())throw new Error("Callback required as last argument");if(j){if(y<2)throw new Error("Too few arguments provided");y===2?(g=x,x=m,m=f=void 0):y===3&&(m.getContext&&typeof g>"u"?(g=f,f=void 0):(g=f,f=x,x=m,m=void 0))}else{if(y<1)throw new Error("Too few arguments provided");return y===1?(x=m,m=f=void 0):y===2&&!m.getContext&&(f=x,x=m,m=void 0),new Promise(function(T,L){try{const w=n.create(x,f);T(u(w,m,f))}catch(w){L(w)}})}try{const T=n.create(x,f);g(null,u(T,m,f))}catch(T){g(T)}}return lr.create=n.create,lr.toCanvas=c.bind(null,l.render),lr.toDataURL=c.bind(null,l.renderToDataURL),lr.toString=c.bind(null,function(u,m,x){return o.render(u,x)}),lr}var X3=K3();const cv=ab(X3);var yo={exports:{}},Q3=yo.exports,tb;function Z3(){return tb||(tb=1,(function(a,n){(function(l,o){a.exports=o(ko())})(typeof self<"u"?self:Q3,function(l){return(function(){var o={155:function(N){N.exports=l}},c={};function u(N){var E=c[N];if(E!==void 0)return E.exports;var S=c[N]={exports:{}};return o[N](S,S.exports,u),S.exports}u.d=function(N,E){for(var S in E)u.o(E,S)&&!u.o(N,S)&&Object.defineProperty(N,S,{enumerable:!0,get:E[S]})},u.o=function(N,E){return Object.prototype.hasOwnProperty.call(N,E)},u.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})};var m={};u.r(m),u.d(m,{useReactToPrint:function(){return z}});var x=u(155);function f({level:N="error",messages:E,suppressErrors:S=!1}){S||(N==="error"?console.error(E):N==="warning"?console.warn(E):console.debug(E))}function g(N,E){if(E||!N){const S=document.getElementById("printWindow");S&&document.body.removeChild(S)}}function p(N){return N instanceof Error?N:new Error("Unknown Error")}function y(N,E){const{documentTitle:S,onAfterPrint:O,onPrintError:A,preserveAfterPrint:$,print:B,suppressErrors:H}=E;setTimeout(()=>{var P,D;if(N.contentWindow){let K=function(){O?.(),g($)};var k=K;if(N.contentWindow.focus(),B)B(N).then(K).catch(ie=>{A?A("print",p(ie)):f({messages:["An error was thrown by the specified `print` function"],suppressErrors:H})});else{if(N.contentWindow.print){const ie=(D=(P=N.contentDocument)===null||P===void 0?void 0:P.title)!==null&&D!==void 0?D:"",se=N.ownerDocument.title;S&&(N.ownerDocument.title=S,N.contentDocument&&(N.contentDocument.title=S)),N.contentWindow.print(),S&&(N.ownerDocument.title=se,N.contentDocument&&(N.contentDocument.title=ie))}else f({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:H});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(ie=>{var se,pe;return((pe=(se=navigator.userAgent)!==null&&se!==void 0?se:navigator.vendor)!==null&&pe!==void 0?pe:"opera"in window&&window.opera).match(ie)})?setTimeout(K,500):K()}}else f({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:H})},500)}function j(N){const E=[],S=document.createTreeWalker(N,NodeFilter.SHOW_ELEMENT,null);let O=S.nextNode();for(;O;)E.push(O),O=S.nextNode();return E}function T(N,E,S){const O=j(N),A=j(E);if(O.length===A.length)for(let $=0;$<O.length;$++){const B=O[$],H=A[$],P=B.shadowRoot;if(P!==null){const D=H.attachShadow({mode:P.mode});D.innerHTML=P.innerHTML,T(P,D,S)}}else f({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",N,E],suppressErrors:S})}const L=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function w(N,E,S,O){var A,$,B,H,P;const{contentNode:D,clonedContentNode:k,clonedImgNodes:K,clonedVideoNodes:ie,numResourcesToLoad:se,originalCanvasNodes:pe}=S,{bodyClass:X,fonts:ee,ignoreGlobalStyles:be,pageStyle:xe,nonce:R,suppressErrors:Z,copyShadowRoots:me}=O;N.onload=null;const _=(A=N.contentDocument)!==null&&A!==void 0?A:($=N.contentWindow)===null||$===void 0?void 0:$.document;if(_){const Q=_.body.appendChild(k);me&&T(D,Q,!!Z),ee&&(!((B=N.contentDocument)===null||B===void 0)&&B.fonts&&(!((H=N.contentWindow)===null||H===void 0)&&H.FontFace)?ee.forEach(Ce=>{const De=new FontFace(Ce.family,Ce.source,{weight:Ce.weight,style:Ce.style});N.contentDocument.fonts.add(De),De.loaded.then(()=>{E(De)}).catch(V=>{E(De,["Failed loading the font:",De,"Load error:",p(V)])})}):(ee.forEach(Ce=>{E(Ce)}),f({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:Z})));const Y=xe??L,U=_.createElement("style");R&&(U.setAttribute("nonce",R),_.head.setAttribute("nonce",R)),U.appendChild(_.createTextNode(Y)),_.head.appendChild(U),X&&_.body.classList.add(...X.split(" "));const ue=_.querySelectorAll("canvas");for(let Ce=0;Ce<pe.length;++Ce){const De=pe[Ce],V=ue[Ce];if(V===void 0){f({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",De],suppressErrors:Z});continue}const oe=V.getContext("2d");oe&&oe.drawImage(De,0,0)}for(let Ce=0;Ce<K.length;Ce++){const De=K[Ce],V=De.getAttribute("src");if(V){const oe=new Image;oe.onload=()=>{E(De)},oe.onerror=(Ae,Oe,te,J,Ne)=>{E(De,["Error loading <img>",De,"Error",Ne])},oe.src=V}else E(De,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',De])}for(let Ce=0;Ce<ie.length;Ce++){const De=ie[Ce];De.preload="auto";const V=De.getAttribute("poster");if(V){const oe=new Image;oe.onload=()=>{E(De)},oe.onerror=(Ae,Oe,te,J,Ne)=>{E(De,["Error loading video poster",V,"for video",De,"Error:",Ne])},oe.src=V}else De.readyState>=2?E(De):De.src?(De.onloadeddata=()=>{E(De)},De.onerror=(oe,Ae,Oe,te,J)=>{E(De,["Error loading video",De,"Error",J])},De.onstalled=()=>{E(De,["Loading video stalled, skipping",De])}):E(De,["Error loading video, `src` is empty",De])}const I="select",Se=D.querySelectorAll(I),Le=_.querySelectorAll(I);for(let Ce=0;Ce<Se.length;Ce++)Le[Ce].value=Se[Ce].value;if(!be){const Ce=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let De=0,V=Ce.length;De<V;++De){const oe=Ce[De];if(oe.tagName.toLowerCase()==="style"){const Ae=_.createElement(oe.tagName),Oe=oe.sheet;if(Oe){let te="";try{const J=Oe.cssRules.length;for(let Ne=0;Ne<J;++Ne)typeof Oe.cssRules[Ne].cssText=="string"&&(te+=`${Oe.cssRules[Ne].cssText}\r
`)}catch(J){f({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",oe,`Original error: ${p(J).message}`],level:"warning"})}Ae.setAttribute("id",`react-to-print-${De}`),R&&Ae.setAttribute("nonce",R),Ae.appendChild(_.createTextNode(te)),_.head.appendChild(Ae)}}else if(oe.getAttribute("href"))if(oe.hasAttribute("disabled"))f({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",oe],level:"warning"}),E(oe);else{const Ae=_.createElement(oe.tagName);for(let Oe=0,te=oe.attributes.length;Oe<te;++Oe){const J=oe.attributes[Oe];J&&Ae.setAttribute(J.nodeName,(P=J.nodeValue)!==null&&P!==void 0?P:"")}Ae.onload=()=>{E(Ae)},Ae.onerror=(Oe,te,J,Ne,F)=>{E(Ae,["Failed to load",Ae,"Error:",F])},R&&Ae.setAttribute("nonce",R),_.head.appendChild(Ae)}else f({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",oe],level:"warning"}),E(oe)}}}se===0&&y(N,O)}function z({bodyClass:N,contentRef:E,copyShadowRoots:S,documentTitle:O,fonts:A,ignoreGlobalStyles:$,nonce:B,onAfterPrint:H,onBeforePrint:P,onPrintError:D,pageStyle:k,preserveAfterPrint:K,print:ie,suppressErrors:se}){return(0,x.useCallback)(pe=>{function X(){const ee={bodyClass:N,contentRef:E,copyShadowRoots:S,documentTitle:O,fonts:A,ignoreGlobalStyles:$,nonce:B,onAfterPrint:H,onPrintError:D,pageStyle:k,preserveAfterPrint:K,print:ie,suppressErrors:se},be=(function(){const Z=document.createElement("iframe");return Z.width=`${document.documentElement.clientWidth}px`,Z.height=`${document.documentElement.clientHeight}px`,Z.style.position="absolute",Z.style.top=`-${document.documentElement.clientHeight+100}px`,Z.style.left=`-${document.documentElement.clientWidth+100}px`,Z.id="printWindow",Z.srcdoc="<!DOCTYPE html>",Z})(),xe=(function(Z,me){const{contentRef:_,fonts:Q,ignoreGlobalStyles:Y,suppressErrors:U}=me,ue=(function({contentRef:V,optionalContent:oe,suppressErrors:Ae}){return oe&&typeof oe=="function"?(V&&f({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),oe()):V?V.current:void f({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:Ae})})({contentRef:_,optionalContent:Z,suppressErrors:U});if(!ue)return;const I=ue.cloneNode(!0),Se=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Le=I.querySelectorAll("img"),Ce=I.querySelectorAll("video"),De=Q?Q.length:0;return{contentNode:ue,clonedContentNode:I,clonedImgNodes:Le,clonedVideoNodes:Ce,numResourcesToLoad:(Y?0:Se.length)+Le.length+Ce.length+De,originalCanvasNodes:ue.querySelectorAll("canvas")}})(pe,ee);if(!xe)return void f({messages:["There is nothing to print"],suppressErrors:se});const R=(function(Z,me,_){const{suppressErrors:Q}=Z,Y=[],U=[];return function(ue,I){Y.includes(ue)?f({level:"debug",messages:["Tried to mark a resource that has already been handled",ue],suppressErrors:Q}):(I?(f({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...I],suppressErrors:Q}),U.push(ue)):Y.push(ue),Y.length+U.length===me&&y(_,Z))}})(ee,xe.numResourcesToLoad,be);(function(Z,me,_,Q){Z.onload=()=>{w(Z,me,_,Q)},document.body.appendChild(Z)})(be,R,xe,ee)}g(K,!0),P?P().then(()=>{X()}).catch(ee=>{D?.("onBeforePrint",p(ee))}):X()},[N,E,S,O,A,$,B,H,P,D,k,K,ie,se])}return m})()})})(yo)),yo.exports}var dv=Z3();const J3=({isOpen:a,onClose:n,student:l,redirectUrl:o="https://itak.edu"})=>{const[c,u]=b.useState(""),[m,x]=b.useState(!1),[f,g]=b.useState(!1),p=b.useRef(null),y=b.useRef(null),j=dv.useReactToPrint({contentRef:y,documentTitle:`Carte_etudiante_${l?.user.firstName}_${l?.user.lastName}`,pageStyle:`
      @page {
        size: A4;
        margin: 0.5in;
      }
      @media print {
        body {
          -webkit-print-color-adjust: exact !important;
          color-adjust: exact !important;
          print-color-adjust: exact !important;
        }
      }
    `}),T=b.useCallback(async()=>{if(l){x(!0);try{const z={id:l.id,name:`${l.user.firstName} ${l.user.lastName}`,firstName:l.user.firstName,lastName:l.user.lastName,email:l.user.email,matricule:l.matricule||"",enrollmentDate:l.enrollmentDate,address:l.address||"",emergencyContact:l.emergencyContact||"",fatherName:l.fatherName||"",motherName:l.motherName||"",tutorName:l.tutorName||"",tutorPhone:l.tutorPhone||"",maritalStatus:l.maritalStatus||"",notes:l.notes||"",redirectUrl:o},N=JSON.stringify(z),E=await cv.toDataURL(N,{width:200,margin:2,color:{dark:"#1e40af",light:"#ffffff"},errorCorrectionLevel:"H"});u(E)}catch(z){console.error("Erreur lors de la gnration du QR code:",z)}finally{x(!1)}}},[l,o]);b.useEffect(()=>{l&&a&&T()},[l,a,T]);const L=z=>{if(!z)return"Non renseign";try{return new Date(z).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return"Date invalide"}},w=async()=>{if(p.current&&l)try{const z=document.createElement("canvas"),N=z.getContext("2d");if(!N)throw new Error("Impossible de crer le contexte canvas");const E=1016,S=640;z.width=E,z.height=S;const O=N.createLinearGradient(0,0,E,S);O.addColorStop(0,"#1e40af"),O.addColorStop(1,"#3b82f6"),N.fillStyle=O,N.fillRect(0,0,E,S);const A=80,$=30,B=30;if(N.fillStyle="white",N.fillRect($,B,A,A),N.fillStyle="#1e40af",N.font="bold 24px Arial",N.textAlign="center",N.textBaseline="middle",N.fillText("ITAK",$+A/2,B+A/2),N.fillStyle="white",N.font="bold 20px Arial",N.textAlign="right",N.fillText("Carte tudiant",E-30,50),N.font="14px Arial",N.fillText("2024-2025",E-30,70),N.fillStyle="white",N.font="bold 32px Arial",N.textAlign="left",N.textBaseline="top",N.fillText(`${l.user.firstName} ${l.user.lastName}`,30,150),N.font="18px Arial",N.fillText(`Matricule: ${l.matricule||"N/A"}`,30,200),N.fillText(`Email: ${l.user.email}`,30,230),N.fillText(`Inscription: ${L(l.enrollmentDate)}`,30,260),c){const P=E-120-30,D=150;N.fillStyle="white",N.fillRect(P-5,D-5,130,130);const k=new Image;k.onload=()=>{N.drawImage(k,P,D,120,120),N.fillStyle="white",N.font="12px Arial",N.textAlign="center",N.fillText("tudiant  Institut Technique 'l'Antidote' de Kati (ITAK)",E/2,S-20);const K=document.createElement("a");K.download=`carte-etudiant-${l.user.firstName}-${l.user.lastName}.png`,K.href=z.toDataURL("image/png",1),K.click()},k.src=c}else{N.fillStyle="white",N.font="12px Arial",N.textAlign="center",N.fillText("tudiant  Institut Technique 'l'Antidote' de Kati (ITAK)",E/2,S-20);const H=document.createElement("a");H.download=`carte-etudiant-${l.user.firstName}-${l.user.lastName}.png`,H.href=z.toDataURL("image/png",1),H.click()}}catch(z){console.error("Erreur lors du tlchargement:",z),alert("Erreur lors du tlchargement de la carte")}};return!a||!l?null:e.jsxs("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:[e.jsxs(ge.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl border border-white/20 max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx($6,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Gnration de carte tudiante"}),e.jsxs("p",{className:"text-blue-100 text-sm",children:[l.user.firstName," ",l.user.lastName]})]})]}),e.jsx(ce,{onClick:n,variant:"outline",size:"sm",className:"p-2 bg-white/10 hover:bg-white/20 border-white/30 text-white",children:e.jsx(Us,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"flex-1 p-8 bg-gray-50",children:e.jsx("div",{className:"flex flex-col lg:flex-row gap-8",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Aperu de la carte"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ce,{onClick:()=>g(!1),variant:f?"outline":"primary",size:"sm",className:"flex items-center gap-1",children:[e.jsx(Z6,{className:"w-3 h-3"}),"Recto"]}),e.jsxs(ce,{onClick:()=>g(!0),variant:f?"primary":"outline",size:"sm",className:"flex items-center gap-1",children:[e.jsx(X6,{className:"w-3 h-3"}),"Verso"]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{ref:p,className:"card-container relative",style:{width:"85.6mm",height:"54mm",borderRadius:"8px",position:"relative",overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",transformStyle:"preserve-3d",transition:"transform 0.6s",transform:f?"rotateY(180deg)":"rotateY(0deg)"},children:[e.jsxs("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",color:"white",backfaceVisibility:"hidden",position:"relative"},children:[e.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-15deg)",fontSize:"80px",fontWeight:"900",color:"rgba(255, 255, 255, 0.1)",zIndex:1,pointerEvents:"none",userSelect:"none"},children:"UPCD ITAK"}),e.jsxs("div",{className:"card-content",style:{padding:"12px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative"},children:[e.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{className:"logo",style:{width:"32px",height:"32px",background:"white",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",padding:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:e.jsx("img",{src:mn,alt:"ITAK",style:{width:"100%",height:"100%",objectFit:"contain"}})}),e.jsxs("div",{style:{fontSize:"10px",fontWeight:"bold",textAlign:"right",lineHeight:"1.2"},children:[e.jsx("div",{children:"Carte tudiant"}),e.jsx("div",{style:{fontSize:"8px",opacity:.9},children:"2024-2025"})]})]}),e.jsxs("div",{className:"student-main-info",style:{flex:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{className:"student-info",style:{flex:1,marginRight:"12px"},children:[e.jsxs("div",{className:"student-name",style:{fontSize:"14px",fontWeight:"bold",marginBottom:"6px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:[l.user.firstName," ",l.user.lastName]}),e.jsxs("div",{className:"student-details",style:{fontSize:"9px",lineHeight:"1.4",opacity:.95},children:[e.jsxs("div",{style:{marginBottom:"4px",background:"rgba(255, 255, 255, 0.15)",padding:"3px 6px",borderRadius:"3px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsx("span",{style:{fontWeight:"600",fontSize:"8px",textTransform:"uppercase",letterSpacing:"0.3px",opacity:.9},children:"Matricule"}),e.jsx("div",{style:{fontSize:"8px",marginTop:"1px"},children:l.matricule||"N/A"})]}),e.jsxs("div",{style:{marginBottom:"4px",background:"rgba(255, 255, 255, 0.15)",padding:"3px 6px",borderRadius:"3px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsx("span",{style:{fontWeight:"600",fontSize:"8px",textTransform:"uppercase",letterSpacing:"0.3px",opacity:.9},children:"Email"}),e.jsx("div",{style:{fontSize:"8px",marginTop:"1px"},children:l.user.email})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.15)",padding:"3px 6px",borderRadius:"3px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsx("span",{style:{fontWeight:"600",fontSize:"8px",textTransform:"uppercase",letterSpacing:"0.3px",opacity:.9},children:"Inscription"}),e.jsx("div",{style:{fontSize:"8px",marginTop:"1px"},children:L(l.enrollmentDate)})]})]})]}),c&&e.jsx("div",{className:"qr-code",style:{width:"60px",height:"60px",background:"white",borderRadius:"6px",padding:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:e.jsx("img",{src:c,alt:"QR Code",style:{width:"100%",height:"100%",objectFit:"contain"}})})]}),e.jsx("div",{style:{fontSize:"6px",opacity:.9,textAlign:"center",marginTop:"4px",fontWeight:"500",letterSpacing:"0.3px",lineHeight:"1.1"},children:"tudiant  Institut Technique 'l'Antidote' de Kati (ITAK)"})]})]}),e.jsxs("div",{className:"absolute inset-0",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",color:"#1e40af",backfaceVisibility:"hidden",transform:"rotateY(180deg)",position:"relative"},children:[e.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-15deg)",fontSize:"80px",fontWeight:"900",color:"rgba(30, 64, 175, 0.08)",zIndex:1,pointerEvents:"none",userSelect:"none"},children:"UPCD ITAK"}),e.jsxs("div",{className:"card-content",style:{padding:"12px",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative",zIndex:2},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#1e40af"},children:"Informations dtailles"}),e.jsx("div",{style:{width:"24px",height:"24px",background:"#1e40af",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",padding:"2px"},children:e.jsx("img",{src:mn,alt:"ITAK",style:{width:"100%",height:"100%",objectFit:"contain",filter:"brightness(0) invert(1)"}})})]}),e.jsxs("div",{style:{flex:1,display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",fontSize:"6px",lineHeight:"1.3",marginBottom:"4px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[e.jsxs("div",{style:{background:"rgba(30, 64, 175, 0.1)",padding:"4px 6px",borderRadius:"4px",border:"1px solid rgba(30, 64, 175, 0.2)"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"5px",color:"#1e40af",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:"Contact d'urgence"}),e.jsx("div",{style:{fontSize:"4px",color:"#374151",wordBreak:"break-word",lineHeight:"1.2"},children:l.emergencyContact||"Non renseign"})]}),e.jsxs("div",{style:{background:"rgba(30, 64, 175, 0.1)",padding:"4px 6px",borderRadius:"4px",border:"1px solid rgba(30, 64, 175, 0.2)"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"5px",color:"#1e40af",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:"Adresse"}),e.jsx("div",{style:{fontSize:"4px",color:"#374151",wordBreak:"break-word",lineHeight:"1.2"},children:l.address||"Non renseign"})]}),e.jsxs("div",{style:{background:"rgba(30, 64, 175, 0.1)",padding:"4px 6px",borderRadius:"4px",border:"1px solid rgba(30, 64, 175, 0.2)"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"5px",color:"#1e40af",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:"Statut matrimonial"}),e.jsx("div",{style:{fontSize:"4px",color:"#374151",lineHeight:"1.2"},children:l.maritalStatus||"Non renseign"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[e.jsxs("div",{style:{background:"rgba(30, 64, 175, 0.1)",padding:"4px 6px",borderRadius:"4px",border:"1px solid rgba(30, 64, 175, 0.2)"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"5px",color:"#1e40af",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:"Pre"}),e.jsx("div",{style:{fontSize:"4px",color:"#374151",lineHeight:"1.2"},children:l.fatherName||"Non renseign"})]}),e.jsxs("div",{style:{background:"rgba(30, 64, 175, 0.1)",padding:"4px 6px",borderRadius:"4px",border:"1px solid rgba(30, 64, 175, 0.2)"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"5px",color:"#1e40af",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:"Mre"}),e.jsx("div",{style:{fontSize:"4px",color:"#374151",lineHeight:"1.2"},children:l.motherName||"Non renseign"})]}),e.jsxs("div",{style:{background:"rgba(30, 64, 175, 0.1)",padding:"4px 6px",borderRadius:"4px",border:"1px solid rgba(30, 64, 175, 0.2)"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"5px",color:"#1e40af",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:"Tuteur"}),e.jsx("div",{style:{fontSize:"4px",color:"#374151",lineHeight:"1.2"},children:l.tutorName||"Non renseign"})]})]})]}),e.jsxs("div",{style:{fontSize:"5px",textAlign:"center",padding:"2px",background:"rgba(30, 64, 175, 0.1)",borderRadius:"2px",fontWeight:"500",lineHeight:"1.1"},children:[e.jsx("div",{style:{fontWeight:"bold"},children:"En cas de perte, scanner le QR code"}),e.jsx("div",{children:"Institut Technique 'l'Antidote' de Kati (ITAK)"})]})]})]})]})}),e.jsxs("div",{className:"flex gap-4 mt-6 justify-center",children:[e.jsxs(ce,{onClick:j,className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",disabled:m,children:[e.jsx(nv,{className:"w-4 h-4"}),"Imprimer"]}),e.jsxs(ce,{onClick:w,className:"flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg",disabled:m,children:[e.jsx(b6,{className:"w-4 h-4"}),"Tlcharger"]})]})]})})})]}),e.jsx("div",{style:{display:"none"},children:e.jsx("div",{ref:y,children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px",alignItems:"center",padding:"20px",fontFamily:"Arial, sans-serif"},children:[e.jsxs("div",{style:{width:"85.6mm",height:"54mm",background:"linear-gradient(135deg, #1e40af 0%, #3b82f6 100%)",color:"white",borderRadius:"8px",padding:"12px",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative",border:"1px solid #ccc"},children:[e.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-15deg)",fontSize:"60px",fontWeight:"900",color:"rgba(255, 255, 255, 0.1)",zIndex:1,pointerEvents:"none",userSelect:"none"},children:"UPCD ITAK"}),e.jsxs("div",{style:{position:"relative",zIndex:2},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",background:"white",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",padding:"2px"},children:e.jsx("img",{src:mn,alt:"ITAK",style:{width:"100%",height:"100%",objectFit:"contain"}})}),e.jsxs("div",{style:{fontSize:"10px",fontWeight:"bold",textAlign:"right",lineHeight:"1.2"},children:[e.jsx("div",{children:"Carte tudiant"}),e.jsx("div",{style:{fontSize:"8px",opacity:.9},children:"2024-2025"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{flex:1,marginRight:"12px"},children:[e.jsxs("div",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"6px",textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:[l?.user.firstName," ",l?.user.lastName]}),e.jsxs("div",{style:{fontSize:"9px",lineHeight:"1.4",opacity:.95},children:[e.jsxs("div",{style:{marginBottom:"4px",background:"rgba(255, 255, 255, 0.15)",padding:"3px 6px",borderRadius:"3px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsx("span",{style:{fontWeight:"600",fontSize:"8px",textTransform:"uppercase",letterSpacing:"0.3px",opacity:.9},children:"Matricule"}),e.jsx("div",{style:{fontSize:"8px",marginTop:"1px"},children:l?.matricule||"N/A"})]}),e.jsxs("div",{style:{marginBottom:"4px",background:"rgba(255, 255, 255, 0.15)",padding:"3px 6px",borderRadius:"3px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsx("span",{style:{fontWeight:"600",fontSize:"8px",textTransform:"uppercase",letterSpacing:"0.3px",opacity:.9},children:"Email"}),e.jsx("div",{style:{fontSize:"8px",marginTop:"1px"},children:l?.user.email})]}),e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.15)",padding:"3px 6px",borderRadius:"3px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[e.jsx("span",{style:{fontWeight:"600",fontSize:"8px",textTransform:"uppercase",letterSpacing:"0.3px",opacity:.9},children:"Inscription"}),e.jsx("div",{style:{fontSize:"8px",marginTop:"1px"},children:L(l?.enrollmentDate)})]})]})]}),c&&e.jsx("div",{style:{width:"60px",height:"60px",background:"white",borderRadius:"6px",padding:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"},children:e.jsx("img",{src:c,alt:"QR Code",style:{width:"100%",height:"100%",objectFit:"contain"}})})]}),e.jsx("div",{style:{fontSize:"6px",opacity:.9,textAlign:"center",marginTop:"4px",fontWeight:"500",letterSpacing:"0.2px",lineHeight:"1.0"},children:"tudiant  Institut Technique 'l'Antidote' de Kati (ITAK)"})]})]}),e.jsxs("div",{style:{width:"85.6mm",height:"54mm",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",color:"#1e40af",borderRadius:"8px",padding:"12px",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative",border:"1px solid #ccc"},children:[e.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%) rotate(-15deg)",fontSize:"60px",fontWeight:"900",color:"rgba(30, 64, 175, 0.08)",zIndex:1,pointerEvents:"none",userSelect:"none"},children:"UPCD ITAK"}),e.jsxs("div",{style:{position:"relative",zIndex:2},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"10px",fontWeight:"bold",color:"#1e40af"},children:"Informations dtailles"}),e.jsx("div",{style:{width:"24px",height:"24px",background:"#1e40af",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",padding:"2px"},children:e.jsx("img",{src:mn,alt:"ITAK",style:{width:"100%",height:"100%",objectFit:"contain",filter:"brightness(0) invert(1)"}})})]}),e.jsxs("div",{style:{flex:1,display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",fontSize:"6px",lineHeight:"1.3",marginBottom:"4px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[e.jsxs("div",{style:{background:"rgba(30, 64, 175, 0.1)",padding:"4px 6px",borderRadius:"4px",border:"1px solid rgba(30, 64, 175, 0.2)"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"5px",color:"#1e40af",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:"Contact d'urgence"}),e.jsx("div",{style:{fontSize:"4px",color:"#374151",wordBreak:"break-word",lineHeight:"1.2"},children:l?.emergencyContact||"Non renseign"})]}),e.jsxs("div",{style:{background:"rgba(30, 64, 175, 0.1)",padding:"4px 6px",borderRadius:"4px",border:"1px solid rgba(30, 64, 175, 0.2)"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"5px",color:"#1e40af",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:"Adresse"}),e.jsx("div",{style:{fontSize:"4px",color:"#374151",wordBreak:"break-word",lineHeight:"1.2"},children:l?.address||"Non renseign"})]}),e.jsxs("div",{style:{background:"rgba(30, 64, 175, 0.1)",padding:"4px 6px",borderRadius:"4px",border:"1px solid rgba(30, 64, 175, 0.2)"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"5px",color:"#1e40af",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:"Statut matrimonial"}),e.jsx("div",{style:{fontSize:"4px",color:"#374151",lineHeight:"1.2"},children:l?.maritalStatus||"Non renseign"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[e.jsxs("div",{style:{background:"rgba(30, 64, 175, 0.1)",padding:"4px 6px",borderRadius:"4px",border:"1px solid rgba(30, 64, 175, 0.2)"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"5px",color:"#1e40af",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:"Pre"}),e.jsx("div",{style:{fontSize:"4px",color:"#374151",lineHeight:"1.2"},children:l?.fatherName||"Non renseign"})]}),e.jsxs("div",{style:{background:"rgba(30, 64, 175, 0.1)",padding:"4px 6px",borderRadius:"4px",border:"1px solid rgba(30, 64, 175, 0.2)"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"5px",color:"#1e40af",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:"Mre"}),e.jsx("div",{style:{fontSize:"4px",color:"#374151",lineHeight:"1.2"},children:l?.motherName||"Non renseign"})]}),e.jsxs("div",{style:{background:"rgba(30, 64, 175, 0.1)",padding:"4px 6px",borderRadius:"4px",border:"1px solid rgba(30, 64, 175, 0.2)"},children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"5px",color:"#1e40af",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"2px"},children:"Tuteur"}),e.jsx("div",{style:{fontSize:"4px",color:"#374151",lineHeight:"1.2"},children:l?.tutorName||"Non renseign"})]})]})]}),e.jsxs("div",{style:{fontSize:"4px",textAlign:"center",padding:"1px",background:"rgba(30, 64, 175, 0.1)",borderRadius:"1px",fontWeight:"500",lineHeight:"1.0"},children:[e.jsx("div",{style:{fontWeight:"bold"},children:"En cas de perte, scanner le QR code"}),e.jsx("div",{children:"Institut Technique 'l'Antidote' de Kati (ITAK)"})]})]})]})]})})})]})},W3=({onEditProfile:a,refreshTrigger:n,users:l=[],isProfileTypeCompatible:o})=>{const[c,u]=b.useState([]),[m,x]=b.useState(!0),[f,g]=b.useState(null),[p,y]=b.useState(!1),[j,T]=b.useState(null),[L,w]=b.useState(!1),[z,N]=b.useState(null),E=b.useCallback(async()=>{try{x(!0),g(null);const k=await ve.getAllStudents(),K=k.success&&k.data?k.data:[],se=l.filter(pe=>pe.role==="student"||K.some(X=>X.userId===pe.id)).map(pe=>{const X=K.find(ee=>ee.userId===pe.id);return X||{id:"0",userId:pe.id,matricule:"",enrollmentDate:"",photo:void 0,maritalStatus:"",fatherName:"",motherName:"",tutorName:"",tutorPhone:"",address:"",emergencyContact:"",notes:"",user:{id:pe.id,username:pe.username,email:pe.email,firstName:pe.firstName,lastName:pe.lastName,role:pe.role}}});u(se)}catch(k){console.error("Erreur lors de la rcupration des tudiants:",k),g("Erreur de connexion au serveur")}finally{x(!1)}},[l]);b.useEffect(()=>{E()},[n,E]);const S=k=>k.id!=="0"&&!!(k.matricule&&k.enrollmentDate&&k.fatherName&&k.motherName&&k.tutorName&&k.tutorPhone&&k.address&&k.emergencyContact),O=k=>S(k)?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",A=k=>S(k)?e.jsx(Va,{className:"w-4 h-4"}):e.jsx(pn,{className:"w-4 h-4"}),$=k=>k.id==="0"?"Profil manquant":S(k)?"Complet":"Incomplet",B=k=>{T(k),y(!0)},H=()=>{y(!1),T(null)},P=k=>{N(k),w(!0)},D=()=>{w(!1),N(null)};return m?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-blue-100 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-blue-600",children:"Chargement des tudiants..."})]})}):f?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-red-100 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(pn,{className:"w-8 h-8 text-red-600"})}),e.jsx("p",{className:"text-red-600 mb-4",children:f}),e.jsx(ce,{onClick:E,variant:"outline",children:"Ressayer"})]})}):c.length===0?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-blue-100 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Va,{className:"w-8 h-8 text-blue-600"})}),e.jsx("p",{className:"text-blue-600",children:"Aucun tudiant trouv"}),e.jsx("p",{className:"text-blue-400 text-sm mt-2",children:"Les tudiants apparatront ici une fois leurs profils crs"})]})}):e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-blue-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-blue-100",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-900",children:["Donnes des tudiants (",c.length,")"]}),e.jsx("p",{className:"text-blue-600 text-sm mt-1",children:"Gestion des profils tudiants et de leurs informations"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-blue-50 border-b border-blue-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"tudiant"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Matricule"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Date d'inscription"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Tuteur"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Statut Profil"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:c.map(k=>e.jsxs("tr",{className:`hover:bg-blue-50 transition-colors ${k.id==="0"?"bg-red-50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-medium ${k.id==="0"?"bg-gradient-to-br from-red-500 to-red-600":"bg-gradient-to-br from-blue-500 to-blue-600"}`,children:[k.user.firstName.charAt(0),k.user.lastName.charAt(0)]}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-blue-900",children:[k.user.firstName," ",k.user.lastName]}),e.jsxs("div",{className:"text-sm text-blue-600",children:["@",k.user.username]}),e.jsx("div",{className:"text-xs text-gray-500",children:k.user.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-blue-900",children:k.matricule||""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-blue-900",children:k.enrollmentDate?new Date(k.enrollmentDate).toLocaleDateString("fr-FR"):""})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-blue-900",children:k.tutorName||""}),e.jsx("div",{className:"text-xs text-blue-600",children:k.tutorPhone||""})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full border ${O(k)}`,children:[A(k),$(k)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>B(k),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",title:"Voir tous les dtails",children:e.jsx(xn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>P(k),className:"p-2 text-purple-600 hover:text-purple-700 hover:bg-purple-50 rounded-lg transition-colors",title:"Gnrer une carte tudiante",children:e.jsx(Os,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{if(o&&!o(k.user.role,"student")){alert(`Erreur: Un utilisateur avec le rle "${k.user.role}" ne peut pas avoir un profil tudiant.`);return}a(k)},className:`p-2 rounded-lg transition-colors ${k.id==="0"?"text-white bg-red-600 hover:bg-red-700":S(k)?"text-green-600 hover:text-green-700 hover:bg-green-50":"text-orange-600 hover:text-orange-700 hover:bg-orange-50"}`,title:k.id==="0"?"Crer le profil":S(k)?"Modifier le profil":"Complter le profil",children:e.jsx(la,{className:"w-4 h-4"})})]})})]},k.id))})]})}),e.jsx(T3,{isOpen:p,onClose:H,student:j}),e.jsx(J3,{isOpen:L,onClose:D,student:z,redirectUrl:"https://itak.edu"})]})},eC=({isOpen:a,onClose:n,teacher:l})=>{if(!a||!l)return null;const o=m=>{if(!m)return"Non renseign";try{return new Date(m).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return"Date invalide"}},c=m=>m?{single:"Clibataire",married:"Mari(e)",divorced:"Divorc(e)",widowed:"Veuf/Veuve"}[m]||m:"Non renseign",u=l.id!=="0"&&!!(l.matricule&&l.hireDate&&l.diplomas&&l.address&&l.emergencyContact);return e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-green-900/20 via-emerald-900/20 to-teal-900/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(ge.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 p-6 text-white overflow-hidden flex-shrink-0",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent transform -skew-x-12"})}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ge.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",damping:15},className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg border border-white/30 flex-shrink-0",children:[l.user.firstName.charAt(0),l.user.lastName.charAt(0)]}),e.jsxs("div",{children:[e.jsxs(ge.h2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"text-2xl font-bold text-white mb-1",children:[l.user.firstName," ",l.user.lastName]}),e.jsxs(ge.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-green-100 text-base mb-2",children:["@",l.user.username]}),e.jsx(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center gap-2",children:e.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 text-xs font-semibold rounded-full backdrop-blur-sm border ${u?"bg-green-500/20 text-green-100 border-green-400/30":"bg-orange-500/20 text-orange-100 border-orange-400/30"}`,children:u?e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"w-3 h-3"}),"Profil complet"]}):e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"w-3 h-3"}),"Profil incomplet"]})})})]})]}),e.jsx(ge.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.6},children:e.jsx(ce,{onClick:n,variant:"outline",size:"sm",className:"p-2 bg-white/10 hover:bg-white/20 border-white/30 text-white backdrop-blur-sm flex-shrink-0",children:e.jsx(Us,{className:"w-4 h-4"})})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 bg-gradient-to-br from-gray-50 to-green-50/30 scrollbar-thin scrollbar-thumb-green-400 scrollbar-track-green-100 hover:scrollbar-thumb-green-500",children:[e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl flex items-center justify-center",children:e.jsx(Mt,{className:"w-5 h-5 text-white"})}),"Informations personnelles"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-green-700 mb-2",children:"Nom complet"}),e.jsxs("p",{className:"text-gray-800 font-semibold text-lg",children:[l.user.firstName," ",l.user.lastName]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-4 border border-emerald-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-emerald-700 mb-2",children:"Nom d'utilisateur"}),e.jsxs("p",{className:"text-gray-800 font-medium",children:["@",l.user.username]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-xl p-4 border border-teal-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-teal-700 mb-2",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($l,{className:"w-5 h-5 text-teal-600"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.user.email})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-xl p-4 border border-cyan-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-cyan-700 mb-2",children:"Rle"}),e.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-sm",children:"Enseignant"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-lime-50 to-green-50 rounded-xl p-4 border border-lime-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-lime-700 mb-2",children:"Matricule"}),e.jsx("p",{className:"text-gray-800 font-mono text-lg font-semibold",children:l.matricule||"Non renseign"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4 border border-green-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-green-700 mb-2",children:"Date d'embauche"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ct,{className:"w-5 h-5 text-green-600"}),e.jsx("p",{className:"text-gray-800 font-medium",children:o(l.hireDate)})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl p-4 border border-emerald-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-emerald-700 mb-2",children:"Statut matrimonial"}),e.jsx("p",{className:"text-gray-800 font-medium",children:c(l.maritalStatus)})]}),e.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-xl p-4 border border-teal-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-teal-700 mb-2",children:"Photo"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.photo?" Photo disponible":" Aucune photo"})]})]})]})]}),e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center",children:e.jsx(Je,{className:"w-5 h-5 text-white"})}),"Informations professionnelles"]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-xl p-6 border border-emerald-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-emerald-700 mb-3",children:" Diplmes et qualifications"}),e.jsx("p",{className:"text-gray-800 whitespace-pre-wrap font-medium leading-relaxed",children:l.diplomas||"Aucun diplme renseign"})]})})]}),e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 to-cyan-600 rounded-xl flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),"Informations de contact"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 rounded-xl p-4 border border-teal-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-teal-700 mb-2",children:" Adresse"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ba,{className:"w-5 h-5 text-teal-600 mt-0.5"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.address||"Non renseign"})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-4 border border-red-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-red-700 mb-2",children:" Contact d'urgence"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ul,{className:"w-5 h-5 text-red-600"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.emergencyContact||"Non renseign"})]})]})})]})]}),e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center",children:e.jsx(rs,{className:"w-5 h-5 text-white"})}),"Notes et informations supplmentaires"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-6 border border-orange-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-3",children:" Notes"}),e.jsx("p",{className:"text-gray-800 whitespace-pre-wrap font-medium leading-relaxed",children:l.notes||"Aucune note disponible"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-xl p-4 border border-slate-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:" Date de cration"}),e.jsx("p",{className:"text-gray-800 font-medium",children:o(l.createdAt)})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-xl p-4 border border-slate-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:" Dernire modification"}),e.jsx("p",{className:"text-gray-800 font-medium",children:o(l.updatedAt)})]})]})]})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-gradient-to-r from-gray-50 to-green-50/50 backdrop-blur-sm border-t-2 border-gray-800/50 p-4 flex-shrink-0",children:e.jsx("div",{className:"flex justify-end gap-4",children:e.jsx(ge.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(ce,{onClick:n,className:"px-8 py-3 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:"Fermer"})})})})]})})},tC=({onEditProfile:a,refreshTrigger:n,users:l=[],isProfileTypeCompatible:o})=>{const[c,u]=b.useState([]),[m,x]=b.useState(!0),[f,g]=b.useState(null),[p,y]=b.useState(!1),[j,T]=b.useState(null),L=b.useCallback(async()=>{try{x(!0),g(null);const A=await ve.getAllTeachers();console.log(" Rponse getAllTeachers:",A);const $=A.success&&A.data?A.data:[];console.log(" Profils enseignants existants:",$);const H=l.filter(P=>P.role==="teacher"||$.some(D=>D.user.id===P.id)).map(P=>{console.log(` Recherche profil pour user ${P.id}:`,{userId:P.id,existingProfiles:$.map(k=>({id:k.id,userId:k.user?.id}))});const D=$.find(k=>k.user.id===P.id);return D||{id:"0",userId:P.id,matricule:"",hireDate:"",photo:void 0,maritalStatus:"",diplomas:"",address:"",emergencyContact:"",notes:"",user:{id:P.id,username:P.username,email:P.email,firstName:P.firstName,lastName:P.lastName,role:P.role}}});u(H)}catch(A){console.error("Erreur lors de la rcupration des enseignants:",A),g("Erreur de connexion au serveur")}finally{x(!1)}},[l]);b.useEffect(()=>{L()},[n,L]);const w=A=>{const $=A.id!=="0"&&!!(A.matricule&&A.hireDate&&A.diplomas&&A.address&&A.emergencyContact);return console.log(` Teacher ${A.id} complete check:`,{id:A.id,matricule:A.matricule,hireDate:A.hireDate,diplomas:A.diplomas,address:A.address,emergencyContact:A.emergencyContact,isComplete:$}),$},z=A=>w(A)?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",N=A=>w(A)?e.jsx(Va,{className:"w-4 h-4"}):e.jsx(pn,{className:"w-4 h-4"}),E=A=>A.id==="0"?"Profil manquant":w(A)?"Complet":"Incomplet",S=A=>{T(A),y(!0)},O=()=>{y(!1),T(null)};return m?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-blue-100 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-blue-600",children:"Chargement des enseignants..."})]})}):f?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-red-100 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(pn,{className:"w-8 h-8 text-red-600"})}),e.jsx("p",{className:"text-red-600 mb-4",children:f}),e.jsx(ce,{onClick:L,variant:"outline",children:"Ressayer"})]})}):c.length===0?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-blue-100 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Va,{className:"w-8 h-8 text-blue-600"})}),e.jsx("p",{className:"text-blue-600",children:"Aucun enseignant trouv"}),e.jsx("p",{className:"text-blue-400 text-sm mt-2",children:"Les enseignants apparatront ici une fois leurs profils crs"})]})}):e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-blue-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-blue-100",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-900",children:["Donnes des Enseignants (",c.length,")"]}),e.jsx("p",{className:"text-blue-600 text-sm mt-1",children:"Gestion des profils enseignants et de leurs informations"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-blue-50 border-b border-blue-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Enseignant"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Matricule"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Date d'embauche"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Statut Profil"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:c.map(A=>e.jsxs("tr",{className:`hover:bg-blue-50 transition-colors ${A.id==="0"?"bg-red-50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-medium ${A.id==="0"?"bg-gradient-to-br from-red-500 to-red-600":"bg-gradient-to-br from-green-500 to-green-600"}`,children:[A.user.firstName?.charAt(0)||"?",A.user.lastName?.charAt(0)||"?"]}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-blue-900",children:[A.user.firstName||"?"," ",A.user.lastName||"?"]}),e.jsxs("div",{className:"text-sm text-blue-600",children:["@",A.user.username]}),e.jsx("div",{className:"text-xs text-gray-500",children:A.user.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-blue-900",children:A.matricule||""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-blue-900",children:A.hireDate?new Date(A.hireDate).toLocaleDateString("fr-FR"):""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-xs text-blue-600",children:A.diplomas||""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full border ${z(A)}`,children:[N(A),E(A)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>S(A),className:"p-2 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors",title:"Voir tous les dtails",children:e.jsx(xn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{if(o&&!o(A.user.role,"teacher")){alert(`Erreur: Un utilisateur avec le rle "${A.user.role}" ne peut pas avoir un profil enseignant.`);return}a(A)},className:`p-2 rounded-lg transition-colors ${A.id==="0"?"text-white bg-red-600 hover:bg-red-700":w(A)?"text-green-600 hover:text-green-700 hover:bg-green-50":"text-orange-600 hover:text-orange-700 hover:bg-orange-50"}`,title:A.id==="0"?"Crer le profil":w(A)?"Modifier le profil":"Complter le profil",children:e.jsx(la,{className:"w-4 h-4"})})]})})]},A.id))})]})}),e.jsx(eC,{isOpen:p,onClose:O,teacher:j})]})},sC=({isOpen:a,onClose:n,staff:l})=>{if(!a||!l)return null;const o=m=>{if(!m)return"Non renseign";try{return new Date(m).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}catch{return"Date invalide"}},c=m=>m?{single:"Clibataire",married:"Mari(e)",divorced:"Divorc(e)",widowed:"Veuf/Veuve"}[m]||m:"Non renseign",u=l.id!=="0"&&!!(l.matricule&&l.hireDate&&l.position&&l.address&&l.emergencyContact);return e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-purple-900/20 via-indigo-900/20 to-blue-900/20 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(ge.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:50},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white/95 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"relative bg-gradient-to-r from-purple-600 via-indigo-600 to-blue-600 p-6 text-white overflow-hidden flex-shrink-0",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent transform -skew-x-12"})}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ge.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",damping:15},className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg border border-white/30 flex-shrink-0",children:[l.user.firstName.charAt(0),l.user.lastName.charAt(0)]}),e.jsxs("div",{children:[e.jsxs(ge.h2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"text-2xl font-bold text-white mb-1",children:[l.user.firstName," ",l.user.lastName]}),e.jsxs(ge.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"text-purple-100 text-base mb-2",children:["@",l.user.username]}),e.jsx(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex items-center gap-2",children:e.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 text-xs font-semibold rounded-full backdrop-blur-sm border ${u?"bg-green-500/20 text-green-100 border-green-400/30":"bg-orange-500/20 text-orange-100 border-orange-400/30"}`,children:u?e.jsxs(e.Fragment,{children:[e.jsx(Mt,{className:"w-3 h-3"}),"Profil complet"]}):e.jsxs(e.Fragment,{children:[e.jsx(ra,{className:"w-3 h-3"}),"Profil incomplet"]})})})]})]}),e.jsx(ge.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.6},children:e.jsx(ce,{onClick:n,variant:"outline",size:"sm",className:"p-2 bg-white/10 hover:bg-white/20 border-white/30 text-white backdrop-blur-sm flex-shrink-0",children:e.jsx(Us,{className:"w-4 h-4"})})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 bg-gradient-to-br from-gray-50 to-purple-50/30 scrollbar-thin scrollbar-thumb-purple-400 scrollbar-track-purple-100 hover:scrollbar-thumb-purple-500",children:[e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(Mt,{className:"w-5 h-5 text-white"})}),"Informations personnelles"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-4 border border-purple-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-purple-700 mb-2",children:"Nom complet"}),e.jsxs("p",{className:"text-gray-800 font-semibold text-lg",children:[l.user.firstName," ",l.user.lastName]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-xl p-4 border border-indigo-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-indigo-700 mb-2",children:"Nom d'utilisateur"}),e.jsxs("p",{className:"text-gray-800 font-medium",children:["@",l.user.username]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-4 border border-blue-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-blue-700 mb-2",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($l,{className:"w-5 h-5 text-blue-600"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.user.email})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-teal-50 rounded-xl p-4 border border-cyan-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-cyan-700 mb-2",children:"Rle"}),e.jsx("span",{className:"inline-flex px-3 py-1 text-sm font-semibold rounded-full bg-gradient-to-r from-purple-500 to-indigo-600 text-white shadow-sm",children:"Personnel"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-purple-50 rounded-xl p-4 border border-violet-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-violet-700 mb-2",children:"Matricule"}),e.jsx("p",{className:"text-gray-800 font-mono text-lg font-semibold",children:l.matricule||"Non renseign"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl p-4 border border-purple-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-purple-700 mb-2",children:"Date d'embauche"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ct,{className:"w-5 h-5 text-purple-600"}),e.jsx("p",{className:"text-gray-800 font-medium",children:o(l.hireDate)})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 rounded-xl p-4 border border-indigo-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-indigo-700 mb-2",children:"Statut matrimonial"}),e.jsx("p",{className:"text-gray-800 font-medium",children:c(l.maritalStatus)})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-4 border border-blue-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-blue-700 mb-2",children:"Photo"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.photo?" Photo disponible":" Aucune photo"})]})]})]})]}),e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-xl flex items-center justify-center",children:e.jsx(K5,{className:"w-5 h-5 text-white"})}),"Informations professionnelles"]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-xl p-6 border border-indigo-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-indigo-700 mb-3",children:" Poste occup"}),e.jsx("p",{className:"text-gray-800 font-medium text-lg",children:l.position||"Poste non renseign"})]})})]}),e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center",children:e.jsx(Ba,{className:"w-5 h-5 text-white"})}),"Informations de contact"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl p-4 border border-blue-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-blue-700 mb-2",children:" Adresse"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ba,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.address||"Non renseign"})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-xl p-4 border border-red-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-red-700 mb-2",children:" Contact d'urgence"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ul,{className:"w-5 h-5 text-red-600"}),e.jsx("p",{className:"text-gray-800 font-medium",children:l.emergencyContact||"Non renseign"})]})]})})]})]}),e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-lg border border-white/50 hover:shadow-xl transition-all duration-300",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl flex items-center justify-center",children:e.jsx(rs,{className:"w-5 h-5 text-white"})}),"Notes et informations supplmentaires"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-50 rounded-xl p-6 border border-orange-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-orange-700 mb-3",children:" Notes"}),e.jsx("p",{className:"text-gray-800 whitespace-pre-wrap font-medium leading-relaxed",children:l.notes||"Aucune note disponible"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-xl p-4 border border-slate-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:" Date de cration"}),e.jsx("p",{className:"text-gray-800 font-medium",children:o(l.createdAt)})]}),e.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-xl p-4 border border-slate-100",children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:" Dernire modification"}),e.jsx("p",{className:"text-gray-800 font-medium",children:o(l.updatedAt)})]})]})]})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-gradient-to-r from-gray-50 to-purple-50/50 backdrop-blur-sm border-t-2 border-gray-800/50 p-4 flex-shrink-0",children:e.jsx("div",{className:"flex justify-end gap-4",children:e.jsx(ge.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(ce,{onClick:n,className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:"Fermer"})})})})]})})},aC=({onEditProfile:a,refreshTrigger:n,users:l=[],isProfileTypeCompatible:o})=>{const[c,u]=b.useState([]),[m,x]=b.useState(!0),[f,g]=b.useState(null),[p,y]=b.useState(!1),[j,T]=b.useState(null),L=b.useCallback(async()=>{try{x(!0),g(null);const A=await ve.getAllStaff(),$=A.success&&A.data?A.data:[],H=l.filter(P=>P.role==="staff"||P.role==="teacher"||$.some(D=>D.userId===P.id)).map(P=>{const D=$.find(k=>k.userId===P.id);return D||{id:"0",userId:P.id,matricule:"",hireDate:"",position:"",photo:void 0,maritalStatus:"",address:"",emergencyContact:"",notes:"",user:{id:P.id,username:P.username,email:P.email,firstName:P.firstName,lastName:P.lastName,role:P.role}}});u(H)}catch(A){console.error("Erreur lors de la rcupration du personnel:",A),g("Erreur de connexion au serveur")}finally{x(!1)}},[l]);b.useEffect(()=>{L()},[n,L]);const w=A=>A.id!=="0"&&!!(A.matricule&&A.hireDate&&A.position&&A.address&&A.emergencyContact),z=A=>w(A)?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",N=A=>w(A)?e.jsx(Va,{className:"w-4 h-4"}):e.jsx(pn,{className:"w-4 h-4"}),E=A=>A.id==="0"?"Profil manquant":w(A)?"Complet":"Incomplet",S=A=>{T(A),y(!0)},O=()=>{y(!1),T(null)};return m?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-blue-100 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-blue-600",children:"Chargement du personnel..."})]})}):f?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-red-100 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(pn,{className:"w-8 h-8 text-red-600"})}),e.jsx("p",{className:"text-red-600 mb-4",children:f}),e.jsx(ce,{onClick:L,variant:"outline",children:"Ressayer"})]})}):c.length===0?e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-blue-100 p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Va,{className:"w-8 h-8 text-blue-600"})}),e.jsx("p",{className:"text-blue-600",children:"Aucun membre du personnel trouv"}),e.jsx("p",{className:"text-blue-400 text-sm mt-2",children:"Le personnel apparatra ici une fois leurs profils crs"})]})}):e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-blue-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-blue-100",children:[e.jsxs("h3",{className:"text-lg font-semibold text-blue-900",children:["Donnes du Personnel Administratif (",c.length,")"]}),e.jsx("p",{className:"text-blue-600 text-sm mt-1",children:"Gestion des profils du personnel et de leurs informations"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-blue-50 border-b border-blue-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Personnel"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Matricule"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Date d'embauche"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Poste"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Statut Profil"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:c.map(A=>e.jsxs("tr",{className:`hover:bg-blue-50 transition-colors ${A.id==="0"?"bg-red-50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-medium ${A.id==="0"?"bg-gradient-to-br from-red-500 to-red-600":"bg-gradient-to-br from-purple-500 to-purple-600"}`,children:[A.user.firstName?.charAt(0)||"?",A.user.lastName?.charAt(0)||"?"]}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-blue-900",children:[A.user.firstName||"?"," ",A.user.lastName||"?"]}),e.jsxs("div",{className:"text-sm text-blue-600",children:["@",A.user.username]}),e.jsx("div",{className:"text-xs text-gray-500",children:A.user.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-blue-900",children:A.matricule||""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-blue-900",children:A.hireDate?new Date(A.hireDate).toLocaleDateString("fr-FR"):""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-blue-900",children:A.position||""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 text-xs font-semibold rounded-full border ${z(A)}`,children:[N(A),E(A)]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>S(A),className:"p-2 text-purple-600 hover:text-purple-700 hover:bg-purple-50 rounded-lg transition-colors",title:"Voir tous les dtails",children:e.jsx(xn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{if(o&&!o(A.user.role,"staff")){alert(`Erreur: Un utilisateur avec le rle "${A.user.role}" ne peut pas avoir un profil de personnel.`);return}a(A)},className:`p-2 rounded-lg transition-colors ${A.id==="0"?"text-white bg-red-600 hover:bg-red-700":w(A)?"text-purple-600 hover:text-purple-700 hover:bg-purple-50":"text-orange-600 hover:text-orange-700 hover:bg-orange-50"}`,title:A.id==="0"?"Crer le profil":w(A)?"Modifier le profil":"Complter le profil",children:e.jsx(la,{className:"w-4 h-4"})})]})})]},A.id))})]})}),e.jsx(sC,{isOpen:p,onClose:O,staff:j})]})},sb=a=>{let n;const l=new Set,o=(g,p)=>{const y=typeof g=="function"?g(n):g;if(!Object.is(y,n)){const j=n;n=p??(typeof y!="object"||y===null)?y:Object.assign({},n,y),l.forEach(T=>T(n,j))}},c=()=>n,x={setState:o,getState:c,getInitialState:()=>f,subscribe:g=>(l.add(g),()=>l.delete(g))},f=n=a(o,c,x);return x},nC=(a=>a?sb(a):sb),rC=a=>a;function lC(a,n=rC){const l=ir.useSyncExternalStore(a.subscribe,ir.useCallback(()=>n(a.getState()),[a,n]),ir.useCallback(()=>n(a.getInitialState()),[a,n]));return ir.useDebugValue(l),l}const iC=a=>{const n=nC(a),l=o=>lC(n,o);return Object.assign(l,n),l},oC=(a=>iC);function cC(a,n){let l;try{l=a()}catch{return}return{getItem:c=>{var u;const m=f=>f===null?null:JSON.parse(f,void 0),x=(u=l.getItem(c))!=null?u:null;return x instanceof Promise?x.then(m):m(x)},setItem:(c,u)=>l.setItem(c,JSON.stringify(u,void 0)),removeItem:c=>l.removeItem(c)}}const hm=a=>n=>{try{const l=a(n);return l instanceof Promise?l:{then(o){return hm(o)(l)},catch(o){return this}}}catch(l){return{then(o){return this},catch(o){return hm(o)(l)}}}},dC=(a,n)=>(l,o,c)=>{let u={storage:cC(()=>localStorage),partialize:w=>w,version:0,merge:(w,z)=>({...z,...w}),...n},m=!1;const x=new Set,f=new Set;let g=u.storage;if(!g)return a((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),l(...w)},o,c);const p=()=>{const w=u.partialize({...o()});return g.setItem(u.name,{state:w,version:u.version})},y=c.setState;c.setState=(w,z)=>(y(w,z),p());const j=a((...w)=>(l(...w),p()),o,c);c.getInitialState=()=>j;let T;const L=()=>{var w,z;if(!g)return;m=!1,x.forEach(E=>{var S;return E((S=o())!=null?S:j)});const N=((z=u.onRehydrateStorage)==null?void 0:z.call(u,(w=o())!=null?w:j))||void 0;return hm(g.getItem.bind(g))(u.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==u.version){if(u.migrate){const S=u.migrate(E.state,E.version);return S instanceof Promise?S.then(O=>[!0,O]):[!0,S]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var S;const[O,A]=E;if(T=u.merge(A,(S=o())!=null?S:j),l(T,!0),O)return p()}).then(()=>{N?.(T,void 0),T=o(),m=!0,f.forEach(E=>E(T))}).catch(E=>{N?.(void 0,E)})};return c.persist={setOptions:w=>{u={...u,...w},w.storage&&(g=w.storage)},clearStorage:()=>{g?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>L(),hasHydrated:()=>m,onHydrate:w=>(x.add(w),()=>{x.delete(w)}),onFinishHydration:w=>(f.add(w),()=>{f.delete(w)})},u.skipHydration||L(),T||j},uC=dC,uv=oC()(uC((a,n)=>({users:[],filteredUsers:[],isLoading:!1,searchTerm:"",selectedRole:"all",setUsers:l=>a({users:l}),setFilteredUsers:l=>a({filteredUsers:l}),setLoading:l=>a({isLoading:l}),setSearchTerm:l=>a({searchTerm:l}),setSelectedRole:l=>a({selectedRole:l}),getUserCounts:()=>{const{users:l}=n();return{all:l.length,students:l.filter(o=>o.role==="student").length,teachers:l.filter(o=>o.role==="teacher").length,staff:l.filter(o=>o.role==="staff").length,parents:l.filter(o=>o.role==="parent").length,admins:l.filter(o=>o.role==="admin").length}},filterUsers:()=>{const{users:l,searchTerm:o}=n();let c=l;o&&(c=c.filter(u=>u.firstName.toLowerCase().includes(o.toLowerCase())||u.lastName.toLowerCase().includes(o.toLowerCase())||u.email.toLowerCase().includes(o.toLowerCase())||u.username.toLowerCase().includes(o.toLowerCase()))),a({filteredUsers:c})},addUser:l=>{const{users:o}=n();a({users:[...o,l]}),n().filterUsers()},updateUser:l=>{const{users:o}=n();a({users:o.map(c=>c.id===l.id?l:c)}),n().filterUsers()},deleteUser:l=>{const{users:o}=n();a({users:o.filter(c=>c.id!==l)}),n().filterUsers()}}),{name:"itak-user-store",partialize:a=>({users:a.users,selectedRole:a.selectedRole})})),mC=()=>{const{users:a,searchTerm:n,selectedRole:l,filterUsers:o}=uv();b.useEffect(()=>{o()},[a,n,l,o]),b.useEffect(()=>{o()},[l,o])},hC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState(!1),[u,m]=b.useState(null),[x,f]=b.useState(!1),[g,p]=b.useState(!1),[y,j]=b.useState("student"),[T,L]=b.useState(null),[w,z]=b.useState(null),[N,E]=b.useState(0),[S,O]=b.useState({all:0,students:0,teachers:0,staff:0,parents:0,admins:0}),{filteredUsers:A,isLoading:$,searchTerm:B,selectedRole:H,setUsers:P,setLoading:D,setSearchTerm:k,setSelectedRole:K}=uv();mC();const[ie,se]=b.useState({type:"info",title:"",message:"",isVisible:!1}),pe=b.useCallback((F,M,de)=>{se({type:F,title:M,message:de,isVisible:!0})},[]),X=(F,M)=>{switch(M){case"student":return F==="student";case"teacher":return F==="teacher";case"staff":return F==="teacher"||F==="staff";default:return!1}},ee=b.useCallback(async()=>{try{const[F,M,de]=await Promise.all([ve.getAllStudents(),ve.getAllTeachers(),ve.getAllStaff()]),we=F.success?F.data||[]:[],Te=M.success?M.data||[]:[],Pe=de.success?de.data||[]:[],he={all:A.length,students:A.filter(Ee=>Ee.role==="student"||we.some($e=>$e.userId===Ee.id)).length,teachers:A.filter(Ee=>Ee.role==="teacher"||Te.some($e=>$e.user.id===Ee.id)).length,staff:A.filter(Ee=>Ee.role==="staff"||Ee.role==="teacher"||Pe.some($e=>$e.userId===Ee.id)).length,parents:A.filter(Ee=>Ee.role==="parent").length,admins:A.filter(Ee=>Ee.role==="admin").length};O(he)}catch(F){console.error("Erreur lors du calcul des compteurs:",F)}},[A]),be=()=>{se(F=>({...F,isVisible:!1}))},[xe,R]=b.useState({username:"",email:"",password:"",role:"student",firstName:"",lastName:"",gender:"male",birthDate:"",phone:""}),[Z,me]=b.useState({}),[_,Q]=b.useState(!1),Y=b.useCallback(async()=>{try{D(!0);const F=await ve.getAllUsers();F.success&&F.data?P(F.data):pe("error","Erreur","Impossible de rcuprer les utilisateurs")}catch(F){console.error("Erreur lors de la rcupration des utilisateurs:",F),pe("error","Erreur","Erreur de connexion au serveur")}finally{D(!1)}},[P,D,pe]);b.useEffect(()=>{const F=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user"),M=localStorage.getItem("itak_access_token")||sessionStorage.getItem("itak_access_token");if(!F||!M){a("/login");return}try{l(JSON.parse(F)),Y()}catch(de){console.error("Erreur lors du parsing des donnes utilisateur:",de),a("/login")}},[a,Y]),b.useEffect(()=>{A.length>0&&ee()},[A.length,ee]),b.useEffect(()=>{A.length>0&&ee()},[N,A.length,ee]);const U=F=>{const{name:M,value:de}=F.target;R(we=>({...we,[M]:de})),Z[M]&&me(we=>({...we,[M]:""}))},ue=()=>{const F={};return xe.username.trim()||(F.username="Le nom d'utilisateur est requis"),xe.email.trim()||(F.email="L'email est requis"),xe.password.trim()||(F.password="Le mot de passe est requis"),xe.firstName.trim()||(F.firstName="Le prnom est requis"),xe.lastName.trim()||(F.lastName="Le nom de famille est requis"),xe.phone.trim()||(F.phone="Le tlphone est requis"),xe.password.length<6&&(F.password="Le mot de passe doit contenir au moins 6 caractres"),me(F),Object.keys(F).length===0},I=F=>{j(F),L(null),z(null),p(!0)},Se=async(F,M)=>{try{const de=w?.id&&w.id!=="0";if(y==="student"&&F.role!=="student"){pe("error","Erreur de rle","Seuls les utilisateurs avec le rle 'tudiant' peuvent avoir un profil tudiant");return}if(y==="teacher"&&F.role!=="teacher"){pe("error","Erreur de rle","Seuls les utilisateurs avec le rle 'enseignant' peuvent avoir un profil enseignant");return}if(y==="staff"&&!["teacher","staff"].includes(F.role)){pe("error","Erreur de rle","Seuls les utilisateurs avec le rle 'enseignant' ou 'personnel' peuvent avoir un profil personnel");return}if(y==="student"&&"enrollmentDate"in M){const we={matricule:String(M.matricule||""),enrollmentDate:String(M.enrollmentDate||""),photo:M.photo,maritalStatus:String(M.maritalStatus||""),fatherName:String(M.fatherName||""),motherName:String(M.motherName||""),tutorName:String(M.tutorName||""),tutorPhone:String(M.tutorPhone||""),address:String(M.address||""),emergencyContact:String(M.emergencyContact||""),notes:String(M.notes||"")};let Te;if(de&&w.id)Te=await ve.updateStudentProfile(w.id,we);else{const Pe={...we,userId:F.id};Te=await ve.createStudentProfile(Pe)}Te.success?(pe("success","Succs",`Profil tudiant ${de?"mis  jour":"assign"} avec succs  ${F.firstName} ${F.lastName}`),await Y(),E(Pe=>Pe+1),p(!1),L(null),z(null)):pe("error","Erreur",Te.error||`Erreur lors de la ${de?"mise  jour":"cration"} du profil tudiant`)}else if(y==="teacher"&&"hireDate"in M){const we={matricule:String(M.matricule||""),hireDate:String(M.hireDate||""),photo:M.photo,maritalStatus:String(M.maritalStatus||""),diplomas:String("diplomas"in M&&M.diplomas||""),address:String(M.address||""),emergencyContact:String(M.emergencyContact||""),notes:String(M.notes||"")};let Te;if(de&&w.id)Te=await ve.updateTeacherProfile(w.id,we);else{const Pe={...we,userId:F.id};Te=await ve.createTeacherProfile(Pe)}Te.success?(pe("success","Succs",`Profil enseignant ${de?"mis  jour":"assign"} avec succs  ${F.firstName} ${F.lastName}`),await Y(),E(Pe=>Pe+1),p(!1),L(null),z(null)):pe("error","Erreur",Te.error||`Erreur lors de la ${de?"mise  jour":"cration"} du profil enseignant`)}else if(y==="staff"&&"hireDate"in M){const we={matricule:String(M.matricule||""),hireDate:String(M.hireDate||""),position:String("position"in M&&M.position||""),photo:M.photo,maritalStatus:String(M.maritalStatus||""),address:String(M.address||""),emergencyContact:String(M.emergencyContact||""),notes:String(M.notes||"")};let Te;if(de&&w.id)Te=await ve.updateStaffProfile(w.id,we);else{const Pe={...we,userId:F.id};Te=await ve.createStaffProfile(Pe)}Te.success?(pe("success","Succs",`Profil personnel ${de?"mis  jour":"assign"} avec succs  ${F.firstName} ${F.lastName}`),await Y(),E(Pe=>Pe+1),p(!1),L(null),z(null)):pe("error","Erreur",Te.error||`Erreur lors de la ${de?"mise  jour":"cration"} du profil personnel`)}}catch(de){console.error("Erreur lors de l'assignation du profil:",de),pe("error","Erreur","Erreur lors de l'assignation du profil")}},Le=F=>{const de=A.find(we=>we.id===F.user.id)||{...F.user,isActive:!0,gender:void 0,birthDate:void 0,phone:void 0,createdAt:void 0,updatedAt:void 0};if(j("student"),L(de),F.id!=="0"){const we={id:F.id,userId:F.userId,matricule:F.matricule,enrollmentDate:F.enrollmentDate,photo:F.photo,maritalStatus:F.maritalStatus,fatherName:F.fatherName,motherName:F.motherName,tutorName:F.tutorName,tutorPhone:F.tutorPhone,address:F.address,emergencyContact:F.emergencyContact,notes:F.notes};z(we)}else z(null);p(!0)},Ce=F=>{const de=A.find(we=>we.id===F.user.id)||{...F.user,isActive:!0,gender:void 0,birthDate:void 0,phone:void 0,createdAt:void 0,updatedAt:void 0};if(j("teacher"),L(de),F.id!=="0"){const we={id:F.id,userId:F.userId,matricule:F.matricule,hireDate:F.hireDate,photo:F.photo,maritalStatus:F.maritalStatus,diplomas:F.diplomas,address:F.address,emergencyContact:F.emergencyContact,notes:F.notes};z(we)}else z(null);p(!0)},De=F=>{const de=A.find(we=>we.id===F.user.id)||{...F.user,isActive:!0,gender:void 0,birthDate:void 0,phone:void 0,createdAt:void 0,updatedAt:void 0};if(j("staff"),L(de),F.id!=="0"){const we={id:F.id,userId:F.userId,matricule:F.matricule,hireDate:F.hireDate,position:F.position,photo:F.photo,maritalStatus:F.maritalStatus,address:F.address,emergencyContact:F.emergencyContact,notes:F.notes};z(we)}else z(null);p(!0)},V=async F=>{if(window.confirm("tes-vous sr de vouloir supprimer cet utilisateur ? Cette action est irrversible."))try{const M=await ve.deleteUser(F);M.success?(pe("success","Succs","Utilisateur supprim avec succs !"),await Y(),E(de=>de+1),setTimeout(()=>{ee()},500)):pe("error","Erreur",M.error||"Erreur lors de la suppression de l'utilisateur")}catch(M){console.error("Erreur lors de la suppression:",M),pe("error","Erreur","Erreur de connexion au serveur")}},oe=async F=>{if(F.preventDefault(),!!ue()){Q(!0);try{const M=xe.birthDate,de={username:xe.username,email:xe.email,password:xe.password,role:xe.role,firstName:xe.firstName,lastName:xe.lastName,gender:xe.gender,birthDate:M,phone:xe.phone},we=await ve.createUser(de);we.success?(pe("success","Succs","Utilisateur cr avec succs !"),c(!1),Ae(),await Y(),E(Te=>Te+1),setTimeout(()=>{ee()},500)):pe("error","Erreur",we.error||"Erreur lors de la cration")}catch(M){console.error("Erreur lors de la cration:",M),pe("error","Erreur","Erreur de connexion au serveur")}finally{Q(!1)}}},Ae=()=>{R({username:"",email:"",password:"",role:"student",firstName:"",lastName:"",gender:"male",birthDate:"",phone:""}),me({})},Oe=F=>({student:"lve",teacher:"Enseignant/Enseignante",staff:"Personnel administratif",parent:"Parent",admin:"Administrateur/Administratrice"})[F]||F,te=F=>({student:"bg-blue-100 text-blue-800",teacher:"bg-green-100 text-green-800",staff:"bg-purple-100 text-purple-800",parent:"bg-orange-100 text-orange-800",admin:"bg-red-100 text-red-800"})[F]||"bg-gray-100 text-gray-800",J={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},Ne={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return n?e.jsxs(it,{user:{firstName:n?.firstName||"Utilisateur",lastName:n?.lastName||"Anonyme",role:n?.role||"user",email:n?.email||""},children:[e.jsxs(ge.div,{variants:J,initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsxs(ge.div,{variants:Ne,className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-blue-900",children:"Gestion des Utilisateurs"}),e.jsx("p",{className:"text-blue-600 mt-2",children:"Grez tous les utilisateurs de votre tablissement"})]}),e.jsxs(ce,{onClick:()=>c(!0),className:"flex items-center gap-2",children:[e.jsx(ws,{className:"w-4 h-4"}),"Nouvel Utilisateur"]})]}),e.jsx(ge.div,{variants:Ne,children:e.jsx(C3,{activeTab:H,onTabChange:K,userCounts:S,onAssignProfile:I})}),e.jsxs(ge.div,{variants:Ne,className:"bg-white p-6 rounded-xl shadow-sm border border-blue-100",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-400 w-4 h-4"}),e.jsx(ke,{type:"text",placeholder:"Rechercher un utilisateur...",value:B,onChange:F=>k(F.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsxs("select",{value:H,onChange:F=>K(F.target.value),className:"w-full px-4 py-3 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-blue-900 bg-white",children:[e.jsx("option",{value:"all",children:"Tous les rles"}),e.jsx("option",{value:"student",children:"lves"}),e.jsx("option",{value:"teacher",children:"Enseignants"}),e.jsx("option",{value:"staff",children:"Personnel administratif"}),e.jsx("option",{value:"parent",children:"Parents"}),e.jsx("option",{value:"admin",children:"Administrateurs"})]})})]}),e.jsxs("div",{className:"mt-4 text-sm text-blue-600",children:[A.length," utilisateur(s) trouv(s)"]})]}),H==="student"?e.jsx(W3,{onEditProfile:Le,refreshTrigger:N,users:A,isProfileTypeCompatible:X}):H==="teacher"?e.jsx(tC,{onEditProfile:Ce,refreshTrigger:N,users:A,isProfileTypeCompatible:X}):H==="staff"?e.jsx(aC,{onEditProfile:De,refreshTrigger:N,users:A,isProfileTypeCompatible:X}):e.jsx(ge.div,{variants:Ne,className:"bg-white rounded-xl shadow-sm border border-blue-100 overflow-hidden",children:$?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-blue-600",children:"Chargement des utilisateurs..."})]}):A.length===0?e.jsx("div",{className:"p-8 text-center",children:e.jsx("p",{className:"text-blue-600",children:"Aucun utilisateur trouv"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-blue-50 border-b border-blue-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Utilisateur"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Rle"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Statut"}),e.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:A.map(F=>e.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-medium",children:[F.firstName?.charAt(0)||"U",F.lastName?.charAt(0)||"U"]}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium text-blue-900",children:[F.firstName," ",F.lastName]}),e.jsxs("div",{className:"text-sm text-blue-600",children:["@",F.username]})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${te(F.role)}`,children:Oe(F.role)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-blue-900",children:F.email}),e.jsx("div",{className:"text-sm text-blue-600",children:F.phone})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Actif"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{onClick:()=>{m(F),f(!0)},className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(xn,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-lg transition-colors",children:e.jsx(la,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>V(F.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",title:"Supprimer l'utilisateur",children:e.jsx(Ua,{className:"w-4 h-4"})})]})})]},F.id))})]})})})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-blue-100",children:[e.jsx("h2",{className:"text-2xl font-bold text-blue-900",children:"Crer un nouvel utilisateur"}),e.jsx("p",{className:"text-blue-600 mt-2",children:"Remplissez les informations ci-dessous"})]}),e.jsxs("form",{onSubmit:oe,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ke,{label:"Nom d'utilisateur",name:"username",value:xe.username,onChange:U,error:Z.username,required:!0}),e.jsx(ke,{label:"Email",name:"email",type:"email",value:xe.email,onChange:U,error:Z.email,required:!0}),e.jsx(ke,{label:"Mot de passe",name:"password",type:"password",value:xe.password,onChange:U,error:Z.password,required:!0}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-slate-700 font-medium",children:"Rle"})}),e.jsxs("select",{name:"role",value:xe.role,onChange:U,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-800 bg-white",children:[e.jsx("option",{value:"student",children:"lve"}),e.jsx("option",{value:"teacher",children:"Enseignant/Enseignante"}),e.jsx("option",{value:"staff",children:"Personnel administratif"}),e.jsx("option",{value:"admin",children:"Administrateur/Administratrice"})]})]}),e.jsx(ke,{label:"Prnom",name:"firstName",value:xe.firstName,onChange:U,error:Z.firstName,required:!0}),e.jsx(ke,{label:"Nom de famille",name:"lastName",value:xe.lastName,onChange:U,error:Z.lastName,required:!0}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text text-slate-700 font-medium",children:"Genre"})}),e.jsxs("select",{name:"gender",value:xe.gender,onChange:U,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-800 bg-white",children:[e.jsx("option",{value:"male",children:"Masculin"}),e.jsx("option",{value:"female",children:"Fminin"}),e.jsx("option",{value:"other",children:"Autre"})]})]}),e.jsx(ke,{label:"Date de naissance",name:"birthDate",type:"date",value:xe.birthDate,onChange:U}),e.jsx(ke,{label:"Tlphone",name:"phone",value:xe.phone,onChange:U,error:Z.phone,required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t border-blue-100",children:[e.jsx(ce,{type:"button",variant:"outline",onClick:()=>{c(!1),Ae()},children:"Annuler"}),e.jsx(ce,{type:"submit",disabled:_,className:"flex items-center gap-2",children:_?"Cration...":"Crer l'utilisateur"})]})]})]})}),x&&u&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-xl shadow-xl max-w-lg w-full",children:[e.jsx("div",{className:"p-6 border-b border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-medium text-xl",children:[u.firstName?.charAt(0)||"U",u.lastName?.charAt(0)||"U"]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-blue-900",children:[u.firstName," ",u.lastName]}),e.jsxs("p",{className:"text-blue-600",children:["@",u.username]})]})]})}),e.jsx("div",{className:"p-6 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-600",children:"Rle:"}),e.jsx("span",{className:"ml-2 text-blue-900",children:Oe(u.role)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-600",children:"Genre:"}),e.jsx("span",{className:"ml-2 text-blue-900",children:u.gender==="male"?"Masculin":u.gender==="female"?"Fminin":"Autre"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-600",children:"Email:"}),e.jsx("span",{className:"ml-2 text-blue-900",children:u.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-600",children:"Tlphone:"}),e.jsx("span",{className:"ml-2 text-blue-900",children:u.phone})]}),u.birthDate&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"font-medium text-blue-600",children:"Date de naissance:"}),e.jsx("span",{className:"ml-2 text-blue-900",children:new Date(u.birthDate).toLocaleDateString("fr-FR")})]})]})}),e.jsx("div",{className:"p-6 border-t border-blue-100 flex justify-end",children:e.jsx(ce,{onClick:()=>f(!1),variant:"outline",children:"Fermer"})})]})}),g&&e.jsx(A3,{isOpen:g,onClose:()=>{p(!1),L(null),z(null)},profileType:y,onAssignProfile:Se,existingUsers:A,preselectedUser:T,existingProfileData:w})," ",e.jsx(Ss,{type:ie.type,title:ie.title,message:ie.message,isVisible:ie.isVisible,onClose:be,duration:5e3})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-blue-600",children:"Chargement..."})]})})},fC=({isOpen:a,onClose:n,classItem:l})=>{const[o,c]=b.useState("students"),[u,m]=b.useState([]),[x,f]=b.useState([]),[g,p]=b.useState([]),[y,j]=b.useState([]),[T,L]=b.useState(!1),w=b.useCallback(async()=>{if(l){L(!0);try{const[N,E,S,O,A]=await Promise.all([ve.getAllStudents(),ve.getAllTeachers(),ve.getAllClassSubjects(),ve.getAllStudentClasses(),ve.getAllTeachingAssignments()]);console.log("Donnes reues:",{students:N,teachers:E,classSubjects:S,studentClasses:O,teachingAssignments:A,classItem:l});const $=O.success&&O.data?O.data.filter(k=>(console.log("Filtrage StudentClass:",{sc:k,classItemId:l.id}),k?.class?.id===l.id)).map(k=>(console.log("Mapping StudentClass:",k),k.student)).filter(k=>(console.log("Filtrage student:",k),k)):[],B=S.success&&S.data?S.data.filter(k=>k?.class?.id===l.id):[],H=new Map;A.success&&A.data&&A.data.forEach(k=>{if(k?.teacher&&k?.classSubject&&B.some(K=>K?.id===k.classSubject.id)){const K=k.teacher.id;H.has(K)||H.set(K,{teacher:k.teacher,subjects:[]});const ie=H.get(K);ie&&!ie.subjects.some(se=>se.id===k.classSubject.id)&&ie.subjects.push(k.classSubject)}});const P=Array.from(H.values()),D=P.map(k=>k.teacher);m($),f(D),p(B),j(P)}catch(N){console.error("Erreur lors du chargement des dtails de la classe:",N)}finally{L(!1)}}},[l]);b.useEffect(()=>{a&&l&&w()},[a,l,w]);const z=N=>({1:"1re anne",2:"2me anne",3:"3me anne",4:"4me anne",5:"5me anne",6:"6me anne",7:"7me anne",8:"8me anne",9:"9me anne",10:"10me anne",11:"11me anne",12:"12me anne"})[N]||N;return!a||!l?null:e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center",children:e.jsx(Je,{className:"w-6 h-6 text-black"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:l.name}),e.jsxs("p",{className:"text-blue-100",children:[z(l.level),"  Capacit:"," ",l.capacity]})]})]}),e.jsx("button",{onClick:n,className:"text-white hover:text-gray-200 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex",children:[e.jsx("button",{onClick:()=>c("students"),className:`px-6 py-4 font-medium text-sm transition-colors ${o==="students"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-800"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-4 h-4"}),"lves (",u.length,")"]})}),e.jsx("button",{onClick:()=>c("teachers"),className:`px-6 py-4 font-medium text-sm transition-colors ${o==="teachers"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-800"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-4 h-4"}),"Professeurs (",x.length,")"]})}),e.jsx("button",{onClick:()=>c("subjects"),className:`px-6 py-4 font-medium text-sm transition-colors ${o==="subjects"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-800"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-4 h-4"}),"Matires (",g.length,")"]})})]})}),e.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:T?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Chargement des donnes..."})]}):e.jsxs(e.Fragment,{children:[o==="students"&&e.jsx("div",{className:"space-y-3",children:u.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun lve assign  cette classe"}):u.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[N.user?.firstName||"Prnom"," ",N.user?.lastName||"Nom"]}),e.jsx("p",{className:"text-sm text-gray-600",children:N.user?.email||"Email non disponible"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Matricule: ",N.matricule||"N/A"]})]}),e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:"Actif"})]},N.id))}),o==="teachers"&&e.jsx("div",{className:"space-y-4",children:y.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun professeur assign  cette classe"}):y.map(N=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(Je,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[N.teacher.user?.firstName||"Prnom"," ",N.teacher.user?.lastName||"Nom"]}),e.jsx("p",{className:"text-sm text-gray-600",children:N.teacher.user?.email||"Email non disponible"})]}),e.jsx("div",{className:"ml-auto",children:e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:[N.subjects.length," matire",N.subjects.length>1?"s":""]})})]})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"space-y-2",children:N.subjects.map(E=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-100",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(Ft,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:E.subject?.name||"Matire inconnue"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Coefficient: ",E.coefficient," "," ",E.weeklyHours||0,"h/semaine"]})]})]},E.id))})})]},N.teacher.id))}),o==="subjects"&&e.jsx("div",{className:"space-y-3",children:g.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune matire assigne  cette classe"}):g.map(N=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:N.subject?.name||"Matire inconnue"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Code: ",N.subject?.code||"N/A"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Coefficient: ",N.coefficient,"  Heures/semaine:"," ",N.weeklyHours]})]}),e.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium",children:N.isOptional?"Optionnelle":"Obligatoire"})]},N.id))})]})})]})})},xC=()=>{const[a,n]=b.useState("classes"),[l,o]=b.useState([]),[c,u]=b.useState([]),[m,x]=b.useState([]),[f,g]=b.useState(!1),[p,y]=b.useState(!1),[j,T]=b.useState(""),[L,w]=b.useState("success"),[z,N]=b.useState(null),[E,S]=b.useState({show:!1,class:null});b.useEffect(()=>{const he=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(he)try{N(JSON.parse(he))}catch(Ee){console.error("Erreur lors du parsing des donnes utilisateur:",Ee)}},[]);const[O,A]=b.useState(!1),[$,B]=b.useState(!1),[H,P]=b.useState(null),[D,k]=b.useState(null),[K,ie]=b.useState("category"),[se,pe]=b.useState({name:"",code:"",classCategoryId:"",description:"",level:"",capacity:0,orderLevel:1}),[X,ee]=b.useState({name:"",code:""}),[be,xe]=b.useState(""),[R,Z]=b.useState(""),me=b.useCallback(async()=>{g(!0);try{const[he,Ee,$e]=await Promise.all([ve.getAllClasses(),ve.getAllSubjects(),ve.getAllClassCategories()]);console.log("data",he.data),he.success&&he.data&&o(he.data),Ee.success&&Ee.data&&u(Ee.data),$e.success&&$e.data&&x($e.data)}catch(he){console.error("Erreur lors du chargement des donnes:",he),_("Erreur lors du chargement des donnes","error")}finally{g(!1)}},[]);b.useEffect(()=>{me()},[me]),b.useEffect(()=>{a==="classes"?l.length===0&&me():a==="subjects"&&c.length===0&&me()},[a,l.length,c.length,me]);const _=(he,Ee)=>{T(he),w(Ee),y(!0),setTimeout(()=>y(!1),3e3)},Q=he=>{S({show:!0,class:he})},Y=()=>{S({show:!1,class:null})},U=async he=>{if(he.preventDefault(),!se.classCategoryId){_("Veuillez slectionner une catgorie","error");return}try{const Ee=await ve.createClass(se);Ee.success&&Ee.data?(o([...l,Ee.data]),A(!1),Le(),_("Classe cre avec succs","success")):_(Ee.message||"Erreur lors de la cration","error")}catch(Ee){console.error("Erreur lors de la cration de la classe:",Ee),_("Erreur lors de la cration de la classe","error")}},ue=async he=>{if(he.preventDefault(),!H)return;const Ee={...se,classCategoryId:se.classCategoryId||H.classCategoryId};try{const $e=await ve.updateClass(H.id,Ee);$e.success&&$e.data?(o(l.map(At=>At.id===H.id?$e.data:At)),A(!1),P(null),Le(),_("Classe mise  jour avec succs","success")):_($e.message||"Erreur lors de la mise  jour","error")}catch($e){console.error("Erreur lors de la mise  jour de la classe:",$e),_("Erreur lors de la mise  jour de la classe","error")}},I=async he=>{if(window.confirm("tes-vous sr de vouloir supprimer cette classe ?"))try{const Ee=isNaN(Number(he))?he:Number(he),$e=await ve.deleteClass(Ee);$e.success?(o(l.filter(At=>At.id!==he)),_("Classe supprime avec succs","success")):_($e.message||$e.error||"Erreur lors de la suppression","error")}catch(Ee){console.error("Erreur lors de la suppression de la classe:",Ee),_("Erreur lors de la suppression de la classe","error")}},Se=he=>{P(he),pe({name:he.name,code:he.code||"",classCategoryId:he.classCategoryId,description:he.description||"",level:he.level,capacity:he.capacity,orderLevel:he.orderLevel||1}),A(!0),ie("details")},Le=()=>{pe({name:"",code:"",classCategoryId:"",description:"",level:"",capacity:0,orderLevel:1}),P(null),ie("category")},Ce=()=>{K==="category"&&se.classCategoryId!==null&&se.classCategoryId!==""?ie("details"):K==="details"&&se.name&&se.code&&se.level&&se.capacity>0&&ie("final")},De=()=>{K==="final"?ie("details"):K==="details"&&ie("category")},V=()=>{if(K==="category"){const he=se.classCategoryId!==null&&se.classCategoryId!=="";return console.log(" canProceed category check:",{classFormStep:K,classCategoryId:se.classCategoryId,canProceedCategory:he}),he}else if(K==="details")return!!se.name&&!!se.code&&!!se.level&&se.capacity>0;return!0},oe=()=>{H?ue(new Event("submit")):U(new Event("submit"))},Ae=async he=>{he.preventDefault();try{const Ee=await ve.createSubject(X);Ee.success&&Ee.data?(u([...c,Ee.data]),B(!1),Ne(),_("Matire cre avec succs","success")):_(Ee.message||"Erreur lors de la cration","error")}catch(Ee){console.error("Erreur lors de la cration de la matire:",Ee),_("Erreur lors de la cration de la matire","error")}},Oe=async he=>{if(he.preventDefault(),!!D)try{const Ee=await ve.updateSubject(D.id,X);Ee.success&&Ee.data?(u(c.map($e=>$e.id===D.id?Ee.data:$e)),B(!1),k(null),Ne(),_("Matire mise  jour avec succs","success")):_(Ee.message||"Erreur lors de la mise  jour","error")}catch(Ee){console.error("Erreur lors de la mise  jour de la matire:",Ee),_("Erreur lors de la mise  jour de la matire","error")}},te=async he=>{if(window.confirm("tes-vous sr de vouloir supprimer cette matire ?"))try{const Ee=await ve.deleteSubject(he);Ee.success?(u(c.filter($e=>$e.id!==he)),_("Matire supprime avec succs","success")):_(Ee.message||Ee.error||"Erreur lors de la suppression","error")}catch(Ee){console.error("Erreur lors de la suppression de la matire:",Ee),_("Erreur lors de la suppression de la matire","error")}},J=he=>{k(he),ee({name:he.name,code:he.code}),B(!0)},Ne=()=>{ee({name:"",code:""}),k(null)},F=l.filter(he=>he.name.toLowerCase().includes(be.toLowerCase())||he.level.toLowerCase().includes(be.toLowerCase())||Te(he).toLowerCase().includes(be.toLowerCase())),M=c.filter(he=>he.name.toLowerCase().includes(R.toLowerCase())||he.code.toLowerCase().includes(R.toLowerCase())),de=he=>({"1ere annee":"1re Anne","2eme annee":"2me Anne","3eme annee":"3me Anne","4eme annee":"4me Anne","5eme annee":"5me Anne","6eme annee":"6me Anne","7eme annee":"7me Anne","8eme annee":"8me Anne","9eme annee":"9me Anne","10eme annee":"10me Anne",seconde:"Seconde (11me)",premiere:"Premire (12me)",terminale:"Terminale (13me)",bts:"BTS",dut:"DUT",licence1:"Licence 1",licence2:"Licence 2",licence3:"Licence 3",master1:"Master 1",master2:"Master 2"})[he]||he,we=()=>m.find(he=>he.id===se.classCategoryId),Te=he=>he.category?.name||m.find(Ee=>Ee.id===he.classCategoryId)?.name||"Non dfinie",Pe=()=>"Nouvelle";return z?e.jsxs(it,{user:z,children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-900 via-purple-800 to-indigo-900 bg-clip-text text-transparent mb-3",children:"Gestion des Classes et Matires"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Grez les salles de classes et les matires de votre tablissement"})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-900 text-sm font-medium",children:"Total Classes"}),e.jsx("p",{className:"text-3xl text-blue-900 font-bold",children:l.length})]}),e.jsx(Je,{className:"w-8 h-8 text-blue-200"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-indigo-900 text-sm font-medium",children:"Total Matires"}),e.jsx("p",{className:"text-3xl text-indigo-900 font-bold",children:c.length})]}),e.jsx(Ft,{className:"w-8 h-8 text-indigo-200"})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-900 text-sm font-medium",children:"Catgories"}),e.jsx("p",{className:"text-3xl text-green-900 font-bold",children:m.length})]}),e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center"})]})})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-2",children:e.jsxs("nav",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>n("classes"),className:`flex-1 py-3 px-6 rounded-lg font-medium text-sm transition-all duration-200 ${a==="classes"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Je,{className:"w-5 h-5"}),"Classes"]})}),e.jsx("button",{onClick:()=>n("subjects"),className:`flex-1 py-3 px-6 rounded-lg font-medium text-sm transition-all duration-200 ${a==="subjects"?"bg-gradient-to-r from-indigo-500 to-blue-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ft,{className:"w-5 h-5"}),"Matires"]})})]})})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:e.jsx(ou,{mode:"wait",children:a==="classes"?e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(ke,{type:"text",placeholder:"Rechercher une classe...",value:be,onChange:he=>xe(he.target.value),className:"pl-10 border-2 border-gray-900"})]})}),e.jsxs(ce,{onClick:()=>{Le(),ie("category"),A(!0)},className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg",children:[e.jsx(ws,{className:"w-4 h-4"}),Pe()]})]}),f?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"})}):F.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:be?"Aucune classe trouve":"Aucune classe cre"}):e.jsx("div",{className:"grid gap-4",children:F.map(he=>e.jsx(ge.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},onClick:()=>Q(he),className:"w-full bg-white border border-gray-700 rounded-2xl p-6 hover:shadow-xl transition-all duration-300 hover:scale-[1.02] hover:border-blue-300 text-left cursor-pointer",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(Je,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:he.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full font-medium",children:de(he.level)}),e.jsxs("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full font-medium",children:["Capacit ",": "," ",he.capacity]})]})]})]}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),"Cre le"," ",new Date(he.createdAt).toLocaleDateString("fr-FR")]})})]}),e.jsxs("div",{className:"flex gap-2",onClick:Ee=>Ee.stopPropagation(),children:[e.jsx(ce,{variant:"outline",size:"sm",onClick:Ee=>{Ee?.stopPropagation(),Se(he)},children:e.jsx(la,{className:"w-4 h-4"})}),e.jsx(ce,{variant:"outline",size:"sm",onClick:Ee=>{Ee?.stopPropagation(),I(he.id)},className:"text-red-600 hover:text-red-700 hover:border-red-300",children:e.jsx(Ua,{className:"w-4 h-4"})})]})]})},`class-${he.id}-${a}`))})]}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(ke,{type:"text",placeholder:"Rechercher une matire...",value:R,onChange:he=>Z(he.target.value),className:"pl-10 border-2 border-gray-900"})]})}),e.jsxs(ce,{onClick:()=>{Ne(),B(!0)},className:"flex items-center gap-2 bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 shadow-lg",children:[e.jsx(ws,{className:"w-4 h-4"}),Pe()]})]}),f?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"})}):M.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:R?"Aucune matire trouve":"Aucune matire cre"}):e.jsx("div",{className:"grid gap-4",children:M.map(he=>e.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"border border-gray-800 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(Ft,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:he.name}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx("p",{className:"text-sm text-gray-600 font-mono bg-gray-100 px-2 py-1 rounded",children:he.code})})]})]}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Cre le"," ",new Date(he.createdAt).toLocaleDateString("fr-FR")]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ce,{variant:"outline",size:"sm",onClick:()=>J(he),children:e.jsx(la,{className:"w-4 h-4"})}),e.jsx(ce,{variant:"outline",size:"sm",onClick:Ee=>{Ee?.stopPropagation(),te(he.id)},className:"text-red-600 hover:text-red-700 hover:border-red-300",children:e.jsx(Ua,{className:"w-4 h-4"})})]})]})},`subject-${he.id}-${a}`))})]})})})]}),e.jsx(ou,{mode:"wait",children:O&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:H?"Modifier la classe":"Nouvelle classe"}),e.jsx("button",{onClick:()=>{A(!1),Le()},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsxs("div",{className:`flex items-center ${K==="category"?"text-blue-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${K==="category"?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"1"}),e.jsx("span",{className:"ml-2 font-medium",children:"Catgorie"})]}),e.jsx("div",{className:`w-16 h-0.5 ${K==="details"||K==="final"?"bg-blue-600":"bg-gray-200"}`}),e.jsxs("div",{className:`flex items-center ${K==="details"?"text-blue-600":K==="final"?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${K==="details"?"bg-blue-600 text-white":K==="final"?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:"2"}),e.jsx("span",{className:"ml-2 font-medium",children:"Dtails"})]}),e.jsx("div",{className:`w-16 h-0.5 ${K==="final"?"bg-green-600":"bg-gray-200"}`}),e.jsxs("div",{className:`flex items-center ${K==="final"?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${K==="final"?"bg-green-600 text-white":"bg-gray-200 text-gray-600"}`,children:"3"}),e.jsx("span",{className:"ml-2 font-medium",children:"Validation"})]})]})]}),e.jsxs("div",{className:"p-6",children:[K==="category"&&e.jsxs(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Choisissez le type d'tablissement"}),e.jsx("p",{className:"text-gray-600",children:"Cette information dterminera les niveaux disponibles et l'organisation"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-4",children:m.map(he=>e.jsx("button",{onClick:()=>{console.log(" Catgorie slectionne:",{categoryId:he.id,categoryName:he.name,currentForm:se}),pe({...se,classCategoryId:he.id})},className:`p-6 rounded-xl border-2 transition-all duration-200 ${se.classCategoryId===he.id?"border-slate-500 bg-slate-50 shadow-lg scale-105":"border-gray-200 hover:border-slate-300 hover:shadow-md"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Je,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:he.name}),e.jsx("p",{className:"text-sm text-gray-600",children:he.description||"Catgorie de classe"})]})},he.id))}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(ce,{onClick:Ce,disabled:!V(),className:"px-8 py-3",children:["Continuer",e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),K==="details"&&e.jsxs(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Configurez les dtails de la classe"}),e.jsxs("p",{className:"text-gray-600",children:[m.find(he=>he.id===se.categoryId)?.name||"Catgorie"," "," tape 2 sur 3"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 gap-6",children:[e.jsx(ke,{label:"Nom de la classe",name:"name",value:se.name,onChange:he=>pe({...se,name:he.target.value}),placeholder:"Ex: 6me A, 2nde S1...",required:!0}),e.jsx(ke,{label:"Code de la classe",name:"code",value:se.code,onChange:he=>pe({...se,code:he.target.value}),placeholder:"Ex: 6A, 2S1, L1...",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (optionnel)"}),e.jsx("textarea",{value:se.description,onChange:he=>pe({...se,description:he.target.value}),placeholder:"Ex: Classe de 6me avec option anglais...",className:"w-full px-4 py-3 text-black border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors bg-white resize-none",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau"}),e.jsxs("select",{value:se.level,onChange:he=>pe({...se,level:he.target.value}),className:"w-full px-4 py-3 text-black border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-transparent transition-colors bg-white",required:!0,children:[e.jsx("option",{value:"",children:"Slectionner un niveau"}),e.jsxs("optgroup",{label:" Primaire",className:"text-slate-600 font-medium",children:[e.jsx("option",{value:"1ere annee",children:"1re Anne"}),e.jsx("option",{value:"2eme annee",children:"2me Anne"}),e.jsx("option",{value:"3eme annee",children:"3me Anne"}),e.jsx("option",{value:"4eme annee",children:"4me Anne"}),e.jsx("option",{value:"5eme annee",children:"5me Anne"}),e.jsx("option",{value:"6eme annee",children:"6me Anne"})]}),e.jsxs("optgroup",{label:" Collge",className:"text-slate-600 font-medium",children:[e.jsx("option",{value:"7eme annee",children:"7me Anne"}),e.jsx("option",{value:"8eme annee",children:"8me Anne"}),e.jsx("option",{value:"9eme annee",children:"9me Anne"}),e.jsx("option",{value:"10eme annee",children:"10me Anne"})]}),e.jsxs("optgroup",{label:" Lyce",className:"text-slate-600 font-medium",children:[e.jsx("option",{value:"seconde",children:"Seconde (11me)"}),e.jsx("option",{value:"premiere",children:"Premire (12me)"}),e.jsx("option",{value:"terminale",children:"Terminale (13me)"})]}),e.jsxs("optgroup",{label:" Enseignement Suprieur",className:"text-slate-600 font-medium",children:[e.jsx("option",{value:"bts",children:"BTS"}),e.jsx("option",{value:"dut",children:"DUT"}),e.jsx("option",{value:"licence1",children:"Licence 1"}),e.jsx("option",{value:"licence2",children:"Licence 2"}),e.jsx("option",{value:"licence3",children:"Licence 3"}),e.jsx("option",{value:"master1",children:"Master 1"}),e.jsx("option",{value:"master2",children:"Master 2"})]})]})]})]}),e.jsx("div",{className:"max-w-md",children:e.jsx(ke,{label:"Capacit maximale",name:"capacity",type:"number",value:se.capacity,onChange:he=>pe({...se,capacity:parseInt(he.target.value)||0}),min:"1",max:"50",placeholder:"Nombre d'lves",required:!0})}),e.jsx("div",{className:"max-w-md",children:e.jsx(ke,{label:"Niveau d'ordre",name:"orderLevel",type:"number",value:se.orderLevel,onChange:he=>pe({...se,orderLevel:parseInt(he.target.value)||1}),min:"1",placeholder:"Ex: 1, 2, 3...",required:!0})}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsxs(ce,{variant:"outline",onClick:De,className:"px-6 py-3",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Retour"]}),e.jsxs(ce,{onClick:Ce,disabled:!V(),className:"px-8 py-3",children:["Continuer",e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]}),K==="final"&&e.jsxs(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Vrifiez les informations"}),e.jsx("p",{className:"text-gray-600",children:"Dernire tape avant la cration"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Nom de la classe"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:se.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Code de la classe"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:se.code})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Niveau"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:de(se.level)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Niveau d'ordre"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:se.orderLevel})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Catgorie"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:we()?.name||"Non dfinie"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Capacit"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[se.capacity," lves"]})]})]}),se.description&&e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:se.description})]})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsxs(ce,{variant:"outline",onClick:De,className:"px-6 py-3",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Retour"]}),e.jsxs(ce,{onClick:oe,className:"px-8 py-3 bg-green-600 hover:bg-green-700",children:[H?"Mettre  jour":"Crer la classe",e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})]})]})]})]},"class-modal-content")},"class-modal")}),e.jsx(ou,{mode:"wait",children:$&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:D?"Modifier la matire":"Nouvelle matire"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Configurez les dtails de la matire et associez-la aux classes"})]}),e.jsx("button",{onClick:()=>{B(!1),Ne()},className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:D?Oe:Ae,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ke,{label:"Nom de la matire",name:"name",value:X.name,onChange:he=>ee({...X,name:he.target.value}),placeholder:"Ex: Mathmatiques, Franais...",required:!0}),e.jsx(ke,{label:"Code de la matire",name:"code",value:X.code,onChange:he=>ee({...X,code:he.target.value.toUpperCase()}),placeholder:"Ex: MATH, FRAN",required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-200",children:[e.jsx(ce,{type:"button",variant:"outline",onClick:()=>{B(!1),Ne()},children:"Annuler"}),e.jsx(ce,{type:"submit",disabled:!X.name||!X.code,className:"bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:D?"Mettre  jour":"Crer la matire"})]})]})]})},"subject-modal-content")},"subject-modal")}),p&&e.jsx(Ss,{title:"Notification",isVisible:p,message:j,type:L,onClose:()=>y(!1)}),e.jsx(fC,{isOpen:E.show,onClose:Y,classItem:E.class})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-blue-600",children:"Chargement..."})]})})},gC=()=>{const a=ut(),[n,l]=b.useState(null);return b.useEffect(()=>{const o=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(o)try{l(JSON.parse(o))}catch(c){console.log(c),a("/login")}else a("/login")},[a]),n?e.jsx(it,{user:n,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full translate-y-12 -translate-x-12"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(gn,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Gestion Financire"}),e.jsx("p",{className:"text-blue-100",children:"UPCD ITAK - Institut Technique l'Antidote de Kati"})]})]}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Grez efficacement les finances, paiements et factures de votre tablissement"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(Ao,{className:"w-6 h-6 text-blue-600 mr-3"}),"Actions Principales"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"group bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 border border-green-200 hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>a("/finances/payments"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Os,{className:"w-7 h-7 text-white"})}),e.jsx(Ht,{className:"w-5 h-5 text-green-600 group-hover:translate-x-1 transition-transform"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Paiements"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Grer les paiements et transactions des tudiants"}),e.jsx("div",{className:"flex items-center text-green-600 text-sm font-semibold",children:e.jsx("span",{children:"Grer les paiements"})})]}),e.jsxs("div",{className:"group bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 border border-purple-200 hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>a("/finances/student-fees"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Je,{className:"w-7 h-7 text-white"})}),e.jsx(Ht,{className:"w-5 h-5 text-purple-600 group-hover:translate-x-1 transition-transform"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Frais tudiants"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Grer les frais assigns par tudiant"}),e.jsx("div",{className:"flex items-center text-purple-600 text-sm font-semibold",children:e.jsx("span",{children:"Grer les frais tudiants"})})]}),e.jsxs("div",{className:"group bg-gradient-to-br from-orange-50 to-orange-100 rounded-2xl p-6 border border-orange-200 hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>a("/finances/fee-types"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(za,{className:"w-7 h-7 text-white"})}),e.jsx(Ht,{className:"w-5 h-5 text-orange-600 group-hover:translate-x-1 transition-transform"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Types de frais"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Configurer les diffrents types de frais"}),e.jsx("div",{className:"flex items-center text-orange-600 text-sm font-semibold",children:e.jsx("span",{children:"Grer les types de frais"})})]})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(wr,{className:"w-6 h-6 text-gray-600 mr-3"}),"Actions Secondaires"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"group bg-white rounded-xl p-4 border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>a("/finances/invoices"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(rs,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Factures"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Crer et grer les factures"})]}),e.jsx(Ht,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]})}),e.jsx("div",{className:"group bg-white rounded-xl p-4 border border-gray-200 hover:border-green-300 hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>a("/finances/discounts"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx(q6,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Rductions"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Grer les rductions et bourses"})]}),e.jsx(Ht,{className:"w-4 h-4 text-gray-400 group-hover:text-green-600 group-hover:translate-x-1 transition-all"})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(bt,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900",children:"tudiants"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Grez les frais et paiements de tous vos tudiants"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:e.jsx(Ct,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Suivi"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Suivez les chances et paiements en temps rel"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl p-6 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(gn,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Analytics"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Analysez les tendances financires de votre tablissement"})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(Ao,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-2",children:" Module Finances UPCD ITAK"}),e.jsxs("p",{className:"text-blue-800 text-sm leading-relaxed",children:["Ce module vous permet de grer tous les aspects financiers de votre tablissement. Commencez par la"," ",e.jsx("strong",{children:"Vue d'ensemble"})," pour avoir une vision claire de votre situation financire, puis utilisez les autres sections pour grer les paiements, frais et factures de manire efficace."]})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})})},St=({children:a,className:n=""})=>e.jsx("div",{className:`card bg-white shadow-lg hover:shadow-xl border border-slate-100 transition-all duration-300 ${n}`,children:a}),pC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState({totalRevenue:0,pendingPayments:0,overduePayments:0,totalInvoices:0,paidInvoices:0,pendingInvoices:0}),[u,m]=b.useState(!0);b.useEffect(()=>{const f=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(f)try{l(JSON.parse(f)),x()}catch(g){console.log(g),a("/login")}else a("/login")},[a]);const x=async()=>{try{const f=await ve.getFinanceStats();f.success&&f.data?c({totalRevenue:f.data.totalRevenue,pendingPayments:f.data.totalPending||0,overduePayments:f.data.totalOverdue||0,totalInvoices:0,paidInvoices:f.data.totalPaid||0,pendingInvoices:f.data.totalPending||0}):(console.error("Erreur lors du chargement des statistiques:",f.error),c({totalRevenue:25e5,pendingPayments:15,overduePayments:8,totalInvoices:120,paidInvoices:95,pendingInvoices:25}))}catch(f){console.error("Erreur lors du chargement des statistiques:",f),c({totalRevenue:25e5,pendingPayments:15,overduePayments:8,totalInvoices:120,paidInvoices:95,pendingInvoices:25})}finally{m(!1)}};return n?e.jsx(it,{user:n,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Vue d'ensemble financire"}),e.jsx("p",{className:"text-gray-600",children:"Tableau de bord et statistiques financires"})]}),e.jsx(ce,{onClick:()=>a("/finances"),variant:"outline",children:" Retour"})]})}),u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des statistiques..."})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(St,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revenus totaux"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[o.totalRevenue.toLocaleString()," FCFA"]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 text-xl",children:""})})]})}),e.jsx(St,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paiements en attente"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:o.pendingPayments})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-yellow-600 text-xl",children:""})})]})}),e.jsx(St,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paiements en retard"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:o.overduePayments})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-red-600 text-xl",children:""})})]})}),e.jsx(St,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Factures payes"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[o.paidInvoices,"/",o.totalInvoices]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 text-xl",children:""})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(St,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-blue-600 text-2xl",children:""})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nouveau paiement"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Enregistrer un nouveau paiement"}),e.jsx(ce,{onClick:()=>a("/finances/payments/new"),className:"w-full",children:"Crer un paiement"})]})}),e.jsx(St,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-purple-600 text-2xl",children:""})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nouvelle facture"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Crer une nouvelle facture"}),e.jsx(ce,{onClick:()=>a("/finances/invoices/new"),className:"w-full",children:"Crer une facture"})]})}),e.jsx(St,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-green-600 text-2xl",children:""})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Types de frais"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Grer les types de frais"}),e.jsx(ce,{onClick:()=>a("/finances/fee-types"),className:"w-full",children:"Grer les frais"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(St,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"volution des revenus"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Graphique des revenus ( implmenter)"})})]}),e.jsxs(St,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statut des paiements"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Graphique des paiements ( implmenter)"})})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})})},sh=({isOpen:a,onClose:n,title:l,children:o,size:c="md"})=>{if(!a)return null;const u={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return jb.createPortal(e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:`bg-white rounded-lg shadow-lg w-full ${u[c]} max-h-[90vh] overflow-hidden`,children:[e.jsxs("div",{className:"bg-blue-500 text-white p-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold",children:l}),e.jsx("button",{onClick:n,className:"text-white hover:text-gray-200 p-1",children:e.jsx(Us,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6 max-h-[calc(90vh-120px)] overflow-y-auto",children:o})]})}),document.body)},bC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState([]),[u,m]=b.useState(!0),[x,f]=b.useState(!1),[g,p]=b.useState(null),[y,j]=b.useState(""),[T,L]=b.useState({name:"",description:"",amountDefault:0,isRecurring:!1,frequency:"once"}),[w,z]=b.useState(""),N=k=>k.toLocaleString("fr-FR"),E=k=>{const K=k.replace(/[\s.]/g,"");return parseInt(K)||0},S=k=>{const K=E(k);L({...T,amountDefault:K}),z(N(K))};b.useEffect(()=>{const k=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(k)try{l(JSON.parse(k)),O()}catch(K){console.log(K),console.log("Erreur lors du chargement des types de frais:",K),a("/login")}else a("/login")},[a]);const O=async()=>{try{m(!0);const k=await ve.getAllFeeTypes();k.success&&k.data?(console.log(" Donnes reues de l'API:",k.data),c(k.data)):(console.error("Erreur lors du chargement des types de frais:",k.error),c([]))}catch(k){console.error("Erreur lors du chargement des types de frais:",k),c([])}finally{m(!1)}},A=async k=>{k.preventDefault();try{if(console.log(" Donnes envoyes:",T),g){const K=await ve.updateFeeType(g.id,T);if(K.success)console.log("Type de frais mis  jour avec succs");else{console.error("Erreur lors de la mise  jour:",K.error),alert("Erreur lors de la mise  jour du type de frais");return}}else{const K=await ve.createFeeType(T);if(K.success)console.log("Type de frais cr avec succs");else{console.error("Erreur lors de la cration:",K.error),alert("Erreur lors de la cration du type de frais");return}}f(!1),p(null),H(),O()}catch(K){console.error("Erreur lors de la sauvegarde:",K),alert("Erreur lors de la sauvegarde. Veuillez ressayer.")}},$=k=>{p(k),L({name:k.name,description:k.description||"",amountDefault:k.amountDefault,isRecurring:k.isRecurring,frequency:k.frequency}),z(N(k.amountDefault)),f(!0)},B=async k=>{if(window.confirm("tes-vous sr de vouloir supprimer ce type de frais ?"))try{const K=await ve.deleteFeeType(k);K.success?(console.log("Type de frais supprim avec succs"),O()):(console.error("Erreur lors de la suppression:",K.error),alert("Erreur lors de la suppression du type de frais"))}catch(K){console.error("Erreur lors de la suppression:",K),alert("Erreur lors de la suppression. Veuillez ressayer.")}},H=()=>{L({name:"",description:"",amountDefault:0,isRecurring:!1,frequency:"once"}),z("")},P=()=>{p(null),H(),f(!0)},D=o.filter(k=>k.name.toLowerCase().includes(y.toLowerCase())||k.description&&k.description.toLowerCase().includes(y.toLowerCase()));return n?e.jsx(it,{user:n,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Types de frais"}),e.jsx("p",{className:"text-gray-600",children:"Grez les diffrents types de frais de l'tablissement"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ce,{onClick:()=>a("/finances"),variant:"outline",children:" Retour"}),e.jsx(ce,{onClick:P,children:"+ Nouveau type de frais"})]})]})}),e.jsx("div",{className:"mb-6",children:e.jsx(ke,{type:"text",placeholder:"Rechercher un type de frais...",value:y,onChange:k=>j(k.target.value),className:"max-w-md"})}),u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des types de frais..."})]})}):e.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant par dfaut"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frquence"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:k.description||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[k.amountDefault.toLocaleString("fr-FR")," FCFA"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[k.frequency==="once"&&"Unique",k.frequency==="monthly"&&"Mensuel",k.frequency==="quarterly"&&"Trimestriel",k.frequency==="yearly"&&"Annuel"]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>$(k),className:"text-blue-600 hover:text-blue-900 bg-blue-50 hover:bg-blue-100 px-3 py-1 rounded-md transition-colors",children:"Modifier"}),e.jsx("button",{onClick:()=>B(k.id),className:"text-red-600 hover:text-red-900 bg-red-50 hover:bg-red-100 px-3 py-1 rounded-md transition-colors",children:"Supprimer"})]})})]},k.id))})]})}),D.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"text-gray-500",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Aucun type de frais"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Commencez par crer un nouveau type de frais."})]})})]}),e.jsx(sh,{isOpen:x,onClose:()=>f(!1),title:g?"Modifier le type de frais":"Nouveau type de frais",children:e.jsxs("form",{onSubmit:A,className:"space-y-4",children:[e.jsx(ke,{label:"Nom du type de frais",type:"text",value:T.name,onChange:k=>L({...T,name:k.target.value}),required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:T.description,onChange:k=>L({...T,description:k.target.value}),className:"w-full text-black px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant par dfaut (FCFA)"}),e.jsx("input",{type:"text",value:w,onChange:k=>S(k.target.value),placeholder:"Ex: 20.000",className:"w-full text-black px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:T.isRecurring,onChange:k=>L({...T,isRecurring:k.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Rcurrent"})]})}),T.isRecurring&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frquence"}),e.jsxs("select",{value:T.frequency,onChange:k=>L({...T,frequency:k.target.value}),className:"w-full text-black px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"once",children:"Unique"}),e.jsx("option",{value:"monthly",children:"Mensuel"}),e.jsx("option",{value:"quarterly",children:"Trimestriel"}),e.jsx("option",{value:"yearly",children:"Annuel"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(ce,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Annuler"}),e.jsx(ce,{type:"submit",children:g?"Mettre  jour":"Crer"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})})},yC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState([]),[u,m]=b.useState([]),[x,f]=b.useState([]),[g,p]=b.useState([]),[y,j]=b.useState([]),[T,L]=b.useState(!0),[w,z]=b.useState(!1),[N,E]=b.useState(null),[S,O]=b.useState(""),[A,$]=b.useState("all"),[B,H]=b.useState(new Set),[P,D]=b.useState([]),[k,K]=b.useState([]),[ie,se]=b.useState({studentId:"",feeTypeId:"",academicYearId:"",amountAssigned:0,dueDate:""}),[pe,X]=b.useState(""),ee=M=>M==null||M===""?"0":(typeof M=="string"?parseFloat(M):M).toLocaleString("fr-FR"),be=M=>{const de=new Set(B);de.has(M)?de.delete(M):de.add(M),H(de)},xe=M=>{const de=P.filter(Te=>Te.studentFeeId===M&&Te.status==="successful"),we=de.reduce((Te,Pe)=>Te+(Number(Pe.amount)||0),0);return console.log(` Calcul pour studentFeeId ${M}:`,{successfulPayments:de.length,totalPaid:we,payments:de.map(Te=>({amount:Te.amount,status:Te.status}))}),we},R=M=>{const de=M.reduce((we,Te)=>{const Pe=Te.studentId;we[Pe]||(we[Pe]={student:Te.student,fees:[],totalAssigned:0,totalPaid:0,totalRemaining:0}),we[Pe].fees.push(Te),we[Pe].totalAssigned+=Number(Te.amountAssigned)||0;const he=xe(Te.id);return we[Pe].totalPaid+=he,we[Pe].totalRemaining+=(Number(Te.amountAssigned)||0)-he,we},{});return Object.values(de)},Z=M=>x.find(de=>de.id===M),me=M=>{let de=k.find(we=>we.student.id===M&&!we.endDate);return de||(de=k.find(we=>we.student.id===M)),de?.class?.name||"Non assign"},_=M=>{const de=M.replace(/[\s.]/g,"");return parseInt(de)||0},Q=M=>{const de=_(M);se({...ie,amountAssigned:de}),X(ee(de))};b.useEffect(()=>{const M=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(M)try{l(JSON.parse(M)),ue(),Se()}catch(de){console.log("===================================="),console.log(de),console.log("===================================="),a("/login")}else a("/login")},[a]);const Y=async()=>{try{const M=await ve.getAllPayments();M.success&&M.data?(console.log(" Paiements reus de l'API:",M.data),D(M.data)):(console.error("Erreur lors du chargement des paiements:",M.error),D([]))}catch(M){console.error("Erreur lors du chargement des paiements:",M),D([])}},U=async()=>{try{const M=await ve.getAllStudentClasses();M.success&&M.data?(console.log(" Classes d'tudiants reues de l'API:",M.data),K(M.data)):(console.error("Erreur lors du chargement des classes d'tudiants:",M.error),K([]))}catch(M){console.error("Erreur lors du chargement des classes d'tudiants:",M),K([])}},ue=async()=>{try{L(!0),await Promise.all([I(),Le(),Ce(),De(),Y(),U()])}catch(M){console.error("Erreur lors du chargement des donnes:",M)}finally{L(!1)}},I=async()=>{try{const M=await ve.getAllStudentFees();if(M.success&&M.data){console.log(" Donnes reues de l'API:",M.data),console.log(" Premier StudentFee:",M.data[0]);const de=M.data.filter(we=>we.student&&we.student.id);c(de)}else console.error("Erreur lors du chargement des frais tudiants:",M.error),c([])}catch(M){console.error("Erreur lors du chargement des frais tudiants:",M),c([])}},Se=async()=>{try{const M=await ve.getAllUsers();M.success&&M.data?(console.log(" Utilisateurs reus de l'API:",M.data),f(M.data)):(console.error("Erreur lors du chargement des utilisateurs:",M.error),f([]))}catch(M){console.error("Erreur lors du chargement des utilisateurs:",M),f([])}},Le=async()=>{try{const M=await ve.getAllUsers();if(M.success&&M.data){const de=M.data.filter(we=>we.role==="student").map(we=>({id:we.id,firstName:we.firstName,lastName:we.lastName,matricule:we.username||`STU${we.id}`}));console.log(" tudiants reus de l'API:",de),m(de)}else console.error("Erreur lors du chargement des tudiants:",M.error),m([])}catch(M){console.error("Erreur lors du chargement des tudiants:",M),m([])}},Ce=async()=>{try{const M=await ve.getAllFeeTypes();M.success&&M.data?p(M.data):p([])}catch(M){console.error("Erreur lors du chargement des types de frais:",M),p([])}},De=async()=>{try{const M=await ve.getAllSchoolYears();M.success&&M.data?j(M.data):(console.error("Erreur lors du chargement des annes scolaires:",M.error),j([]))}catch(M){console.error("Erreur lors du chargement des annes scolaires:",M),j([])}},V=async M=>{M.preventDefault();try{if(console.log(" Donnes envoyes:",ie),N){const de=await ve.updateStudentFee(N.id,ie);if(de.success)console.log("Frais tudiant mis  jour avec succs");else{console.error("Erreur lors de la mise  jour:",de.error),alert("Erreur lors de la mise  jour du frais tudiant");return}}else{const de=await ve.createStudentFee(ie);if(de.success)console.log("Frais tudiant cr avec succs");else{console.error("Erreur lors de la cration:",de.error),alert("Erreur lors de la cration du frais tudiant");return}}z(!1),E(null),Oe(),I()}catch(de){console.error("Erreur lors de la sauvegarde:",de),alert("Erreur lors de la sauvegarde. Veuillez ressayer.")}},oe=M=>{console.log(" Modification du frais:",M),console.log(" StudentId:",M.studentId),console.log(" tudiants disponibles:",u),E(M);const de=M.dueDate?new Date(M.dueDate).toISOString().split("T")[0]:"";se({studentId:M.studentId,feeTypeId:M.feeTypeId,academicYearId:M.academicYearId,amountAssigned:M.amountAssigned,dueDate:de}),X(ee(M.amountAssigned)),z(!0),u.find(Te=>Te.id===M.studentId)||console.warn(" L'tudiant n'a pas t trouv dans la liste:",M.studentId)},Ae=async M=>{if(window.confirm("tes-vous sr de vouloir supprimer ce frais tudiant ?"))try{const de=await ve.deleteStudentFee(M);de.success?(console.log("Frais tudiant supprim avec succs"),I()):(console.error("Erreur lors de la suppression:",de.error),alert("Erreur lors de la suppression du frais tudiant"))}catch(de){console.error("Erreur lors de la suppression:",de),alert("Erreur lors de la suppression. Veuillez ressayer.")}},Oe=()=>{se({studentId:"",feeTypeId:"",academicYearId:"",amountAssigned:0,dueDate:""}),X("")},te=M=>{switch(M){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},J=M=>{switch(M){case"paid":return"Pay";case"partial":return"Partiel";case"pending":return"En attente";case"overdue":return"En retard";default:return M}},Ne=o.filter(M=>{const de=M.student,we=M.feeType;if(!de||!we)return console.warn("StudentFee avec donnes manquantes:",M),!1;const Te=de.matricule?.toLowerCase().includes(S.toLowerCase())||!1||we.name?.toLowerCase().includes(S.toLowerCase())||!1,Pe=A==="all"||M.status===A;return Te&&Pe}),F=R(Ne);return n?e.jsx(it,{user:n,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Frais tudiants"}),e.jsx("p",{className:"text-gray-600",children:"Grez les frais assigns individuellement aux tudiants"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ce,{onClick:()=>a("/finances"),variant:"outline",children:" Retour"}),e.jsx(ce,{onClick:()=>a("/finances/student-fee-assignment"),children:"+ Attribuer un frais"})]})]})}),e.jsxs("div",{className:"mb-6 flex gap-4",children:[e.jsx(ke,{type:"text",placeholder:"Rechercher un frais tudiant...",value:S,onChange:M=>O(M.target.value),className:"max-w-md"}),e.jsxs("select",{value:A,onChange:M=>$(M.target.value),className:"px-3 text-black py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tous les statuts"}),e.jsx("option",{value:"pending",children:"En attente"}),e.jsx("option",{value:"partial",children:"Partiel"}),e.jsx("option",{value:"paid",children:"Pay"}),e.jsx("option",{value:"overdue",children:"En retard"})]})]}),T?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des frais tudiants..."})]})}):e.jsx("div",{className:"space-y-4",children:F.length===0?e.jsx("div",{className:"text-center py-16 bg-gradient-to-br from-gray-50 to-white rounded-xl shadow-lg border border-gray-200",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(Je,{className:"w-10 h-10 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Aucun frais tudiant"}),e.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:"Commencez par attribuer des frais aux tudiants pour suivre leurs paiements."}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[e.jsx(rs,{className:"w-4 h-4"}),e.jsx("span",{children:'Utilisez le bouton "Nouveau frais" pour commencer'})]})]})}):F.map(M=>{const de=Z(M.student.id),we=B.has(M.student.id);return e.jsxs(St,{className:"overflow-hidden",children:[e.jsx("div",{className:"p-6 bg-gradient-to-r from-slate-50 to-gray-50 border-b border-gray-200 cursor-pointer hover:from-slate-100 hover:to-gray-100 transition-all duration-200 shadow-sm",onClick:()=>be(M.student.id),children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Je,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:de?`${de.firstName} ${de.lastName}`:`tudiant ${M.student.matricule}`}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(rs,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold",children:"Matricule:"}),e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded text-gray-800",children:M.student.matricule})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Je,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold",children:"Classe:"}),e.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs font-semibold",children:me(M.student.id)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(za,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold",children:"Frais:"}),e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-bold",children:M.fees.length})]})]})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 ${we?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:we?e.jsx(Wm,{className:"w-5 h-5"}):e.jsx(gr,{className:"w-5 h-5"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(gn,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Total Assign"})]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 text-center",children:[ee(M.totalAssigned)," FCFA"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(Os,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Total Pay"})]}),e.jsxs("div",{className:"text-xl font-bold text-green-700 text-center",children:[ee(M.totalPaid)," FCFA"]})]}),e.jsxs("div",{className:`rounded-lg p-4 shadow-sm border ${M.totalRemaining>0?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[M.totalRemaining>0?e.jsx(Ap,{className:"w-5 h-5 text-red-600"}):e.jsx(Pt,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:`text-sm font-semibold uppercase tracking-wide ${M.totalRemaining>0?"text-red-600":"text-green-600"}`,children:"Total Restant"})]}),e.jsxs("div",{className:`text-xl font-bold text-center ${M.totalRemaining>0?"text-red-700":"text-green-700"}`,children:[ee(M.totalRemaining)," FCFA"]})]})]})]})}),we&&e.jsx("div",{className:"p-4 bg-white overflow-x-auto",children:e.jsx("div",{className:"space-y-3 min-w-max",children:M.fees.map(Te=>e.jsx("div",{className:"bg-gradient-to-r from-white to-gray-50 border border-gray-200 rounded-xl p-5 hover:border-blue-300 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-6 items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(rs,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:Te.feeType.name}),e.jsx("div",{className:"text-xs text-gray-600 font-medium",children:Te.academicYear.name})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(gn,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide",children:"Assign"})]}),e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[ee(Te.amountAssigned)," FCFA"]})]})}),e.jsx("div",{className:"text-center",children:(()=>{const Pe=xe(Te.id);return e.jsxs("div",{className:`rounded-lg p-3 border ${Pe>0?Pe>=Number(Te.amountAssigned)?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(Os,{className:`w-4 h-4 ${Pe>0?Pe>=Number(Te.amountAssigned)?"text-green-600":"text-blue-600":"text-gray-500"}`}),e.jsx("span",{className:`text-xs font-semibold uppercase tracking-wide ${Pe>0?Pe>=Number(Te.amountAssigned)?"text-green-600":"text-blue-600":"text-gray-500"}`,children:"Pay"})]}),e.jsxs("div",{className:`text-sm font-bold ${Pe>0?Pe>=Number(Te.amountAssigned)?"text-green-700":"text-blue-700":"text-gray-600"}`,children:[ee(Pe)," FCFA",Pe>0&&Pe<Number(Te.amountAssigned)&&e.jsx("span",{className:"text-xs text-blue-500 ml-1 font-medium",children:"(partiel)"})]})]})})()}),e.jsx("div",{className:"text-center",children:(()=>{const Pe=xe(Te.id),he=Number(Te.amountAssigned)-Pe;return e.jsxs("div",{className:`rounded-lg p-3 border ${he>0?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[he>0?e.jsx(Ap,{className:"w-4 h-4 text-red-600"}):e.jsx(Pt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:`text-xs font-semibold uppercase tracking-wide ${he>0?"text-red-600":"text-green-600"}`,children:"Restant"})]}),e.jsxs("div",{className:`text-sm font-bold ${he>0?"text-red-700":"text-green-700"}`,children:[ee(he)," FCFA"]})]})})()}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(Ct,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"chance"})]}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:new Date(Te.dueDate).toLocaleDateString("fr-FR")})]})}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold ${te(Te.status)}`,children:[Te.status==="paid"&&e.jsx(Pt,{className:"w-3 h-3 mr-1"}),Te.status==="partial"&&e.jsx(Zt,{className:"w-3 h-3 mr-1"}),Te.status==="pending"&&e.jsx(ra,{className:"w-3 h-3 mr-1"}),J(Te.status)]})}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("button",{onClick:()=>oe(Te),className:"flex items-center justify-center space-x-2 text-blue-700 hover:text-blue-900 bg-blue-50 hover:bg-blue-100 px-3 py-2 rounded-lg text-xs font-semibold transition-all duration-200 border border-blue-200 hover:border-blue-300",children:[e.jsx(V6,{className:"w-3 h-3"}),e.jsx("span",{children:"Modifier"})]}),e.jsxs("button",{onClick:()=>Ae(Te.id),className:"flex items-center justify-center space-x-2 text-red-700 hover:text-red-900 bg-red-50 hover:bg-red-100 px-3 py-2 rounded-lg text-xs font-semibold transition-all duration-200 border border-red-200 hover:border-red-300",children:[e.jsx(Ua,{className:"w-3 h-3"}),e.jsx("span",{children:"Supprimer"})]})]})]})]})},Te.id))})})]},M.student.id)})}),e.jsx(sh,{isOpen:w,onClose:()=>z(!1),title:N?"Modifier le frais tudiant":"Nouveau frais tudiant",children:e.jsxs("form",{onSubmit:V,className:"space-y-4",children:[N?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"tudiant"}),e.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"w-4 h-4 text-gray-600"}),e.jsxs("span",{className:"text-gray-900 font-medium",children:[N.student.firstName," ",N.student.lastName]}),e.jsxs("span",{className:"text-gray-500",children:["(",N.student.matricule,")"]})]})})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"tudiant"}),e.jsxs("select",{value:ie.studentId||"",onChange:M=>se({...ie,studentId:M.target.value}),className:"w-full text-black px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Slectionner un tudiant"}),u.map(M=>e.jsxs("option",{value:M.id,children:[M.firstName," ",M.lastName," (",M.matricule,")"]},M.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de frais"}),e.jsxs("select",{value:ie.feeTypeId,onChange:M=>{const de=g.find(we=>we.id===M.target.value);se({...ie,feeTypeId:M.target.value,amountAssigned:de?.amountDefault||0}),X(ee(de?.amountDefault||0))},className:"w-full text-black px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Slectionner un type de frais"}),g.map(M=>e.jsxs("option",{value:M.id,children:[M.name," - ",ee(M.amountDefault)," FCFA"]},M.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anne scolaire"}),e.jsxs("select",{value:ie.academicYearId,onChange:M=>se({...ie,academicYearId:M.target.value}),className:"w-full text-black px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Slectionner une anne scolaire"}),y.map(M=>e.jsxs("option",{value:M.id,children:[M.name," ",M.isActive?"(Actuelle)":""]},M.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant assign (FCFA)"}),e.jsx("input",{type:"text",value:pe,onChange:M=>Q(M.target.value),placeholder:"Ex: 500.000",className:"w-full text-black px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsx(ke,{label:"Date d'chance",type:"date",value:ie.dueDate,onChange:M=>se({...ie,dueDate:M.target.value}),required:!0}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(ce,{type:"button",variant:"outline",onClick:()=>z(!1),children:"Annuler"}),e.jsx(ce,{type:"submit",children:N?"Mettre  jour":"Crer"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})})},vC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState([]),[u,m]=b.useState([]),[x,f]=b.useState([]),[g,p]=b.useState([]),[,y]=b.useState([]),[j,T]=b.useState(!0),[L,w]=b.useState(!1),[z,N]=b.useState(null),[E,S]=b.useState(null),[O,A]=b.useState(null),[$,B]=b.useState(""),[H,P]=b.useState(""),[D,k]=b.useState(new Set),[K,ie]=b.useState(!1),[se,pe]=b.useState({dueDate:""}),X=V=>V.toLocaleString("fr-FR"),ee=(V,oe)=>{console.log(" Recherche classe pour studentId:",V,"userId:",oe),console.log(" Toutes les classes d'tudiants:",u);let Ae=u.find(Oe=>Oe.studentId===V&&!Oe.endDate);return console.log(" Recherche par studentId:",Ae),!Ae&&oe&&(Ae=u.find(Oe=>Oe.student.userId===oe&&!Oe.endDate),console.log(" Recherche par userId:",Ae)),Ae||(Ae=u.find(Oe=>Oe.studentId===V),console.log(" Recherche sans endDate:",Ae)),console.log(" Classe finale trouve:",Ae),Ae?.class||null};b.useEffect(()=>{const V=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(V)try{l(JSON.parse(V)),be()}catch(oe){console.log(oe),a("/login")}else a("/login")},[a]);const be=async()=>{try{T(!0),await Promise.all([xe(),R(),me(),_(),Z()])}catch(V){console.error("Erreur lors du chargement des donnes:",V)}finally{T(!1)}},xe=async()=>{try{const V=await ve.getAllStudents();V.success&&V.data?(console.log(" tudiants reus de l'API:",V.data),console.log(" Premier tudiant:",V.data[0]),c(V.data)):(console.error("Erreur lors du chargement des tudiants:",V.error),c([]))}catch(V){console.error("Erreur lors du chargement des tudiants:",V),c([])}},R=async()=>{try{const V=await ve.getAllStudentClasses();V.success&&V.data?(console.log(" Classes d'tudiants reues de l'API:",V.data),console.log(" Premier lment:",V.data[0]),m(V.data)):(console.error("Erreur lors du chargement des classes d'tudiants:",V.error),m([]))}catch(V){console.error("Erreur lors du chargement des classes d'tudiants:",V),m([])}},Z=async()=>{try{const V=await ve.getAllStudentFees();V.success&&V.data?(console.log(" Frais tudiants reus de l'API:",V.data),y(V.data)):(console.error("Erreur lors du chargement des frais tudiants:",V.error),y([]))}catch(V){console.error("Erreur lors du chargement des frais tudiants:",V),y([])}},me=async()=>{try{const V=await ve.getAllFeeTypes();V.success&&V.data?f(V.data):(console.error("Erreur lors du chargement des types de frais:",V.error),f([]))}catch(V){console.error("Erreur lors du chargement des types de frais:",V),f([])}},_=async()=>{try{const V=await ve.getAllSchoolYears();V.success&&V.data?(console.log(" Annes scolaires reues de l'API:",V.data),p(V.data)):(console.error("Erreur lors du chargement des annes scolaires:",V.error),p([]))}catch(V){console.error("Erreur lors du chargement des annes scolaires:",V),p([])}},Q=V=>{K?Y(V.id):(N(V),B(""))},Y=V=>{const oe=new Set(D);oe.has(V)?oe.delete(V):oe.add(V),k(oe)},U=()=>{const V=o.filter(oe=>oe.user.firstName.toLowerCase().includes($.toLowerCase())||oe.user.lastName.toLowerCase().includes($.toLowerCase())||oe.matricule.toLowerCase().includes($.toLowerCase()));k(new Set(V.map(oe=>oe.id)))},ue=()=>{k(new Set)},I=V=>{console.log(" Type de frais slectionn:",V),console.log(" Montant par dfaut:",V.amountDefault),console.log(" Type de montant:",typeof V.amountDefault),S(V),P("")},Se=async V=>{if(V.preventDefault(),!z||!E||!O){alert("Veuillez slectionner un tudiant, un type de frais et une anne scolaire.");return}try{if(w(!0),!E.amountDefault||E.amountDefault<=0){alert("Erreur: Le type de frais slectionn n'a pas de montant valide."),w(!1);return}const oe={studentId:z.id,feeTypeId:E.id,academicYearId:O.id,amountAssigned:Number(E.amountDefault),dueDate:se.dueDate};console.log(" Donnes envoyes:",oe),console.log(" Montant par dfaut:",E.amountDefault),console.log(" Type de montant:",typeof E.amountDefault),console.log(" Montant converti:",Number(E.amountDefault)),console.log(" Type du montant converti:",typeof Number(E.amountDefault));const Ae=await ve.createStudentFee(oe);Ae.success?(console.log("Frais tudiant cr avec succs"),alert("Frais attribu avec succs  l'tudiant !"),window.location.reload()):(console.error("Erreur lors de la cration:",Ae.error),alert("Erreur lors de l'attribution du frais. Veuillez ressayer."))}catch(oe){console.error("Erreur lors de la sauvegarde:",oe),alert("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{w(!1)}},Le=async V=>{if(V.preventDefault(),D.size===0||!E||!O){alert("Veuillez slectionner au moins un tudiant, un type de frais et une anne scolaire.");return}if(!se.dueDate){alert("Veuillez dfinir une date d'chance.");return}try{if(w(!0),!E.amountDefault||E.amountDefault<=0){alert("Erreur: Le type de frais slectionn n'a pas de montant valide."),w(!1);return}const oe=Array.from(D).map(J=>{const Ne={studentId:J,feeTypeId:E.id,academicYearId:O.id,amountAssigned:Number(E.amountDefault),dueDate:se.dueDate};return ve.createStudentFee(Ne)}),Ae=await Promise.all(oe),Oe=Ae.filter(J=>J.success),te=Ae.filter(J=>!J.success);Oe.length===Ae.length?(alert(`Frais attribus avec succs  ${Oe.length} tudiant(s) !`),window.location.reload()):(alert(`${Oe.length} attribution(s) russie(s), ${te.length} choue(s).`),te.length<Ae.length&&window.location.reload())}catch(oe){console.error("Erreur lors de la sauvegarde en lot:",oe),alert("Erreur lors de la sauvegarde. Veuillez ressayer.")}finally{w(!1)}},Ce=o.filter(V=>V.user.firstName.toLowerCase().includes($.toLowerCase())||V.user.lastName.toLowerCase().includes($.toLowerCase())||V.matricule.toLowerCase().includes($.toLowerCase())||V.user.email&&V.user.email.toLowerCase().includes($.toLowerCase())),De=x.filter(V=>V.name.toLowerCase().includes(H.toLowerCase())||V.description&&V.description.toLowerCase().includes(H.toLowerCase()));return n?e.jsx(it,{user:n,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Attribution de frais aux tudiants"}),e.jsx("p",{className:"text-gray-600",children:"Attribuez des frais spcifiques aux tudiants"})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx(ce,{onClick:()=>a("/finances/student-fees"),variant:"outline",children:" Retour aux frais tudiants"})})]})}),j?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des donnes..."})]})}):e.jsxs("form",{onSubmit:K?Le:Se,className:"space-y-8",children:[e.jsxs(St,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[K?e.jsx(bt,{className:"w-5 h-5 text-purple-600 mr-2"}):e.jsx(Mt,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["1. Slectionner"," ",K?"des tudiants":"un tudiant"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(ce,{type:"button",variant:K?"outline":"primary",onClick:()=>{ie(!1),k(new Set)},className:"text-sm",children:[e.jsx(Mt,{className:"w-4 h-4 mr-1"}),"Mode unique"]}),e.jsxs(ce,{type:"button",variant:K?"primary":"outline",onClick:()=>{ie(!0),N(null)},className:"text-sm",children:[e.jsx(bt,{className:"w-4 h-4 mr-1"}),"Mode multiple"]})]})]}),!K&&z?e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Mt,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:[z.user.firstName," ",z.user.lastName]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[e.jsx(rs,{className:"w-3 h-3 inline mr-1"}),z.matricule]}),e.jsxs("span",{className:"text-gray-600",children:[e.jsx(Je,{className:"w-3 h-3 inline mr-1"}),ee(z.id,z.userId)?.name||"Non assign"]})]})]})]}),e.jsx(ce,{type:"button",variant:"outline",onClick:()=>N(null),children:"Changer"})]})}):null,K&&D.size>0&&e.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(bt,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:[D.size," tudiant(s) slectionn(s)"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Les frais seront attribus  tous les tudiants slectionns"})]})]}),e.jsx(ce,{type:"button",variant:"outline",onClick:ue,children:"Tout dslectionner"})]})}),(!K&&!z||K)&&e.jsxs("div",{children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Rechercher un tudiant par nom, prnom, matricule...",value:$,onChange:V=>B(V.target.value),className:"w-full text-black pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),K&&e.jsxs("div",{className:"flex items-center justify-between mb-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[D.size," / ",Ce.length," ","slectionn(s)"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(ce,{type:"button",onClick:U,variant:"outline",size:"sm",className:"text-xs",children:[e.jsx(To,{className:"w-3 h-3 mr-1"}),"Tout slectionner"]}),e.jsxs(ce,{type:"button",onClick:ue,variant:"outline",size:"sm",className:"text-xs",children:[e.jsx(Eo,{className:"w-3 h-3 mr-1"}),"Tout dslectionner"]})]})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg p-2 bg-gray-50 max-h-[400px] overflow-y-auto",children:e.jsxs("div",{className:"space-y-2",children:[Ce.map(V=>{const oe=K&&D.has(V.id);return e.jsx("div",{onClick:()=>Q(V),className:`p-3 border rounded-lg cursor-pointer transition-all duration-200 ${oe?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-blue-500 hover:bg-blue-50 bg-white"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[K&&e.jsx("div",{children:oe?e.jsx(To,{className:"w-4 h-4 text-purple-600"}):e.jsx(Eo,{className:"w-4 h-4 text-gray-400"})}),e.jsx("div",{className:`w-8 h-8 ${oe?"bg-purple-100":"bg-blue-100"} rounded-full flex items-center justify-center`,children:e.jsx(Je,{className:`w-4 h-4 ${oe?"text-purple-600":"text-blue-600"}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:[V.user.firstName," ",V.user.lastName]}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(rs,{className:"w-3 h-3 mr-1"}),V.matricule]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(Je,{className:"w-3 h-3 mr-1"}),ee(V.id,V.userId)?.name||"Non assign"]})]})]}),!K&&e.jsx(Ht,{className:"w-4 h-4 text-gray-400"})]})},V.id)}),Ce.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Je,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Aucun tudiant trouv"})]})]})})]})]}),e.jsxs(St,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(za,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"2. Slectionner un type de frais"})]}),E?e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(za,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:E.name}),E.description&&e.jsx("p",{className:"text-sm text-gray-600",children:E.description}),e.jsxs("p",{className:"text-sm font-semibold text-green-600",children:[X(E.amountDefault)," FCFA"]})]})]}),e.jsx(ce,{type:"button",variant:"outline",onClick:()=>S(null),children:"Changer"})]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Rechercher un type de frais par nom ou description...",value:H,onChange:V=>P(V.target.value),className:"w-full text-black pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-60 overflow-y-auto",children:De.map(V=>e.jsx("div",{onClick:()=>I(V),className:"p-3 border border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 cursor-pointer transition-all duration-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(za,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:V.name}),V.description&&e.jsx("p",{className:"text-xs text-gray-600",children:V.description}),e.jsxs("p",{className:"text-xs font-semibold text-green-600",children:[X(V.amountDefault)," FCFA"]})]})]})},V.id))})]})]}),e.jsxs(St,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(Ct,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"3. Slectionner une anne scolaire"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:g.map(V=>e.jsx("div",{onClick:()=>A(V),className:`p-3 border rounded-lg cursor-pointer transition-all duration-200 ${O?.id===V.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-500 hover:bg-purple-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${O?.id===V.id?"bg-purple-100":"bg-gray-100"}`,children:e.jsx(Ct,{className:`w-4 h-4 ${O?.id===V.id?"text-purple-600":"text-gray-600"}`})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:V.name}),V.isActive&&e.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Anne actuelle"})]})]})},V.id))})]}),z&&E&&O&&e.jsxs(St,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"4. Dtails du frais"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant (FCFA)"}),e.jsxs("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-700",children:[X(E.amountDefault)," FCFA"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Montant par dfaut du type de frais slectionn"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date d'chance"}),e.jsx("input",{type:"date",value:se.dueDate,onChange:V=>pe({...se,dueDate:V.target.value}),className:"w-full bg-gray-700 text-white px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]})]}),z&&E&&O&&e.jsx("div",{className:"flex justify-end",children:e.jsx(ce,{type:"submit",disabled:L,className:"px-8 py-3",children:L?"Attribution en cours...":"Attribuer le frais"})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})})},jC=({isOpen:a,onClose:n,payment:l,studentInfo:o,feeTypeInfo:c})=>{const[u,m]=b.useState("");if(b.useEffect(()=>{if(l&&o&&c){const j={facture:{numero:l.id.slice(-8).toUpperCase(),date:l.paymentDate,montant:l.amount,etudiant:o.name,matricule:o.matricule,typeFrais:c.name,institution:"UPCD ITAK - Institut Technique l'Antidote de Kati"}};cv.toDataURL(JSON.stringify(j),{width:120,margin:1,color:{dark:"#000000",light:"#FFFFFF"}}).then(m).catch(console.error)}},[l,o,c]),!a||!l||!o)return null;const x=j=>j.toLocaleString("fr-FR"),f=j=>new Date(j).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),g=j=>({cash:"Espces",bank_transfer:"Virement bancaire",mobile_money:"Mobile Money",card:"Carte bancaire"})[j]||j,p=j=>({successful:"Russi",failed:"chou",pending:"En attente"})[j]||j,y=j=>({successful:"text-green-600 bg-green-100",failed:"text-red-600 bg-red-100",pending:"text-yellow-600 bg-yellow-100"})[j]||"text-gray-600 bg-gray-100";return e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b-2 border-gray-300",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-800 rounded flex items-center justify-center",children:e.jsx(La,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Reu de paiement"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Reu officiel UPCD ITAK"}),o&&e.jsxs("p",{className:"text-xs font-semibold text-blue-600 mt-1",children:["tudiant: ",o.name]})]})]}),e.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:e.jsx(Us,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 relative",children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none opacity-20 z-50",children:e.jsx("div",{className:"text-9xl font-black text-blue-400 transform -rotate-12",children:"UPCD ITAK"})}),e.jsx("div",{className:"relative z-10 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between border-b-2 border-gray-200 pb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center overflow-hidden",children:e.jsx("img",{src:"/src/assets/logo itak.png",alt:"Logo ITAK",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-black text-gray-900",children:"UPCD ITAK"}),e.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Universit Prive Checkn Diallo"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Institut Technique l'Antidote de Kati"})]})]}),e.jsxs("div",{className:"text-right flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-black text-gray-800",children:"REU"}),e.jsxs("div",{className:"text-xs font-mono text-gray-600",children:["N ",l.id.slice(-8).toUpperCase()]}),e.jsx("div",{className:"text-xs text-gray-600",children:f(l.paymentDate)})]}),u&&e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:u,alt:"QR Code Reu",className:"w-16 h-16 border border-gray-300 rounded"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"QR Code"})]})]})]})}),e.jsx("div",{className:"relative z-10 mb-6",children:e.jsxs("div",{className:"bg-gray-50/80 border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-sm font-black text-gray-800 mb-3 flex items-center",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2 text-gray-700"}),"INFORMATIONS TUDIANT"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Nom"}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:o.name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Matricule"}),e.jsx("div",{className:"text-sm font-bold text-gray-900 font-mono",children:o.matricule})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Classe"}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:o.class})]})]})]})}),e.jsx("div",{className:"relative z-10 mb-6",children:e.jsxs("div",{className:"bg-white/90 border-2 border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"bg-gray-100/90 px-4 py-3 border-b-2 border-gray-300",children:e.jsxs("h3",{className:"text-sm font-black text-gray-800 flex items-center",children:[e.jsx(Os,{className:"w-4 h-4 mr-2 text-gray-700"}),"DTAILS DU PAIEMENT"]})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Type de frais"}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:c?.name||"Type de frais"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Montant assign"}),e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[x(Number(l.studentFee.amountAssigned))," ","FCFA"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Montant pay"}),e.jsxs("div",{className:"text-lg font-black text-green-600",children:[x(l.amount)," FCFA"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Mthode"}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:g(l.method)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Date"}),e.jsxs("div",{className:"text-sm font-bold text-gray-900 flex items-center",children:[e.jsx(Ct,{className:"w-3 h-3 mr-1"}),f(l.paymentDate)]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Statut"}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-bold ${y(l.status)}`,children:p(l.status)})]})]})]})})]})}),e.jsx("div",{className:"relative z-10 mb-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50/80 border-2 border-gray-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-sm font-black text-gray-800 mb-3 flex items-center",children:[e.jsx(Mt,{className:"w-4 h-4 mr-2 text-gray-700"}),"REU PAR"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-full flex items-center justify-center",children:e.jsx(Mt,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[l.receivedByUser.firstName," ",l.receivedByUser.lastName]}),e.jsx("div",{className:"text-xs text-gray-600 capitalize",children:l.receivedByUser.role})]})]})]}),e.jsxs("div",{className:"bg-gray-50/80 border-2 border-gray-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-black text-gray-800 mb-3",children:"RSUM FINANCIER"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Assign:"}),e.jsxs("span",{className:"font-bold text-gray-900",children:[x(Number(l.studentFee.amountAssigned))," ","FCFA"]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Pay:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[x(l.amount)," FCFA"]})]}),e.jsxs("div",{className:"flex justify-between text-xs border-t border-gray-300 pt-2",children:[e.jsx("span",{className:"text-gray-600",children:"Restant:"}),e.jsxs("span",{className:"font-bold text-red-600",children:[x(Number(l.studentFee.amountAssigned)-l.amount)," ","FCFA"]})]})]})]})]})}),e.jsx("div",{className:"relative z-10 border-t-2 border-gray-300 pt-4",children:e.jsxs("div",{className:"text-center text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(Q5,{className:"w-3 h-3"}),e.jsx("span",{className:"font-semibold",children:"UPCD ITAK - Institut Technique l'Antidote de Kati"})]}),e.jsx("p",{children:"Facture gnre automatiquement par le systme de gestion"})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-4 border-t-2 border-gray-300 bg-gray-100",children:[e.jsx("button",{onClick:n,className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Fermer"}),e.jsxs("button",{onClick:()=>{const j=document.title;document.title=`Facture_${o?.name.replace(/\s+/g,"_")}_${l.id.slice(-8).toUpperCase()}`,window.print(),setTimeout(()=>{document.title=j},1e3)},className:"px-4 py-1.5 bg-gray-800 text-white rounded text-sm font-semibold hover:bg-gray-900 transition-colors flex items-center space-x-2",children:[e.jsx(La,{className:"w-3 h-3"}),e.jsx("span",{children:"Imprimer"})]})]})]})})},NC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState([]),[u,m]=b.useState([]),[x,f]=b.useState([]),[g,p]=b.useState(!0),[y,j]=b.useState(""),[T,L]=b.useState("all"),[w,z]=b.useState("all"),[N,E]=b.useState(new Set),[S,O]=b.useState(!1),[A,$]=b.useState(null);b.useEffect(()=>{const _=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(_)try{l(JSON.parse(_)),B()}catch(Q){console.log(Q),a("/login")}else a("/login")},[a]);const B=async()=>{try{p(!0),await Promise.all([H(),P(),D()])}catch(_){console.error("Erreur lors du chargement des donnes:",_)}finally{p(!1)}},H=async()=>{try{const _=await ve.getAllPayments();_.success&&_.data?(console.log(" Paiements reus de l'API:",_.data),c(_.data)):(console.error("Erreur lors du chargement des paiements:",_.error),c([]))}catch(_){console.error("Erreur lors du chargement des paiements:",_),c([])}},P=async()=>{try{const _=await ve.getAllFeeTypes();_.success&&_.data?(console.log(" Types de frais reus de l'API:",_.data),m(_.data)):(console.error("Erreur lors du chargement des types de frais:",_.error),m([]))}catch(_){console.error("Erreur lors du chargement des types de frais:",_),m([])}},D=async()=>{try{const _=await ve.getAllStudentClasses();_.success&&_.data?(console.log(" Classes d'tudiants reues de l'API:",_.data),f(_.data)):(console.error("Erreur lors du chargement des classes d'tudiants:",_.error),f([]))}catch(_){console.error("Erreur lors du chargement des classes d'tudiants:",_),f([])}},k=_=>{switch(_){case"successful":return"text-green-600 bg-green-100";case"failed":return"text-red-600 bg-red-100";case"pending":return"text-yellow-600 bg-yellow-100";default:return"text-gray-600 bg-gray-100"}},K=_=>{switch(_){case"successful":return"Russi";case"failed":return"chou";case"pending":return"En attente";default:return _}},ie=_=>{switch(_){case"cash":return"Espces";case"bank_transfer":return"Virement bancaire";case"mobile_money":return"Mobile Money";case"card":return"Carte bancaire";default:return _}},se=_=>{const Q=u.find(Y=>Y.id===_);return Q?Q.name:"Type inconnu"},pe=_=>{try{let Q=x.find(ue=>ue.studentId===_&&!ue.endDate);if(Q||(Q=x.find(ue=>ue.studentId===_)),!Q||!Q.student)return{name:"Donnes non disponibles",matricule:"Non disponible",class:"Non assign"};const Y=Q.student,U=Y.user;return{name:U?`${U.firstName} ${U.lastName}`:"Donnes non disponibles",matricule:Y.matricule||"Non disponible",class:Q.class?.name||"Non assign"}}catch(Q){return console.error("Erreur lors de la rcupration des infos tudiant:",Q),{name:"Donnes non disponibles",matricule:"Non disponible",class:"Non assign"}}},X=_=>{const Q=new Set(N);Q.has(_)?Q.delete(_):Q.add(_),E(Q)},ee=_=>{const Q=_.reduce((Y,U)=>{if(!U.studentFee)return Y;const ue=U.studentFee.studentId;return Y[ue]||(Y[ue]={student:pe(ue),payments:[],totalAmount:0,successfulPayments:0,failedPayments:0}),Y[ue].payments.push(U),Y[ue].totalAmount+=Number(U.amount)||0,U.status==="successful"?Y[ue].successfulPayments+=1:U.status==="failed"&&(Y[ue].failedPayments+=1),Y},{});return Object.values(Q)},be=_=>{if(_==null||_==="")return"0";const Q=typeof _=="string"?Number(_):_;return isNaN(Q)?"0":Q.toLocaleString("fr-FR")},xe=_=>{$(_),O(!0)},R=()=>{O(!1),$(null)},Z=o.filter(_=>{if(!_.studentFee)return console.warn("Payment sans studentFee:",_),!1;const Q=w==="all"||_.studentFee.feeTypeId===w,Y=_.transactionRef&&_.transactionRef.toLowerCase().includes(y.toLowerCase())||_.studentFeeId.toLowerCase().includes(y.toLowerCase()),U=T==="all"||_.status===T;return Q&&Y&&U}),me=ee(Z);return n?e.jsxs(it,{user:n,children:[e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestion des paiements"}),e.jsx("p",{className:"text-gray-600",children:"Grez les paiements et transactions financires"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ce,{onClick:()=>a("/finances"),variant:"outline",children:" Retour"}),e.jsx(ce,{onClick:()=>a("/finances/payments/assign"),children:"+ Nouveau paiement"})]})]})}),e.jsxs("div",{className:"mb-6 flex gap-4",children:[e.jsx(ke,{type:"text",placeholder:"Rechercher un paiement...",value:y,onChange:_=>j(_.target.value),className:"max-w-md"}),e.jsxs("select",{value:T,onChange:_=>L(_.target.value),className:"px-3 text-black py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tous les statuts"}),e.jsx("option",{value:"successful",children:"Russi"}),e.jsx("option",{value:"failed",children:"chou"}),e.jsx("option",{value:"pending",children:"En attente"})]})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>z("all"),className:`py-2 px-1 border-b-2 font-medium text-sm ${w==="all"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tous les frais"}),u.map(_=>e.jsx("button",{onClick:()=>z(_.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${w===_.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:_.name},_.id))]})})}),g?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des paiements..."})]})}):e.jsx("div",{className:"space-y-4",children:me.length===0?e.jsx("div",{className:"text-center py-16 bg-gradient-to-br from-gray-50 to-white rounded-xl shadow-lg border border-gray-200",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-green-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx(La,{className:"w-10 h-10 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Aucun paiement trouv"}),e.jsx("p",{className:"text-gray-600 mb-6 leading-relaxed",children:w==="all"?"Aucun paiement ne correspond aux critres de recherche":`Aucun paiement trouv pour le type de frais "${u.find(_=>_.id===w)?.name||"slectionn"}"`}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500",children:[e.jsx(Os,{className:"w-4 h-4"}),e.jsx("span",{children:'Utilisez le bouton "Nouveau paiement" pour commencer'})]})]})}):me.map(_=>{const Q=N.has(_.student.matricule);return e.jsxs(St,{className:"overflow-hidden",children:[e.jsx("div",{className:"p-6 bg-gradient-to-r from-slate-50 to-gray-50 border-b border-gray-200 cursor-pointer hover:from-slate-100 hover:to-gray-100 transition-all duration-200 shadow-sm",onClick:()=>X(_.student.matricule),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(La,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:_.student.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(rs,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold",children:"Matricule:"}),e.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded text-gray-800",children:_.student.matricule})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Je,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold",children:"Classe:"}),e.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs font-semibold",children:_.student.class})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Os,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"font-semibold",children:"Paiements:"}),e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-bold",children:_.payments.length})]})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 ${Q?"bg-green-100 text-green-600":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,children:Q?e.jsx(Wm,{className:"w-5 h-5"}):e.jsx(gr,{className:"w-5 h-5"})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(za,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Total Pay"})]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 text-center",children:[be(_.totalAmount)," FCFA"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(Pt,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"Russis"})]}),e.jsx("div",{className:"text-xl font-bold text-green-700 text-center",children:_.successfulPayments})]}),e.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(ra,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 uppercase tracking-wide",children:"chous"})]}),e.jsx("div",{className:"text-xl font-bold text-red-700 text-center",children:_.failedPayments})]})]})]})}),Q&&e.jsx("div",{className:"p-4 bg-white overflow-x-auto",children:e.jsx("div",{className:"space-y-3 min-w-max",children:_.payments.map(Y=>e.jsx("div",{className:"bg-gradient-to-r from-white to-gray-50 border border-gray-200 rounded-xl p-5 hover:border-green-300 hover:shadow-md transition-all duration-200",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-6 gap-6 items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(rs,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:Y.studentFee?se(Y.studentFee.feeTypeId):"Type inconnu"}),e.jsx("div",{className:"text-xs text-gray-600 font-medium",children:ie(Y.method)})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(za,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-xs font-semibold text-green-600 uppercase tracking-wide",children:"Montant"})]}),e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[be(Y.amount)," FCFA"]})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(Ct,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Date"})]}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:new Date(Y.paymentDate).toLocaleDateString("fr-FR")})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(Mt,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide",children:"Reu par"})]}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:Y.receivedByUser?`${Y.receivedByUser.firstName} ${Y.receivedByUser.lastName}`:"Non disponible"})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-1 mb-1",children:[e.jsx(La,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-xs font-semibold text-purple-600 uppercase tracking-wide",children:"Rfrence"})]}),e.jsx("div",{className:"text-sm font-bold text-gray-900",children:Y.transactionRef||"N/A"})]})}),e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold ${k(Y.status)}`,children:[Y.status==="successful"&&e.jsx(Pt,{className:"w-3 h-3 mr-1"}),Y.status==="failed"&&e.jsx(ra,{className:"w-3 h-3 mr-1"}),Y.status==="pending"&&e.jsx(Zt,{className:"w-3 h-3 mr-1"}),K(Y.status)]}),e.jsxs("button",{onClick:()=>xe(Y),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100 px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 border border-blue-200 hover:border-blue-300",children:[e.jsx(La,{className:"w-3 h-3"}),e.jsx("span",{children:"Facture"})]})]})]})},Y.id))})})]},_.student.matricule)})})]}),A?.studentFee&&e.jsx(jC,{isOpen:S,onClose:R,payment:{...A,studentFee:{...A.studentFee,amountAssigned:String(A.studentFee.amountAssigned),amountPaid:String(A.studentFee.amountPaid)},receivedByUser:A.receivedByUser||{id:"",firstName:"Non disponible",lastName:"",role:""}},studentInfo:pe(A.studentFee.studentId),feeTypeInfo:{name:se(A.studentFee.feeTypeId),amountDefault:Number(A.studentFee.amountAssigned)}})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})})},wC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState([]),[u,m]=b.useState([]),[x,f]=b.useState([]),[g,p]=b.useState([]),[y,j]=b.useState([]),[T,L]=b.useState([]),[w,z]=b.useState(!0),[N,E]=b.useState(!1),[S,O]=b.useState(""),[A,$]=b.useState(""),[B,H]=b.useState(new Set),[P,D]=b.useState({amount:0,method:"cash",receivedBy:"",paymentDate:new Date().toISOString().split("T")[0]}),k=I=>I.toLocaleString("fr-FR"),K=I=>{$(I),H(new Set)},ie=I=>{const Se=new Set(B);Se.has(I)?Se.delete(I):Se.add(I),H(Se)},se=()=>{const I=X();H(new Set(I.map(Se=>Se.id)))},pe=()=>{H(new Set)},X=()=>A?o.filter(I=>{const Se=xe(I.student.userId);if(!Se)return!1;const Le=be(I.id),Ce=(Number(I.amountAssigned)||0)-Le;return I.feeTypeId===A&&Ce>0&&(Se.firstName.toLowerCase().includes(S.toLowerCase())||Se.lastName.toLowerCase().includes(S.toLowerCase())||I.student.matricule.toLowerCase().includes(S.toLowerCase())||ee(I.student.id).toLowerCase().includes(S.toLowerCase()))}):[],ee=I=>{let Se=g.find(Le=>Le.student.id===I&&!Le.endDate);return Se||(Se=g.find(Le=>Le.student.id===I)),Se?.class?.name||"Non assign"},be=I=>{const Se=y.filter(Ce=>Ce.studentFeeId===I&&Ce.status==="successful"),Le=Se.reduce((Ce,De)=>Ce+(Number(De.amount)||0),0);return console.log(` Calcul pour studentFeeId ${I}:`,{successfulPayments:Se.length,totalPaid:Le,payments:Se.map(Ce=>({amount:Ce.amount,status:Ce.status}))}),Le},xe=I=>u.find(Se=>Se.id===I);b.useEffect(()=>{const I=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(I)try{l(JSON.parse(I)),Z()}catch(Se){console.error("Erreur lors du chargement des donnes:",Se),a("/login")}else a("/login")},[a]);const R=async()=>{try{const I=await ve.getAllFeeTypes();I.success&&I.data?(console.log(" Types de frais reus de l'API:",I.data),L(I.data)):(console.error("Erreur lors du chargement des types de frais:",I.error),L([]))}catch(I){console.error("Erreur lors du chargement des types de frais:",I),L([])}},Z=async()=>{try{z(!0),await Promise.all([me(),_(),Q(),Y(),U(),R()])}catch(I){console.error("Erreur lors du chargement des donnes:",I)}finally{z(!1)}},me=async()=>{try{const I=await ve.getAllStudentFees();if(I.success&&I.data){console.log(" Frais tudiants reus de l'API:",I.data),I.data.length>0&&(console.log(" Exemple de studentFee:",I.data[0]),console.log(" amountAssigned:",I.data[0].amountAssigned,typeof I.data[0].amountAssigned),console.log(" amountPaid:",I.data[0].amountPaid,typeof I.data[0].amountPaid));const Se=I.data.filter(Le=>Le.student&&Le.student.id&&Le.student.matricule);c(Se)}else console.error("Erreur lors du chargement des frais tudiants:",I.error),c([])}catch(I){console.error("Erreur lors du chargement des frais tudiants:",I),c([])}},_=async()=>{try{const I=await ve.getAllUsers();I.success&&I.data?(console.log(" Utilisateurs reus de l'API:",I.data),m(I.data)):(console.error("Erreur lors du chargement des utilisateurs:",I.error),m([]))}catch(I){console.error("Erreur lors du chargement des utilisateurs:",I),m([])}},Q=async()=>{try{const I=await ve.getAllUsers();if(I.success&&I.data){const Se=I.data.filter(Le=>Le.role==="staff"||Le.role==="admin");console.log(" Staffs reus de l'API:",Se),f(Se)}else console.error("Erreur lors du chargement des staffs:",I.error),f([])}catch(I){console.error("Erreur lors du chargement des staffs:",I),f([])}},Y=async()=>{try{const I=await ve.getAllStudentClasses();I.success&&I.data?(console.log(" Classes d'tudiants reues de l'API:",I.data),p(I.data)):(console.error("Erreur lors du chargement des classes d'tudiants:",I.error),p([]))}catch(I){console.error("Erreur lors du chargement des classes d'tudiants:",I),p([])}},U=async()=>{try{const I=await ve.getAllPayments();I.success&&I.data?(console.log(" Paiements reus de l'API:",I.data),j(I.data)):(console.error("Erreur lors du chargement des paiements:",I.error),j([]))}catch(I){console.error("Erreur lors du chargement des paiements:",I),j([])}},ue=async I=>{if(I.preventDefault(),B.size===0){alert("Veuillez slectionner au moins un tudiant.");return}if(!P.receivedBy){alert("Veuillez slectionner qui a reu le paiement.");return}if(P.amount<=0){alert("Le montant doit tre positif.");return}try{E(!0);const Se=X().filter(oe=>B.has(oe.id));for(const oe of Se){const Ae=be(oe.id),Oe=(Number(oe.amountAssigned)||0)-Ae;if(P.amount>Oe){const te=xe(oe.student.userId);alert(`Le montant ne peut pas dpasser le montant restant pour ${te?.firstName} ${te?.lastName} (${k(Oe)} FCFA).`);return}}const Le=Se.map(oe=>{const Ae={studentFeeId:oe.id,amount:P.amount,method:P.method,receivedBy:P.receivedBy,paymentDate:P.paymentDate,status:"successful"};return ve.createPayment(Ae)}),Ce=await Promise.all(Le),De=Ce.filter(oe=>oe.success),V=Ce.filter(oe=>!oe.success);De.length===Se.length?(alert(`${De.length} paiements enregistrs avec succs !`),H(new Set),D({amount:0,method:"cash",receivedBy:"",paymentDate:new Date().toISOString().split("T")[0]}),window.location.reload()):alert(`${De.length} paiements russis, ${V.length} chous.`)}catch(Se){console.error(" Erreur lors de la cration en lot:",Se),alert("Erreur lors de la cration des paiements.")}finally{E(!1)}};return n?e.jsx(it,{user:n,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Enregistrement de paiements en lot"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Slectionnez un type de frais, puis les tudiants pour enregistrer leurs paiements"})]}),e.jsx(ce,{onClick:()=>a("/finances/payments"),variant:"outline",className:"text-sm",children:"Retour aux paiements"})]})}),w?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des donnes..."})]})}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs(St,{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(La,{className:"w-5 h-5 mr-2 text-blue-600"}),"tape 1: Slectionner le type de frais"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Choisissez le type de frais pour lequel vous voulez enregistrer des paiements"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(I=>e.jsxs("div",{onClick:()=>K(I.id),className:`p-4 border-2 rounded-lg cursor-pointer transition-all duration-200 ${A===I.id?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:I.name}),A===I.id&&e.jsx(Pt,{className:"w-5 h-5 text-blue-600"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Montant: ",k(I.amountDefault)," FCFA"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Frquence: ",I.frequency||"Non spcifie"]})]},I.id))})]}),A&&e.jsxs(St,{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(Mt,{className:"w-5 h-5 mr-2 text-green-600"}),"tape 2: Slectionner les tudiants"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Slectionnez les tudiants qui ont pay pour ce type de frais"})]}),e.jsx("div",{className:"flex items-center justify-between mb-4 p-4 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[B.size," tudiant(s) slectionn(s)"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",X().length," tudiant(s) trouv(s))"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(ce,{type:"button",onClick:se,variant:"outline",size:"sm",className:"text-xs",children:[e.jsx(To,{className:"w-4 h-4 mr-1"}),"Tout slectionner"]}),e.jsxs(ce,{type:"button",onClick:pe,variant:"outline",size:"sm",className:"text-xs",children:[e.jsx(Eo,{className:"w-4 h-4 mr-1"}),"Tout dslectionner"]})]})]})}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Rechercher un tudiant...",value:S,onChange:I=>O(I.target.value),className:"w-full text-black pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto border border-gray-200 rounded-lg p-3 bg-gray-50 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:X().map(I=>{const Se=xe(I.student.userId),Le=be(I.id),Ce=(Number(I.amountAssigned)||0)-Le,De=B.has(I.id);return Se?e.jsx("div",{onClick:()=>ie(I.id),className:`p-3 border-2 rounded-lg cursor-pointer transition-all duration-200 ${De?"border-green-500 bg-green-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm bg-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center",children:De?e.jsx(To,{className:"w-4 h-4 text-green-600"}):e.jsx(Eo,{className:"w-4 h-4 text-gray-400"})}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(Je,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900 text-sm",children:[Se.firstName," ",Se.lastName]}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600",children:[e.jsxs("span",{className:"flex font-extrabold items-center",children:[e.jsx(rs,{className:"w-3 font-extrabold h-3 mr-1"}),I.student.matricule]}),e.jsxs("span",{className:"flex font-extrabold items-center",children:[e.jsx(Je,{className:"w-3 font-extrabold h-3 mr-1"}),ee(I.student.id)]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[k(Ce)," FCFA"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Restant"})]})]})},I.id):null})}),X().length>10&&e.jsxs("div",{className:"absolute bottom-2 right-2 bg-blue-600 text-white text-xs px-2 py-1 rounded-full shadow-lg",children:[X().length," tudiants"]})]}),X().length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Mt,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Aucun tudiant trouv pour ce type de frais"})]})]}),B.size>0&&e.jsxs(St,{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(Os,{className:"w-5 h-5 mr-2 text-purple-600"}),"tape 3: Dtails du paiement"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Renseignez les dtails du paiement qui sera appliqu  tous les tudiants slectionns"})]}),e.jsxs("form",{onSubmit:ue,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Montant du paiement (FCFA)"}),e.jsx("input",{type:"number",value:P.amount,onChange:I=>D({...P,amount:Number(I.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",required:!0,min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mthode de paiement"}),e.jsxs("select",{value:P.method,onChange:I=>D({...P,method:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",required:!0,children:[e.jsx("option",{value:"cash",children:"Espces"}),e.jsx("option",{value:"bank_transfer",children:"Virement bancaire"}),e.jsx("option",{value:"mobile_money",children:"Mobile Money"}),e.jsx("option",{value:"card",children:"Carte bancaire"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reu par"}),e.jsxs("select",{value:P.receivedBy,onChange:I=>D({...P,receivedBy:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",required:!0,children:[e.jsx("option",{value:"",children:"Slectionner un membre du personnel"}),x.map(I=>e.jsxs("option",{value:I.id,children:[I.firstName," ",I.lastName]},I.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de paiement"}),e.jsx("input",{type:"date",value:P.paymentDate,onChange:I=>D({...P,paymentDate:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-700 text-white",required:!0})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Rsum du paiement en lot"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"tudiants slectionns:"}),e.jsx("span",{className:"ml-2 font-bold text-blue-900",children:B.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Montant par tudiant:"}),e.jsxs("span",{className:"ml-2 font-bold text-blue-900",children:[k(P.amount)," FCFA"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Total  enregistrer:"}),e.jsxs("span",{className:"ml-2 font-bold text-blue-900",children:[k(P.amount*B.size)," ","FCFA"]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx(ce,{type:"button",onClick:()=>{H(new Set),D({amount:0,method:"cash",receivedBy:"",paymentDate:new Date().toISOString().split("T")[0]})},variant:"outline",children:"Annuler"}),e.jsx(ce,{type:"submit",disabled:N,className:"bg-green-600 hover:bg-green-700",children:N?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Enregistrement..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Os,{className:"w-4 h-4 mr-2"}),"Enregistrer ",B.size," paiement(s)"]})})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})})},SC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState([]),[u,m]=b.useState(!0),[x,f]=b.useState(!1),[g,p]=b.useState(null),[y,j]=b.useState(""),[T,L]=b.useState("all"),[w,z]=b.useState({studentId:"",invoiceNumber:`INV-${Date.now()}`,totalAmount:0,issuedDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],notes:""});b.useEffect(()=>{const D=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(D)try{l(JSON.parse(D)),N()}catch(k){console.log(k),a("/login")}else a("/login")},[a]);const N=async()=>{try{m(!0);const D=await ve.getAllInvoices();if(D.success&&D.data){const k=D.data.filter(K=>K.student&&K.student.firstName&&K.student.lastName);c(k)}else console.error("Erreur lors du chargement des factures:",D.error),c([{id:"1",studentId:"1",invoiceNumber:"INV-2024-001",totalAmount:525e3,status:"paid",issuedDate:"2024-01-01",dueDate:"2024-01-31",notes:"Facture de scolarit et cantine",createdAt:"2024-01-01T10:00:00Z",student:{firstName:"Mohamed",lastName:"Kamissoko"},invoiceItems:[{id:"1",amount:5e5,studentFee:{feeType:{name:"Scolarit"}}},{id:"2",amount:25e3,studentFee:{feeType:{name:"Cantine"}}}]},{id:"2",studentId:"2",invoiceNumber:"INV-2024-002",totalAmount:4e4,status:"unpaid",issuedDate:"2024-01-15",dueDate:"2024-02-15",notes:"Facture de transport",createdAt:"2024-01-15T14:30:00Z",student:{firstName:"Fatoumata",lastName:"Traor"},invoiceItems:[{id:"3",amount:4e4,studentFee:{feeType:{name:"Transport"}}}]}])}catch(D){console.error("Erreur lors du chargement des factures:",D),c([{id:"1",studentId:"1",invoiceNumber:"INV-2024-001",totalAmount:525e3,status:"paid",issuedDate:"2024-01-01",dueDate:"2024-01-31",notes:"Facture de scolarit et cantine",createdAt:"2024-01-01T10:00:00Z",student:{firstName:"Mohamed",lastName:"Kamissoko"},invoiceItems:[{id:"1",amount:5e5,studentFee:{feeType:{name:"Scolarit"}}},{id:"2",amount:25e3,studentFee:{feeType:{name:"Cantine"}}}]},{id:"2",studentId:"2",invoiceNumber:"INV-2024-002",totalAmount:4e4,status:"unpaid",issuedDate:"2024-01-15",dueDate:"2024-02-15",notes:"Facture de transport",createdAt:"2024-01-15T14:30:00Z",student:{firstName:"Fatoumata",lastName:"Traor"},invoiceItems:[{id:"3",amount:4e4,studentFee:{feeType:{name:"Transport"}}}]}])}finally{m(!1)}},E=async D=>{D.preventDefault();try{if(g){const k=await ve.updateInvoice(g.id,w);if(k.success)console.log("Facture mise  jour avec succs");else{console.error("Erreur lors de la mise  jour:",k.error),alert("Erreur lors de la mise  jour de la facture");return}}else{const k=await ve.createInvoice(w);if(k.success)console.log("Facture cre avec succs");else{console.error("Erreur lors de la cration:",k.error),alert("Erreur lors de la cration de la facture");return}}f(!1),p(null),A(),N()}catch(k){console.error("Erreur lors de la sauvegarde:",k),alert("Erreur lors de la sauvegarde. Veuillez ressayer.")}},S=D=>{p(D),z({studentId:D.studentId,invoiceNumber:D.invoiceNumber,totalAmount:D.totalAmount,issuedDate:D.issuedDate,dueDate:D.dueDate,notes:D.notes||""}),f(!0)},O=async D=>{if(window.confirm("tes-vous sr de vouloir supprimer cette facture ?"))try{const k=await ve.deleteInvoice(D);k.success?(console.log("Facture supprime avec succs"),N()):(console.error("Erreur lors de la suppression:",k.error),alert("Erreur lors de la suppression de la facture"))}catch(k){console.error("Erreur lors de la suppression:",k),alert("Erreur lors de la suppression. Veuillez ressayer.")}},A=()=>{z({studentId:"",invoiceNumber:`INV-${Date.now()}`,totalAmount:0,issuedDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],notes:""})},$=()=>{p(null),A(),f(!0)},B=D=>{switch(D){case"paid":return"text-green-600 bg-green-100";case"partial":return"text-yellow-600 bg-yellow-100";case"unpaid":return"text-red-600 bg-red-100";case"cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},H=D=>{switch(D){case"paid":return"Paye";case"partial":return"Partiellement paye";case"unpaid":return"Non paye";case"cancelled":return"Annule";default:return D}},P=o.filter(D=>{const k=D.student.firstName.toLowerCase().includes(y.toLowerCase())||D.student.lastName.toLowerCase().includes(y.toLowerCase())||D.invoiceNumber.toLowerCase().includes(y.toLowerCase()),K=T==="all"||D.status===T;return k&&K});return n?e.jsx(it,{user:n,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestion des factures"}),e.jsx("p",{className:"text-gray-600",children:"Grez les factures et documents de facturation"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ce,{onClick:()=>a("/finances"),variant:"outline",children:" Retour"}),e.jsx(ce,{onClick:$,children:"+ Nouvelle facture"})]})]})}),e.jsxs("div",{className:"mb-6 flex gap-4",children:[e.jsx(ke,{type:"text",placeholder:"Rechercher une facture...",value:y,onChange:D=>j(D.target.value),className:"max-w-md"}),e.jsxs("select",{value:T,onChange:D=>L(D.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"Tous les statuts"}),e.jsx("option",{value:"paid",children:"Paye"}),e.jsx("option",{value:"partial",children:"Partiellement paye"}),e.jsx("option",{value:"unpaid",children:"Non paye"}),e.jsx("option",{value:"cancelled",children:"Annule"})]})]}),u?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement des factures..."})]})}):e.jsx("div",{className:"space-y-4",children:P.map(D=>e.jsx(St,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.invoiceNumber}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B(D.status)}`,children:H(D.status)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"tudiant:"}),e.jsxs("p",{children:[D.student.firstName," ",D.student.lastName]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Montant total:"}),e.jsxs("p",{className:"font-semibold text-green-600",children:[D.totalAmount.toLocaleString()," FCFA"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date d'mission:"}),e.jsx("p",{children:new Date(D.issuedDate).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date d'chance:"}),e.jsx("p",{children:new Date(D.dueDate).toLocaleDateString("fr-FR")})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("span",{className:"font-medium text-sm text-gray-600",children:"lments:"}),e.jsx("div",{className:"mt-1 space-y-1",children:D.invoiceItems.map(k=>e.jsxs("div",{className:"text-sm text-gray-600 flex justify-between",children:[e.jsx("span",{children:k.studentFee.feeType.name}),e.jsxs("span",{children:[k.amount.toLocaleString()," FCFA"]})]},k.id))})]}),D.notes&&e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Notes:"})," ",D.notes]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx("button",{onClick:()=>S(D),className:"text-blue-600 hover:text-blue-800 text-sm px-3 py-1 border border-blue-600 rounded hover:bg-blue-50",children:"Modifier"}),e.jsx("button",{onClick:()=>O(D.id),className:"text-red-600 hover:text-red-800 text-sm px-3 py-1 border border-red-600 rounded hover:bg-red-50",children:"Supprimer"})]})]})},D.id))}),e.jsx(sh,{isOpen:x,onClose:()=>f(!1),title:g?"Modifier la facture":"Nouvelle facture",children:e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsx(ke,{label:"ID de l'tudiant",type:"text",value:w.studentId,onChange:D=>z({...w,studentId:D.target.value}),required:!0}),e.jsx(ke,{label:"Montant total (FCFA)",type:"number",value:w.totalAmount,onChange:D=>z({...w,totalAmount:Number(D.target.value)}),required:!0,min:"0"}),e.jsx(ke,{label:"Date d'mission",type:"date",value:w.issuedDate,onChange:D=>z({...w,issuedDate:D.target.value}),required:!0}),e.jsx(ke,{label:"Date d'chance",type:"date",value:w.dueDate,onChange:D=>z({...w,dueDate:D.target.value}),required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optionnel)"}),e.jsx("textarea",{value:w.notes,onChange:D=>z({...w,notes:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(ce,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Annuler"}),e.jsx(ce,{type:"submit",children:g?"Mettre  jour":"Crer"})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})})},CC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState("schedules"),[u,m]=b.useState([]),[x,f]=b.useState([]),[g,p]=b.useState([]),[y,j]=b.useState([]),[T,L]=b.useState(!1),[w,z]=b.useState(null);b.useEffect(()=>{const O=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(O)try{l(JSON.parse(O))}catch{a("/login")}else a("/login")},[a]);const N=b.useCallback(async()=>{try{L(!0);const[O,A,$,B]=await Promise.all([ve.getAllClasses(),ve.getAllSchoolYears(),ve.getAllTimetables(),ve.getAllEvents()]);O.success&&O.data&&m(O.data),A.success&&A.data&&f(A.data),$.success&&$.data&&p($.data),B.success&&B.data&&j(B.data)}catch(O){console.error("Erreur lors du chargement des donnes:",O)}finally{L(!1)}},[]);b.useEffect(()=>{n&&N()},[n,N]);const E=O=>{switch(O){case"exam":return"Examen";case"homework":return"Devoir";case"cultural_day":return"Journe culturelle";case"health_day":return"Journe sant";case"ball":return"Bal";default:return"Autre"}},S=O=>{switch(O){case"exam":return"bg-red-100 text-red-800";case"homework":return"bg-blue-100 text-blue-800";case"cultural_day":return"bg-purple-100 text-purple-800";case"health_day":return"bg-green-100 text-green-800";case"ball":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}};return n?e.jsxs(it,{user:n,children:[e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(ce,{onClick:()=>a("/dashboard"),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"w-4 h-4"}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Calendrier"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Grez les emplois du temps et les vnements de l'tablissement"})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-2",children:e.jsxs("nav",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>c("schedules"),className:`flex-1 py-3 px-6 rounded-lg font-medium text-sm transition-all duration-200 ${o==="schedules"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Zt,{className:"w-4 h-4"}),"Emplois du temps"]})}),e.jsx("button",{onClick:()=>c("events"),className:`flex-1 py-3 px-6 rounded-lg font-medium text-sm transition-all duration-200 ${o==="events"?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg transform scale-105":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(un,{className:"w-4 h-4"}),"vnements"]})})]})})}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:o==="schedules"?e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Emplois du temps"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Crez et grez les emplois du temps des classes"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(ce,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(Cp,{className:"w-4 h-4"}),"Filtrer"]}),e.jsxs(ce,{className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg",onClick:()=>a("/calendar/timetables"),children:[e.jsx(ws,{className:"w-4 h-4"}),"Nouvel emploi du temps"]})]})]}),T?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Chargement des emplois du temps..."})]}):g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Zt,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun emploi du temps cr"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Commencez par crer votre premier emploi du temps pour organiser les cours"}),e.jsx(ce,{onClick:()=>a("/calendar/timetables"),className:"bg-blue-600 hover:bg-blue-700",children:"Crer un emploi du temps"})]}):e.jsxs("div",{className:"space-y-4",children:[u.map(O=>{const A=x.find(H=>H.isActive),B=g.filter(H=>H.academicYearId===A?.id&&g.some(P=>P.id===H.id)).length;return B===0?null:e.jsxs("div",{onClick:()=>a(`/calendar/timetables?class=${O.id}&year=${A?.id||""}`),className:"flex items-center justify-between p-6 bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg border border-gray-200 hover:shadow-md transition-all cursor-pointer group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:e.jsx(Ft,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),"Niveau ",O.level]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Zt,{className:"w-4 h-4"}),B," cours programm",B>1?"s":""]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-blue-600 font-medium group-hover:text-blue-700",children:"Voir l'emploi du temps"}),e.jsx(gr,{className:"w-5 h-5 text-blue-600 group-hover:text-blue-700 group-hover:translate-x-1 transition-transform"})]})]},O.id)}),u.every(()=>{const O=x.find($=>$.isActive);return g.filter($=>$.academicYearId===O?.id).length===0})&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Zt,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun emploi du temps cr"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Commencez par crer des emplois du temps pour vos classes"}),e.jsx(ce,{onClick:()=>a("/calendar/timetables"),className:"bg-blue-600 hover:bg-blue-700",children:"Nouvel emploi du temps"})]})]})]}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"vnements"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Grez les vnements de l'tablissement (journes sport, propret, etc.)"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(ce,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(Cp,{className:"w-4 h-4"}),"Filtrer"]}),e.jsxs(ce,{className:"flex items-center gap-2 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-lg",onClick:()=>a("/calendar/events"),children:[e.jsx(ws,{className:"w-4 h-4"}),"Nouvel vnement"]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(un,{className:"w-5 h-5 text-green-600"}),"Tous les vnements (",y.length,")"]}),y.length>0?e.jsx("div",{className:"space-y-3",children:y.sort((O,A)=>new Date(O.startDate).getTime()-new Date(A.startDate).getTime()).map(O=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>z(O),children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:O.title}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S(O.eventType)}`,children:E(O.eventType)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ct,{className:"w-4 h-4"}),e.jsxs("span",{children:[new Date(O.startDate).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),O.endDate&&O.endDate!==O.startDate&&e.jsxs("span",{className:"ml-1",children:["-"," ",new Date(O.endDate).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})]})]})]}),O.class&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:O.class.name})]}),O.description&&e.jsx("div",{className:"md:col-span-3",children:e.jsx("p",{className:"text-gray-600",children:O.description})})]})]})})},O.id))}):e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[e.jsx(un,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Aucun vnement cr"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Crez votre premier vnement"})]})]}),e.jsx("div",{className:"text-center pt-4",children:e.jsxs(ce,{onClick:()=>a("/calendar/events"),className:"bg-green-600 hover:bg-green-700 px-6 py-3",children:[e.jsx(un,{className:"w-4 h-4 mr-2"}),"Grer tous les vnements"]})})]})]})})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:w.title}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${S(w.eventType)}`,children:E(w.eventType)}),w.allDay&&e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:"Toute la journe"})]})]}),e.jsx("button",{onClick:()=>z(null),className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Us,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Ct,{className:"w-5 h-5 text-green-600"}),"Dates"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Date de dbut"}),e.jsx("p",{className:"text-gray-900",children:new Date(w.startDate).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),w.endDate&&w.endDate!==w.startDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Date de fin"}),e.jsx("p",{className:"text-gray-900",children:new Date(w.endDate).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]})]}),w.class&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(bt,{className:"w-5 h-5 text-blue-600"}),"Classe concerne"]}),e.jsx("p",{className:"text-gray-900",children:w.class.name})]}),w.description&&e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(rs,{className:"w-5 h-5 text-green-600"}),"Description"]}),e.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:w.description})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(pr,{className:"w-5 h-5 text-purple-600"}),"Informations"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Cr le"}),e.jsx("p",{className:"text-gray-900",children:new Date(w.createdAt).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),w.creator&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Cr par"}),e.jsxs("p",{className:"text-gray-900",children:[w.creator.firstName," ",w.creator.lastName]})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t border-gray-200",children:[e.jsx(ce,{variant:"outline",onClick:()=>z(null),children:"Fermer"}),e.jsx(ce,{onClick:()=>{z(null),a("/calendar/events")},className:"bg-green-600 hover:bg-green-700",children:"Modifier l'vnement"})]})]})})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"})})})},AC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState([]),[u,m]=b.useState([]),[x,f]=b.useState([]),[g,p]=b.useState([]),[y,j]=b.useState(""),[T,L]=b.useState(""),[w,z]=b.useState(!1),[N,E]=b.useState(!1),[S,O]=b.useState(!1),[A,$]=b.useState(""),[B,H]=b.useState("success"),[P,D]=b.useState(""),[k,K]=b.useState("list"),ie=b.useRef(null),[se,pe]=b.useState({teachingAssignmentId:"",academicYearId:"",dayOfWeek:js.MONDAY,startTime:"",endTime:"",room:""}),X=[{value:js.MONDAY,label:"Lundi"},{value:js.TUESDAY,label:"Mardi"},{value:js.WEDNESDAY,label:"Mercredi"},{value:js.THURSDAY,label:"Jeudi"},{value:js.FRIDAY,label:"Vendredi"},{value:js.SATURDAY,label:"Samedi"},{value:js.SUNDAY,label:"Dimanche"}];b.useEffect(()=>{const U=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(U)try{l(JSON.parse(U))}catch{a("/login")}else a("/login")},[a]);const ee=b.useCallback(async()=>{try{z(!0);const U=new URLSearchParams(window.location.search),ue=U.get("class"),I=U.get("year"),[Se,Le,Ce]=await Promise.all([ve.getAllSchoolYears(),ve.getAllClasses(),ve.getAllTeachingAssignments()]);if(Se.success&&Se.data)if(m(Se.data),I)j(I),pe(De=>({...De,academicYearId:I}));else{const De=Se.data.find(V=>V.isActive);De&&(j(De.id),pe(V=>({...V,academicYearId:De.id})))}Le.success&&Le.data&&(f(Le.data),ue&&L(ue)),Ce.success&&Ce.data&&p(Ce.data)}catch(U){console.error("Erreur lors du chargement des donnes:",U)}finally{z(!1)}},[]),be=b.useCallback(async()=>{if(!(!y||!T)){console.log(" Chargement des timetables pour:",{classe:T,anne:y});try{const U=await ve.getTimetablesByClass(T,y);console.log(" Rponse getTimetablesByClass:",U),U.success&&U.data?(console.log(" Timetables chargs:",U.data),c(U.data)):(console.warn(" Erreur ou pas de donnes:",U),c([]))}catch(U){console.error(" Erreur lors du chargement des emplois du temps:",U),c([])}}},[y,T]);b.useEffect(()=>{n&&ee()},[n,ee]),b.useEffect(()=>{y&&T&&be()},[y,T,be]);const xe=(U,ue)=>{$(U),H(ue),O(!0),setTimeout(()=>O(!1),3e3)},R=async U=>{if(U.preventDefault(),!se.teachingAssignmentId||!se.academicYearId||!se.startTime||!se.endTime){xe("Veuillez remplir tous les champs obligatoires","error");return}if(se.startTime>=se.endTime){xe("L'heure de fin doit tre postrieure  l'heure de dbut","error");return}try{z(!0);const ue=await ve.createTimetable(se);ue.success&&ue.data?(c([...o,ue.data]),E(!1),D(""),pe({teachingAssignmentId:"",academicYearId:y,dayOfWeek:js.MONDAY,startTime:"",endTime:"",room:""}),xe("Cours ajout avec succs","success")):xe(ue.message||ue.error||"Erreur lors de la cration du cours","error")}catch{xe("Erreur lors de la cration du cours","error")}finally{z(!1)}},Z=async U=>{if(window.confirm("tes-vous sr de vouloir supprimer ce cours ?"))try{const ue=await ve.deleteTimetable(U);ue.success?(c(o.filter(I=>I.id!==U)),xe("Cours supprim avec succs","success")):xe(ue.message||ue.error||"Erreur lors de la suppression","error")}catch{xe("Erreur lors de la suppression","error")}},me=o,_=me.reduce((U,ue)=>(U[ue.dayOfWeek]||(U[ue.dayOfWeek]=[]),U[ue.dayOfWeek].push(ue),U),{}),Q=U=>U.substring(0,5),Y=dv.useReactToPrint({contentRef:ie,documentTitle:`Emploi du temps - ${T?x.find(U=>U.id===T)?.name:"Classe"}`,pageStyle:`
      @page {
        size: A4 landscape;
        margin: 1cm;
      }
      @media print {
        body {
          -webkit-print-color-adjust: exact;
          color-adjust: exact;
        }
        .print-header {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
          -webkit-print-color-adjust: exact;
          color-adjust: exact;
        }
        .print-table {
          border-collapse: collapse !important;
        }
        .print-cell {
          border: 1px solid #d1d5db !important;
          -webkit-print-color-adjust: exact;
          color-adjust: exact;
        }
        .print-time-cell {
          background: linear-gradient(to right, #f9fafb, #f3f4f6) !important;
          -webkit-print-color-adjust: exact;
          color-adjust: exact;
        }
        .print-course-cell {
          background: #ffffff !important;
          -webkit-print-color-adjust: exact;
          color-adjust: exact;
        }
      }
    `});return Object.keys(_).forEach(U=>{_[U].sort((ue,I)=>ue.startTime.localeCompare(I.startTime))}),n?e.jsx(it,{user:n,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(ce,{onClick:()=>a("/calendar"),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(_o,{className:"w-4 h-4"}),"Retour"]}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg",children:e.jsx(Ct,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Emplois du temps"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Crez et grez les emplois du temps de vos classes"})]})]})})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-2xl shadow-lg border-2 border-blue-100 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(pr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Slectionnez une anne scolaire et une classe"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pour afficher ou crer un emploi du temps, vous devez d'abord slectionner une anne scolaire et une classe."})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-blue-200",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3",children:[e.jsx(Je,{className:"w-4 h-4 text-blue-600"}),"Anne scolaire *"]}),e.jsxs("select",{value:y,onChange:U=>{j(U.target.value),pe(ue=>({...ue,academicYearId:U.target.value}))},className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ${y?"border-green-400 bg-green-50 text-black":"border-gray-300 bg-white text-black"}`,children:[e.jsx("option",{value:"",children:"-- Slectionnez une anne --"}),u.map(U=>e.jsxs("option",{value:U.id,children:[U.name," ",U.isActive&&" (Active)"]},U.id))]}),y&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-green-600",children:[e.jsx(Sp,{className:"w-3 h-3"}),"Anne slectionne"]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-blue-200",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-3",children:[e.jsx(bt,{className:"w-4 h-4 text-blue-600"}),"Classe *"]}),e.jsxs("select",{value:T,onChange:U=>L(U.target.value),disabled:!y,className:`w-full px-4 py-3 border-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all ${y?T?"border-green-400 bg-green-50 text-black":"border-gray-300 bg-white text-black":"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[e.jsx("option",{value:"",children:y?"-- Slectionnez une classe --":"Slectionnez d'abord une anne"}),x.map(U=>e.jsxs("option",{value:U.id,children:[U.name," - ",U.level]},U.id))]}),T&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-green-600",children:[e.jsx(Sp,{className:"w-3 h-3"}),"Classe slectionne"]}),!y&&e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-amber-600",children:[e.jsx(ra,{className:"w-3 h-3"}),"Slectionnez d'abord une anne scolaire"]})]})]}),y&&T&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 flex items-center justify-between flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Prt  afficher l'emploi du temps"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex gap-1 border border-gray-300 rounded-lg p-1 bg-white",children:[e.jsx("button",{onClick:()=>K("list"),className:`px-3 py-2 rounded-md transition-all ${k==="list"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,title:"Vue liste",children:e.jsx(D6,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>K("grid"),className:`px-3 py-2 rounded-md transition-all ${k==="grid"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,title:"Vue grille",children:e.jsx(C6,{className:"w-4 h-4"})})]}),k==="grid"&&me.length>0&&e.jsxs(ce,{variant:"secondary",size:"sm",onClick:Y,className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white shadow-md",children:[e.jsx(nv,{className:"w-4 h-4"}),"Imprimer"]}),e.jsxs(ce,{onClick:()=>E(!0),className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg",children:[e.jsx(ws,{className:"w-4 h-4"}),"Ajouter un cours"]})]})]})]}),w&&me.length===0?e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Chargement des emplois du temps..."})]}):!y||!T?e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl shadow-lg border-2 border-amber-200 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ra,{className:"w-10 h-10 text-amber-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Slection requise"}),e.jsx("p",{className:"text-gray-700 mb-2 max-w-md mx-auto",children:!y&&!T?"Pour afficher ou crer un emploi du temps, veuillez d'abord slectionner une anne scolaire et une classe dans la section ci-dessus.":y?"Veuillez slectionner une classe pour afficher l'emploi du temps.":"Veuillez slectionner une anne scolaire pour continuer."}),e.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-sm text-amber-700 bg-amber-100 px-4 py-2 rounded-lg",children:[e.jsx(pr,{className:"w-4 h-4"}),e.jsx("span",{children:"Utilisez les slecteurs en haut de la page"})]})]}):me.length===0?e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl shadow-lg border-2 border-blue-200 p-12 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Zt,{className:"w-10 h-10 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Aucun cours programm"}),e.jsx("p",{className:"text-gray-700 mb-6 max-w-md mx-auto",children:"L'emploi du temps pour cette classe est vide. Commencez par ajouter des cours pour crer l'emploi du temps."}),e.jsx("div",{className:"flex items-center justify-center gap-4",children:e.jsxs(ce,{onClick:()=>E(!0),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg px-6 py-3",children:[e.jsx(ws,{className:"w-5 h-5 mr-2"}),"Ajouter le premier cours"]})})]}):k==="list"?e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:["Emploi du temps -"," ",x.find(U=>U.id===T)?.name]}),e.jsxs("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:[me.length," cours"]})]}),e.jsx("div",{className:"grid gap-4",children:X.map(U=>{const ue=_[U.value]||[];return ue.length===0?null:e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-5 py-4",children:e.jsxs("h3",{className:"font-bold text-white text-lg flex items-center gap-2",children:[e.jsx(Ct,{className:"w-5 h-5"}),U.label,e.jsxs("span",{className:"ml-auto text-sm font-normal bg-white/20 px-2 py-1 rounded-full",children:[ue.length," cours"]})]})}),e.jsx("div",{className:"divide-y divide-gray-100 bg-gray-50",children:ue.map(I=>{const Se=g.find(Le=>Le.id===I.teachingAssignmentId);return e.jsx("div",{className:"p-5 hover:bg-white transition-all bg-white",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg font-semibold text-sm",children:[e.jsx(Zt,{className:"w-4 h-4"}),Q(I.startTime)," -"," ",Q(I.endTime)]}),I.room&&e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 bg-gray-100 px-3 py-1.5 rounded-lg",children:[e.jsx(Ba,{className:"w-4 h-4"}),I.room]})]}),Se&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-bold text-lg text-gray-900",children:Se.classSubject?.subject?.name})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(bt,{className:"w-4 h-4"}),Se.classSubject?.class?.name]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-medium",children:"Prof:"}),Se.teacher?.user?.firstName," ",Se.teacher?.user?.lastName]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{variant:"outline",size:"sm",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 border-orange-200",children:e.jsx(la,{className:"w-4 h-4"})}),e.jsx(ce,{variant:"outline",size:"sm",onClick:()=>Z(I.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:e.jsx(Ua,{className:"w-4 h-4"})})]})]})},I.id)})})]},U.value)})})]})}):e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:["Emploi du temps -"," ",x.find(U=>U.id===T)?.name]}),e.jsxs("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:[me.length," cours"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{ref:ie,className:"print-container",children:[e.jsx("div",{className:"print-header hidden print:block bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 mb-6 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:"/src/assets/logo itak.png",alt:"Logo ITAK",className:"w-16 h-16 object-contain bg-white rounded-lg p-2"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Institut Technique 'l'Antidote' de Kati"}),e.jsx("p",{className:"text-lg opacity-90",children:"Emploi du temps"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm opacity-90",children:T?x.find(U=>U.id===T)?.name:"Classe"}),e.jsx("p",{className:"text-sm opacity-90",children:y?u.find(U=>U.id===y)?.name:"Anne scolaire"}),e.jsx("p",{className:"text-xs opacity-75",children:new Date().toLocaleDateString("fr-FR")})]})]})}),e.jsxs("table",{className:"w-full border-collapse border border-gray-300 print-table",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[e.jsx("th",{className:"border border-gray-300 p-3 text-left font-semibold min-w-[100px]",children:"Heures"}),X.filter(U=>U.value!==js.SUNDAY).map(U=>e.jsx("th",{className:"border border-gray-300 p-3 text-center font-semibold",children:U.label},U.value))]})}),e.jsx("tbody",{children:(()=>{const U=new Set;me.forEach(I=>{U.add(`${Q(I.startTime)}-${Q(I.endTime)}`)});const ue=Array.from(U).sort((I,Se)=>{const[Le]=I.split("-"),[Ce]=Se.split("-");return Le.localeCompare(Ce)});return ue.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"p-8 text-center text-gray-500",children:"Aucun cours programm"})}):ue.map(I=>{const[Se,Le]=I.split("-");return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border border-gray-300 p-3 bg-gradient-to-r from-gray-50 to-gray-100 whitespace-nowrap print-cell print-time-cell",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"text-base font-bold text-gray-900",children:Se}),e.jsx("div",{className:"text-xs text-gray-400 my-1",children:""}),e.jsx("div",{className:"text-sm font-semibold text-gray-700",children:Le})]})}),X.filter(Ce=>Ce.value!==js.SUNDAY).map(Ce=>{const V=(_[Ce.value]||[]).find(Ae=>Q(Ae.startTime)===Se&&Q(Ae.endTime)===Le);if(!V)return e.jsx("td",{className:"border border-gray-300 p-2 bg-white print-cell print-course-cell"},Ce.value);const oe=g.find(Ae=>Ae.id===V.teachingAssignmentId);return e.jsx("td",{className:"border border-gray-300 p-3 bg-blue-50 align-top print-cell print-course-cell",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-bold text-blue-900 mb-1",children:oe?.classSubject?.subject?.name||"Matire"}),e.jsxs("div",{className:"text-gray-700 text-xs",children:[oe?.teacher?.user?.firstName," ",oe?.teacher?.user?.lastName]}),V.room&&e.jsxs("div",{className:"text-gray-600 text-xs flex items-center gap-1 mt-1",children:[e.jsx(Ba,{className:"w-3 h-3"}),V.room]})]})},Ce.value)})]},I)})})()})]}),e.jsx("div",{className:"hidden print:block mt-8 pt-4 border-t border-gray-300",children:e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[e.jsx("div",{children:e.jsx("p",{children:"Kati, Mali"})}),e.jsx("div",{className:"text-right"})]})})]})})]})}),N&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Ajouter un cours"}),e.jsx("button",{onClick:()=>{E(!1),D("")},className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Professeur et Matire *"}),e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:[g.length," affectation",g.length>1?"s":""]})]}),e.jsx("div",{className:"mb-2",children:e.jsx(ke,{type:"text",placeholder:"Rechercher un professeur, une matire ou une classe...",value:P,onChange:U=>D(U.target.value),className:"text-sm"})}),e.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-300 rounded-lg scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:g.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Aucune affectation prof-matire disponible"}):(()=>{const U=g.filter(ue=>{if(!P)return!0;const I=P.toLowerCase();return ue.teacher?.user?.firstName?.toLowerCase().includes(I)||ue.teacher?.user?.lastName?.toLowerCase().includes(I)||ue.classSubject?.subject?.name?.toLowerCase().includes(I)||ue.classSubject?.class?.name?.toLowerCase().includes(I)});return U.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"Aucun rsultat trouv"}):e.jsx("div",{className:"divide-y divide-gray-200",children:U.map(ue=>e.jsxs("label",{className:`flex items-center p-4 cursor-pointer hover:bg-blue-50 transition-colors ${se.teachingAssignmentId===ue.id?"bg-blue-50 border-l-4 border-blue-500":""}`,children:[e.jsx("input",{type:"radio",name:"teachingAssignment",value:ue.id,checked:se.teachingAssignmentId===ue.id,onChange:I=>pe({...se,teachingAssignmentId:I.target.value}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsxs("div",{className:"ml-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[ue.teacher?.user?.firstName," ",ue.teacher?.user?.lastName]}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-blue-600 font-medium",children:ue.classSubject?.subject?.name})]}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Classe: ",ue.classSubject?.class?.name," "," ",ue.classSubject?.weeklyHours,"h/semaine"]})]})]},ue.id))})})()}),se.teachingAssignmentId===""&&e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Slectionnez un professeur et sa matire dans la liste ci-dessus"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jour de la semaine *"}),e.jsx("select",{value:se.dayOfWeek,onChange:U=>pe({...se,dayOfWeek:U.target.value}),className:"w-full text-black px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:X.map(U=>e.jsx("option",{value:U.value,children:U.label},U.value))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(ke,{label:"Heure de dbut *",type:"time",value:se.startTime,onChange:U=>pe({...se,startTime:U.target.value}),required:!0}),e.jsx(ke,{label:"Heure de fin *",type:"time",value:se.endTime,onChange:U=>pe({...se,endTime:U.target.value}),required:!0})]}),e.jsx(ke,{label:"Salle",value:se.room||"",onChange:U=>pe({...se,room:U.target.value}),placeholder:"Ex: Salle 101, Amphithtre A...",maxLength:50}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(ce,{type:"button",variant:"outline",onClick:()=>{E(!1),D("")},className:"flex-1",children:"Annuler"}),e.jsx(ce,{type:"submit",disabled:w,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:w?"Ajout...":"Ajouter"})]})]})]})})}),S&&e.jsx(Ss,{title:"Notification",isVisible:S,message:A,type:B,onClose:()=>O(!1)})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"})})})},TC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState([]),[u,m]=b.useState([]),[x,f]=b.useState([]),[g,p]=b.useState(!1),[y,j]=b.useState(!1),[T,L]=b.useState(!1),[w,z]=b.useState(null),[N,E]=b.useState(!1),[S,O]=b.useState(""),[A,$]=b.useState("success"),[B,H]=b.useState({title:"",description:"",eventType:"other",startDate:"",endDate:"",allDay:!1,classId:"",createdBy:"",academicYearId:""}),[P,D]=b.useState(""),[k,K]=b.useState(""),[ie,se]=b.useState(""),[pe,X]=b.useState(0);b.useEffect(()=>{const V=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(V)try{const oe=JSON.parse(V);l(oe),H(Ae=>({...Ae,createdBy:oe.id}))}catch{a("/login")}else a("/login")},[a]);const ee=ir.useCallback(async()=>{p(!0);try{const[V,oe,Ae]=await Promise.all([ve.getAllEvents(),ve.getAllClasses(),ve.getAllSchoolYears()]);if(V.success&&c(V.data||[]),oe.success&&m(oe.data||[]),Ae.success){f(Ae.data||[]);const Oe=Ae.data?.find(te=>te.isActive);Oe&&(D(Oe.id),H(te=>({...te,academicYearId:Oe.id})))}}catch(V){console.error("Erreur lors du chargement des donnes:",V),be("Erreur lors du chargement des donnes","error")}finally{p(!1)}},[]);b.useEffect(()=>{n&&ee()},[n,ee]);const be=(V,oe)=>{O(V),$(oe),E(!0),setTimeout(()=>E(!1),5e3)},xe=async V=>{if(V.preventDefault(),!B.title||!B.startDate||!B.academicYearId){be("Veuillez remplir tous les champs obligatoires","error");return}try{let oe;w?oe=await ve.updateEvent(w.id,B):oe=await ve.createEvent(B),oe.success?(be(w?"vnement modifi avec succs":"vnement cr avec succs","success"),j(!1),L(!1),z(null),me(),ee()):be("Erreur lors de la sauvegarde","error")}catch(oe){console.error("Erreur lors de la sauvegarde:",oe),be("Erreur lors de la sauvegarde","error")}},R=V=>{z(V),H({title:V.title,description:V.description||"",eventType:V.eventType,startDate:typeof V.startDate=="string"?V.startDate.split("T")[0]:new Date(V.startDate).toISOString().split("T")[0],endDate:V.endDate?typeof V.endDate=="string"?V.endDate.split("T")[0]:new Date(V.endDate).toISOString().split("T")[0]:"",allDay:V.allDay,classId:V.classId||"",createdBy:V.createdBy,academicYearId:V.academicYearId}),L(!0)},Z=async V=>{if(window.confirm("tes-vous sr de vouloir supprimer cet vnement ?"))try{(await ve.deleteEvent(V)).success?(be("vnement supprim avec succs","success"),ee()):be("Erreur lors de la suppression","error")}catch(oe){console.error("Erreur lors de la suppression:",oe),be("Erreur lors de la suppression","error")}},me=()=>{H({title:"",description:"",eventType:"other",startDate:"",endDate:"",allDay:!1,classId:"",createdBy:n?.id||"",academicYearId:P})},_=V=>{switch(V){case"exam":return"Examen";case"homework":return"Devoir";case"cultural_day":return"Journe culturelle";case"health_day":return"Journe sant";case"ball":return"Bal";default:return"Autre"}},Q=V=>{switch(V){case"exam":return"bg-red-100 text-red-800";case"homework":return"bg-blue-100 text-blue-800";case"cultural_day":return"bg-purple-100 text-purple-800";case"health_day":return"bg-green-100 text-green-800";case"ball":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}},Y=o.filter(V=>!(P&&V.academicYearId!==P||k&&V.classId!==k||ie&&V.eventType!==ie)),U=()=>{if(Y.length===0)return[];const V=new Set;return Y.forEach(oe=>{const Ae=new Date(oe.startDate),Oe=`${Ae.getFullYear()}-${Ae.getMonth()}`;if(V.add(Oe),oe.endDate){const te=new Date(oe.endDate),J=`${te.getFullYear()}-${te.getMonth()}`;V.add(J)}}),Array.from(V).map(oe=>{const[Ae,Oe]=oe.split("-").map(Number);return new Date(Ae,Oe,1)}).sort((oe,Ae)=>oe.getTime()-Ae.getTime())},ue=()=>{const V=U();if(V.length===0)return[];const oe=V[pe],Ae=oe.getFullYear(),Oe=oe.getMonth(),te=Y.filter(F=>{const M=new Date(F.startDate);return M.getFullYear()===Ae&&M.getMonth()===Oe}),J=new Set;return te.forEach(F=>{const M=new Date(F.startDate),de=F.endDate?new Date(F.endDate):M,we=new Date(M);for(;we<=de;)J.add(we.toISOString().split("T")[0]),we.setDate(we.getDate()+1)}),Array.from(J).map(F=>{const M=Y.filter(de=>{const we=new Date(de.startDate).toISOString().split("T")[0],Te=de.endDate?new Date(de.endDate).toISOString().split("T")[0]:we;return F>=we&&F<=Te});return{date:new Date(F),dateStr:F,events:M,isToday:F===new Date().toISOString().split("T")[0]}}).sort((F,M)=>F.date.getTime()-M.date.getTime())},I=()=>{X(V=>Math.max(0,V-1))},Se=()=>{const V=U();X(oe=>Math.min(V.length-1,oe+1))},Le=V=>{X(V)},Ce=U();ir.useEffect(()=>{Ce.length>0&&pe>=Ce.length&&X(0)},[Ce.length,pe]);const De=ue();return n?e.jsx(it,{user:n,children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(ce,{onClick:()=>a("/calendar"),variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(_o,{className:"w-4 h-4"}),"Retour"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Gestion des vnements"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Crez et grez les vnements de l'cole"})]})]}),e.jsxs(ce,{onClick:()=>{me(),j(!0)},className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800",children:[e.jsx(ws,{className:"w-4 h-4"}),"Nouvel vnement"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filtres"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Anne scolaire"}),e.jsxs("select",{value:P,onChange:V=>D(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",children:[e.jsx("option",{value:"",children:"Toutes les annes"}),x.map(V=>e.jsx("option",{value:V.id,children:V.name},V.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Classe"}),e.jsxs("select",{value:k,onChange:V=>K(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",children:[e.jsx("option",{value:"",children:"Selectionnez une classe"}),u.map(V=>e.jsxs("option",{value:V.id,children:[V.name," - ",V.level]},V.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type d'vnement"}),e.jsxs("select",{value:ie,onChange:V=>se(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",children:[e.jsx("option",{value:"",children:"Tous les types"}),e.jsx("option",{value:"exam",children:"Examen"}),e.jsx("option",{value:"homework",children:"Devoir"}),e.jsx("option",{value:"cultural_day",children:"Journe culturelle"}),e.jsx("option",{value:"health_day",children:"Journe sant"}),e.jsx("option",{value:"ball",children:"Bal"}),e.jsx("option",{value:"other",children:"Autre"})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Calendrier des vnements (",Y.length,")"]}),Ce.length>0&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("select",{value:pe,onChange:V=>Le(Number(V.target.value)),className:"px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm text-black",children:Ce.map((V,oe)=>e.jsx("option",{value:oe,children:V.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})},oe))}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{onClick:I,variant:"outline",size:"sm",className:"p-2",disabled:pe===0,children:e.jsx(sv,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-[140px] text-center",children:Ce[pe]?.toLocaleDateString("fr-FR",{month:"long",year:"numeric"})}),e.jsx(ce,{onClick:Se,variant:"outline",size:"sm",className:"p-2",disabled:pe===Ce.length-1,children:e.jsx(gr,{className:"w-4 h-4"})})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[pe+1," / ",Ce.length]})]})]}),g?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Chargement des vnements..."})]}):Y.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(un,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun vnement"}),e.jsx("p",{className:"text-gray-500 mb-4",children:P||k||ie?"Aucun vnement ne correspond aux filtres slectionns":"Commencez par crer votre premier vnement"}),e.jsxs(ce,{onClick:()=>{me(),j(!0)},className:"flex items-center gap-2",children:[e.jsx(ws,{className:"w-4 h-4"}),"Crer un vnement"]})]}):e.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map(V=>e.jsx("div",{className:"p-2 text-center text-sm font-medium text-gray-500 bg-gray-50 rounded",children:V},V)),De.map((V,oe)=>e.jsxs("div",{className:`min-h-[120px] p-2 border rounded ${V.isToday?"bg-blue-50 border-blue-300":"bg-gray-50 border-gray-300"}`,children:[e.jsxs("div",{className:`text-sm font-medium mb-1 ${V.isToday?"text-blue-600":"text-gray-900"}`,children:[V.date.getDate(),V.isToday&&e.jsx("span",{className:"ml-1 text-xs bg-blue-600 text-white px-1 rounded",children:"Aujourd'hui"})]}),e.jsxs("div",{className:"space-y-1",children:[V.events.slice(0,3).map(Ae=>e.jsxs("div",{className:`text-xs p-1 rounded cursor-pointer hover:opacity-80 transition-opacity ${Q(Ae.eventType)} group relative`,onClick:()=>R(Ae),title:`${Ae.title} - ${_(Ae.eventType)}`,children:[e.jsx("div",{className:"font-medium truncate",children:Ae.title}),Ae.class&&e.jsx("div",{className:"text-xs opacity-75 truncate",children:Ae.class.name}),e.jsx("div",{className:"absolute top-0 right-0 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),Z(Ae.id)},className:"text-red-600 hover:text-red-800 p-1",title:"Supprimer",children:e.jsx(Ua,{className:"w-3 h-3"})})})]},Ae.id)),V.events.length>3&&e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["+",V.events.length-3," autres"]})]})]},oe)),De.length===0&&e.jsxs("div",{className:"col-span-7 text-center py-12 text-gray-500",children:[e.jsx(un,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucun vnement ce mois-ci"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Crez votre premier vnement pour ce mois"}),e.jsxs(ce,{onClick:()=>{me(),j(!0)},className:"flex items-center gap-2 mx-auto",children:[e.jsx(ws,{className:"w-4 h-4"}),"Crer un vnement"]})]})]})]})})]}),(y||T)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:w?"Modifier l'vnement":"Nouvel vnement"}),e.jsx("button",{onClick:()=>{j(!1),L(!1),z(null),me()},className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titre *"}),e.jsx(ke,{type:"text",value:B.title,onChange:V=>H(oe=>({...oe,title:V.target.value})),placeholder:"Titre de l'vnement",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:B.description,onChange:V=>H(oe=>({...oe,description:V.target.value})),placeholder:"Description de l'vnement",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type d'vnement *"}),e.jsxs("select",{value:B.eventType,onChange:V=>H(oe=>({...oe,eventType:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",required:!0,children:[e.jsx("option",{value:"exam",children:"Examen"}),e.jsx("option",{value:"homework",children:"Devoir"}),e.jsx("option",{value:"cultural_day",children:"Journe culturelle"}),e.jsx("option",{value:"health_day",children:"Journe sant"}),e.jsx("option",{value:"ball",children:"Bal"}),e.jsx("option",{value:"other",children:"Autre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Classe"}),e.jsxs("select",{value:B.classId,onChange:V=>H(oe=>({...oe,classId:V.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-black",children:[e.jsx("option",{value:"",children:"Selectionnez une classe"}),u.map(V=>e.jsxs("option",{value:V.id,children:[V.name," - ",V.level]},V.id))]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de dbut *"}),e.jsx(ke,{type:"date",value:B.startDate,onChange:V=>H(oe=>({...oe,startDate:V.target.value})),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin"}),e.jsx(ke,{type:"date",value:B.endDate,onChange:V=>H(oe=>({...oe,endDate:V.target.value}))})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"allDay",checked:B.allDay,onChange:V=>H(oe=>({...oe,allDay:V.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"allDay",className:"text-sm font-medium text-gray-700",children:"vnement toute la journe"})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(ce,{type:"button",onClick:()=>{j(!1),L(!1),z(null),me()},variant:"outline",children:"Annuler"}),e.jsx(ce,{type:"submit",children:w?"Modifier":"Crer"})]})]})]})})}),N&&e.jsx(Ss,{type:A,title:A==="success"?"Succs":"Erreur",message:S,isVisible:N,onClose:()=>E(!1)})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Chargement..."})]})})},ah=({isOpen:a,onClose:n,title:l="Erreur",message:o,details:c,statusCode:u})=>{if(!a)return null;const m=()=>u?u>=500?"bg-red-600":u>=400?"bg-orange-500":"bg-red-500":"bg-red-500",x=()=>{if(!u)return"";switch(u){case 400:return"Requte invalide";case 401:return"Non autoris";case 403:return"Accs interdit";case 404:return"Ressource non trouve";case 409:return"Conflit";case 422:return"Donnes invalides";case 500:return"Erreur serveur";default:return`Erreur ${u}`}};return jb.createPortal(e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:n,children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 transform transition-all",onClick:f=>f.stopPropagation(),children:[e.jsxs("div",{className:`${m()} text-white p-4 rounded-t-lg flex justify-between items-center`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(av,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:l}),u&&e.jsx("p",{className:"text-sm opacity-90",children:x()})]})]}),e.jsx("button",{onClick:n,className:"text-white hover:text-gray-200 p-1 rounded-full hover:bg-white/20 transition-colors",children:e.jsx(Us,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(pn,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-800 text-base leading-relaxed",children:o}),c&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Dtails techniques :"}),e.jsx("p",{className:"text-sm text-gray-700 font-mono break-words",children:c})]})]})]})}),e.jsx("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200",children:e.jsx(ce,{onClick:n,variant:"primary",children:"J'ai compris"})})]})]})}),document.body)},EC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState([]),[u,m]=b.useState([]),[x,f]=b.useState(!1),[g,p]=b.useState(!1),[y,j]=b.useState(!1),[T,L]=b.useState(!1),[w,z]=b.useState(null),[N,E]=b.useState(null),[S,O]=b.useState([]),[A,$]=b.useState(!1),[B,H]=b.useState(null),[P,D]=b.useState(!1),[k,K]=b.useState(""),[ie,se]=b.useState("success"),[pe,X]=b.useState({isOpen:!1,message:""}),[ee,be]=b.useState({name:"",startDate:"",endDate:"",isActive:!0}),[xe,R]=b.useState({name:"",startDate:"",endDate:"",isActive:!0}),[Z,me]=b.useState({schoolYearId:"",name:"",startDate:"",endDate:"",isActive:!0,orderNumber:1}),[_,Q]=b.useState({schoolYearId:"",name:"",startDate:"",endDate:"",isActive:!0,orderNumber:1});b.useEffect(()=>{const te=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(te)try{l(JSON.parse(te))}catch{a("/login")}else a("/login")},[a]);const Y=b.useCallback(async()=>{try{f(!0);const[te,J]=await Promise.all([ve.getAllSchoolYears(),ve.getAllTerms()]);te.success&&te.data&&c(te.data),J.success&&J.data&&m(J.data)}catch(te){console.error("Erreur lors du chargement des annes scolaires:",te)}finally{f(!1)}},[]);b.useEffect(()=>{n&&Y()},[n,Y]);const U=(te,J)=>{K(te),se(J),D(!0),setTimeout(()=>D(!1),3e3)},ue=te=>u.filter(J=>J.schoolYearId===te).length,I=async te=>{if(te.preventDefault(),!ee.name||!ee.startDate||!ee.endDate){U("Veuillez remplir tous les champs","error");return}if(new Date(ee.startDate)>=new Date(ee.endDate)){U("La date de fin doit tre postrieure  la date de dbut","error");return}try{f(!0);const J={name:ee.name,startDate:ee.startDate,endDate:ee.endDate};ee.isActive!==void 0&&(J.isActive=ee.isActive),console.log(" Envoi des donnes:",J);const Ne=await ve.createSchoolYear(J);console.log(" Rponse reue:",Ne),Ne.success&&Ne.data?(c([...o,Ne.data]),p(!1),be({name:"",startDate:"",endDate:"",isActive:!0}),U("Anne scolaire cre avec succs","success")):(console.error(" Erreur dans la rponse:",Ne),U(Ne.message||Ne.error||"Erreur lors de la cration de l'anne scolaire","error"))}catch(J){console.error(" Exception capture:",J),U(J instanceof Error?J.message:"Erreur lors de la cration de l'anne scolaire","error")}finally{f(!1)}},Se=te=>{E(te);const J=te.startDate instanceof Date?te.startDate.toISOString().split("T")[0]:new Date(te.startDate).toISOString().split("T")[0],Ne=te.endDate instanceof Date?te.endDate.toISOString().split("T")[0]:new Date(te.endDate).toISOString().split("T")[0];R({name:te.name,startDate:J,endDate:Ne,isActive:te.isActive}),j(!0)},Le=async te=>{if(te.preventDefault(),!!N){if(!xe.name||!xe.startDate||!xe.endDate){U("Veuillez remplir tous les champs","error");return}if(new Date(xe.startDate)>=new Date(xe.endDate)){U("La date de fin doit tre postrieure  la date de dbut","error");return}try{f(!0);const J=await ve.updateSchoolYear(N.id,xe);J.success&&J.data?(c(o.map(Ne=>Ne.id===N.id?J.data:Ne)),j(!1),E(null),R({name:"",startDate:"",endDate:"",isActive:!0}),U("Anne scolaire mise  jour avec succs","success")):J.statusCode===404?X({isOpen:!0,message:J.error||"L'anne scolaire n'a pas t trouve",details:J.error,statusCode:404}):X({isOpen:!0,message:J.message||J.error||"Erreur lors de la mise  jour de l'anne scolaire",details:J.error,statusCode:J.statusCode})}catch(J){console.error(" Exception capture:",J),X({isOpen:!0,message:J instanceof Error?J.message:"Erreur lors de la mise  jour de l'anne scolaire",details:J instanceof Error?J.stack:void 0,statusCode:void 0})}finally{f(!1)}}},Ce=async te=>{if(window.confirm("tes-vous sr de vouloir supprimer cette anne scolaire ?"))try{const J=await ve.deleteSchoolYear(te);J.success?(c(o.filter(Ne=>Ne.id!==te)),U("Anne scolaire supprime avec succs","success")):U(J.message||"Erreur lors de la suppression","error")}catch{U("Erreur lors de la suppression","error")}},De=async te=>{console.log(" Ouverture de la modal pour l'anne:",te),z(te),L(!0),$(!0);try{console.log(" Rcupration des trimestres pour l'anne ID:",te.id);const J=await ve.getTermsBySchoolYear(te.id);if(console.log(" Rponse de l'endpoint spcifique:",J),J.success)J.success&&J.data?(console.log(" Trimestres chargs:",J.data),O(J.data)):(console.warn(" Aucun trimestre trouv:",J),O([]));else{console.log(" Endpoint spcifique non disponible, rcupration de tous les trimestres...");const Ne=await ve.getAllTerms();if(console.log(" Tous les trimestres:",Ne),Ne.success&&Ne.data){const F=Ne.data.filter(M=>M.schoolYearId===te.id);console.log(" Trimestres filtrs:",F),O(F)}else O([])}}catch(J){console.error(" Erreur lors du chargement des trimestres:",J),O([]),U("Erreur lors du chargement des trimestres","error")}finally{$(!1)}},V=async te=>{if(te.preventDefault(),!Z.name||!Z.startDate||!Z.endDate){U("Veuillez remplir tous les champs obligatoires","error");return}if(new Date(Z.startDate)>=new Date(Z.endDate)){U("La date de fin doit tre postrieure  la date de dbut","error");return}if(S.some(Ne=>Ne.orderNumber===Z.orderNumber)){U(`Le numro d'ordre ${Z.orderNumber} est dj utilis. Veuillez choisir un autre numro.`,"error");return}try{f(!0);const Ne={...Z,schoolYearId:w.id},F=await ve.createTerm(Ne);if(F.success&&F.data){const M=[...S,F.data];O(M),m([...u,F.data]);const de=M.map(Te=>Te.orderNumber).sort((Te,Pe)=>Te-Pe);let we=1;for(const Te of de)if(Te===we)we++;else break;me({schoolYearId:w.id,name:"",startDate:"",endDate:"",isActive:!0,orderNumber:we}),U("Trimestre cr avec succs","success")}else U(F.message||"Erreur lors de la cration du trimestre","error")}catch{U("Erreur lors de la cration du trimestre","error")}finally{f(!1)}},oe=te=>{H(te);let J="",Ne="";if(te.startDate){if(te.startDate instanceof Date)J=te.startDate.toISOString().split("T")[0];else if(typeof te.startDate=="string"){const F=new Date(te.startDate);isNaN(F.getTime())||(J=F.toISOString().split("T")[0])}}if(te.endDate){if(te.endDate instanceof Date)Ne=te.endDate.toISOString().split("T")[0];else if(typeof te.endDate=="string"){const F=new Date(te.endDate);isNaN(F.getTime())||(Ne=F.toISOString().split("T")[0])}}Q({schoolYearId:te.schoolYearId,name:te.name||"",startDate:J,endDate:Ne,isActive:te.isActive??!0,orderNumber:te.orderNumber??1})},Ae=async te=>{if(te.preventDefault(),!B)return;if(!_.name||!_.startDate||!_.endDate||_.startDate.trim()===""||_.endDate.trim()===""){U("Veuillez remplir tous les champs obligatoires","error");return}const J=new Date(_.startDate),Ne=new Date(_.endDate);if(isNaN(J.getTime())||isNaN(Ne.getTime())){U("Les dates saisies ne sont pas valides","error");return}if(new Date(_.startDate)>=new Date(_.endDate)){U("La date de fin doit tre postrieure  la date de dbut","error");return}if(S.some(M=>M.orderNumber===_.orderNumber&&M.id!==B.id)){U(`Le numro d'ordre ${_.orderNumber} est dj utilis. Veuillez choisir un autre numro.`,"error");return}try{f(!0);const M={name:_.name||B.name,startDate:_.startDate,endDate:_.endDate,schoolYearId:_.schoolYearId||B.schoolYearId,isActive:_.isActive!==void 0?_.isActive:B.isActive,orderNumber:_.orderNumber!==void 0?_.orderNumber:B.orderNumber};if(!M.startDate||!M.endDate||M.startDate.trim()===""||M.endDate.trim()===""){U("Les dates de dbut et de fin sont requises","error"),f(!1);return}if(!M.name||!M.startDate||!M.endDate||!M.schoolYearId){console.error(" Donnes incompltes:",M),U("Les donnes du formulaire sont incompltes. Veuillez ressayer.","error"),f(!1);return}console.log(" Donnes envoyes pour la mise  jour du trimestre:",JSON.stringify(M,null,2)),console.log(" ID du trimestre:",B.id),console.log(" Trimestre en cours d'dition:",B);const de=await ve.updateTerm(B.id,M);if(de.success&&de.data){const we=S.map(Te=>Te.id===B.id?de.data:Te);O(we),m(u.map(Te=>Te.id===B.id?de.data:Te)),H(null),Q({schoolYearId:"",name:"",startDate:"",endDate:"",isActive:!0,orderNumber:1}),U("Trimestre mis  jour avec succs","success")}else de.statusCode===404?X({isOpen:!0,message:de.error||"Le trimestre n'a pas t trouv",details:de.error,statusCode:404}):X({isOpen:!0,message:de.message||"Erreur lors de la mise  jour du trimestre",details:de.error,statusCode:de.statusCode})}catch(M){console.error(" Exception capture:",M),X({isOpen:!0,message:M instanceof Error?M.message:"Erreur lors de la mise  jour du trimestre",details:M instanceof Error?M.stack:void 0,statusCode:void 0})}finally{f(!1)}},Oe=async te=>{if(window.confirm("tes-vous sr de vouloir supprimer ce trimestre ?"))try{const J=await ve.deleteTerm(te);J.success?(O(S.filter(Ne=>Ne.id!==te)),m(u.filter(Ne=>Ne.id!==te)),U("Trimestre supprim avec succs","success")):U(J.message||"Erreur lors de la suppression","error")}catch{U("Erreur lors de la suppression","error")}};return n?e.jsx(it,{user:n,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center",children:e.jsx(Je,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Annes scolaires"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Grez les annes scolaires et configurez leurs trimestres"})]})]})}),e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:[o.length," anne",o.length>1?"s":""," ","scolaire",o.length>1?"s":""]})}),e.jsxs(ce,{onClick:()=>p(!0),className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg",children:[e.jsx(ws,{className:"w-4 h-4"}),"Nouvelle anne scolaire"]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden",children:x&&o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Chargement des annes scolaires..."})]}):o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Je,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucune anne scolaire cre"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Commencez par crer votre premire anne scolaire"}),e.jsx(ce,{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700",children:"Crer une anne scolaire"})]}):e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid gap-4",children:o.map(te=>e.jsxs("div",{className:"flex items-center justify-between p-6 bg-gradient-to-r from-gray-50 to-blue-50 rounded-lg border border-gray-200 hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(Je,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:te.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ct,{className:"w-4 h-4"}),new Date(te.startDate).toLocaleDateString()," ","-"," ",new Date(te.endDate).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Zt,{className:"w-4 h-4"}),ue(te.id)," trimestre",ue(te.id)>1?"s":""]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${te.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:te.isActive?"Active":"Inactive"}),e.jsxs(ce,{variant:"outline",size:"sm",onClick:()=>De(te),className:"text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[e.jsx(wr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Configurer"})]}),e.jsx(ce,{variant:"outline",size:"sm",onClick:()=>Se(te),className:"text-orange-600 hover:text-orange-700",children:e.jsx(la,{className:"w-4 h-4"})}),e.jsx(ce,{variant:"outline",size:"sm",onClick:()=>Ce(te.id),className:"text-red-600 hover:text-red-700",children:e.jsx(Ua,{className:"w-4 h-4"})})]})]},te.id))})})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Crer une anne scolaire"}),e.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsx(ke,{label:"Nom de l'anne scolaire",value:ee.name,onChange:te=>be({...ee,name:te.target.value}),placeholder:"Ex: Anne scolaire 2024-2025",required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(ke,{label:"Date de dbut",type:"date",value:ee.startDate,onChange:te=>be({...ee,startDate:te.target.value}),required:!0}),e.jsx(ke,{label:"Date de fin",type:"date",value:ee.endDate,onChange:te=>be({...ee,endDate:te.target.value}),required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:ee.isActive,onChange:te=>be({...ee,isActive:te.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-700",children:"Anne scolaire active"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(ce,{type:"button",variant:"outline",onClick:()=>p(!1),className:"flex-1",children:"Annuler"}),e.jsx(ce,{type:"submit",disabled:x,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:x?"Cration...":"Crer"})]})]})]})})}),y&&N&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Modifier l'anne scolaire"}),e.jsx("button",{onClick:()=>{j(!1),E(null),R({name:"",startDate:"",endDate:"",isActive:!0})},className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:Le,className:"space-y-4",children:[e.jsx(ke,{label:"Nom de l'anne scolaire",value:xe.name,onChange:te=>R({...xe,name:te.target.value}),placeholder:"Ex: Anne scolaire 2024-2025",required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(ke,{label:"Date de dbut",type:"date",value:xe.startDate,onChange:te=>R({...xe,startDate:te.target.value}),required:!0}),e.jsx(ke,{label:"Date de fin",type:"date",value:xe.endDate,onChange:te=>R({...xe,endDate:te.target.value}),required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editIsActive",checked:xe.isActive,onChange:te=>R({...xe,isActive:te.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"editIsActive",className:"ml-2 block text-sm text-gray-700",children:"Anne scolaire active"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(ce,{type:"button",variant:"outline",onClick:()=>{j(!1),E(null),R({name:"",startDate:"",endDate:"",isActive:!0})},className:"flex-1",children:"Annuler"}),e.jsx(ce,{type:"submit",disabled:x,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:x?"Mise  jour...":"Mettre  jour"})]})]})]})})}),T&&w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Configuration des trimestres"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:w.name})]}),e.jsx("button",{onClick:()=>{L(!1),z(null),O([])},className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:B?"Modifier le trimestre":"Ajouter un trimestre"}),e.jsxs("form",{onSubmit:B?Ae:V,className:"space-y-4",children:[e.jsx(ke,{label:"Nom du trimestre ou du semestre",value:B?_.name:Z.name,onChange:te=>B?Q({..._,name:te.target.value}):me({...Z,name:te.target.value}),placeholder:"Ex: Trimestre 1",required:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(ke,{label:"Date de dbut",type:"date",value:B?_.startDate:Z.startDate,onChange:te=>B?Q({..._,startDate:te.target.value}):me({...Z,startDate:te.target.value}),required:!0}),e.jsx(ke,{label:"Date de fin",type:"date",value:B?_.endDate:Z.endDate,onChange:te=>B?Q({..._,endDate:te.target.value}):me({...Z,endDate:te.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Numro d'ordre"}),!B&&e.jsx("button",{type:"button",onClick:()=>{const te=S.map(Ne=>Ne.orderNumber).sort((Ne,F)=>Ne-F);let J=1;for(const Ne of te)if(Ne===J)J++;else break;me({...Z,orderNumber:J})},className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Suggrer auto"})]}),e.jsx(ke,{type:"number",value:B?_.orderNumber||"":Z.orderNumber||"",onChange:te=>B?Q({..._,orderNumber:parseInt(te.target.value)||1}):me({...Z,orderNumber:parseInt(te.target.value)||1}),min:"1",required:!0,className:S.some(te=>te.orderNumber===(B?_.orderNumber:Z.orderNumber)&&te.id!==B?.id)?"border-red-500 focus:ring-red-500":""}),S.some(te=>te.orderNumber===(B?_.orderNumber:Z.orderNumber)&&te.id!==B?.id)&&e.jsx("p",{className:"text-xs text-red-600 mt-1",children:" Ce numro est dj utilis"}),S.length>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Numros utiliss:"," ",S.map(te=>te.orderNumber).sort((te,J)=>te-J).join(", ")]})]}),B&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editTermIsActive",checked:_.isActive,onChange:te=>Q({..._,isActive:te.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"editTermIsActive",className:"ml-2 block text-sm text-gray-700",children:"Trimestre actif"})]}),e.jsxs("div",{className:"flex gap-3",children:[B&&e.jsx(ce,{type:"button",variant:"outline",onClick:()=>{H(null),Q({name:"",startDate:"",endDate:"",isActive:!0,orderNumber:1})},className:"flex-1",children:"Annuler"}),e.jsx(ce,{type:"submit",disabled:x,className:`w-full bg-blue-600 hover:bg-blue-700 ${B?"flex-1":""}`,children:x?B?"Mise  jour...":"Ajout...":B?"Mettre  jour":"Ajouter le trimestre"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Trimestres ou semestres existants (",S.length,")"]}),e.jsx("div",{className:"space-y-3",children:A?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Chargement des trimestres..."})]}):S.length===0?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[e.jsx(Zt,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Aucun trimestre cr"})]}):S.sort((te,J)=>te.orderNumber-J.orderNumber).map(te=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-blue-600",children:te.orderNumber})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:te.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[new Date(te.startDate).toLocaleDateString()," ","-"," ",new Date(te.endDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${te.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:te.isActive?"Actif":"Inactif"}),e.jsx(ce,{variant:"outline",size:"sm",onClick:()=>oe(te),className:"text-orange-600 hover:text-orange-700",children:e.jsx(la,{className:"w-3 h-3"})}),e.jsx(ce,{variant:"outline",size:"sm",onClick:()=>Oe(te.id),className:"text-red-600 hover:text-red-700",children:e.jsx(Ua,{className:"w-3 h-3"})})]})]},te.id))})]})]})})]})}),P&&e.jsx(Ss,{title:"Notification",isVisible:P,message:k,type:ie,onClose:()=>D(!1)}),e.jsx(ah,{isOpen:pe.isOpen,onClose:()=>X({isOpen:!1,message:""}),title:"Erreur",message:pe.message,details:pe.details,statusCode:pe.statusCode})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"})})})},kC=()=>{const a=ut(),[n,l]=b.useState(null);return b.useEffect(()=>{const o=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(o)try{l(JSON.parse(o))}catch(c){console.log(c),a("/login")}else a("/login")},[a]),n?e.jsx(it,{user:n,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl p-8 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full translate-y-12 -translate-x-12"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(wr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Paramtres des Affectations"}),e.jsx("p",{className:"text-blue-100",children:"UPCD ITAK - Institut Technique l'Antidote de Kati"})]})]}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Grer les affectations entre lves, classes, matires et enseignants"})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-3",children:" Comment fonctionnent les affectations ?"}),e.jsxs("div",{className:"space-y-3 text-blue-800",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-blue-600 font-bold",children:"1."}),e.jsxs("p",{children:["D'abord, ",e.jsx("strong",{children:"affectez des matires aux classes"})," ","(coefficient, heures, optionnel)"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-blue-600 font-bold",children:"2."}),e.jsxs("p",{children:["Ensuite, ",e.jsx("strong",{children:"affectez des lves aux classes"})," (avec dates de dbut/fin)"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-blue-600 font-bold",children:"3."}),e.jsxs("p",{children:["Enfin,"," ",e.jsx("strong",{children:"affectez des enseignants aux matires-classes"})," ","(pour qu'ils enseignent)"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(Ao,{className:"w-6 h-6 text-blue-600 mr-3"}),"Configuration Principale"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"group bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 border border-gray-200 hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>a("/settings/subject-class-assignment"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Ft,{className:"w-7 h-7 text-white"})}),e.jsx(Ht,{className:"w-5 h-5 text-blue-600 group-hover:translate-x-1 transition-transform"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Matires  Classes"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Affecter des matires aux classes avec coefficients et heures"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-blue-600 text-sm font-semibold",children:[e.jsx(Pt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"tape 1"})]}),e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:"Programme"})]})]}),e.jsxs("div",{className:"group bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 border border-gray-200 hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>a("/settings/student-class-assignment"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(bt,{className:"w-7 h-7 text-white"})}),e.jsx(Ht,{className:"w-5 h-5 text-green-600 group-hover:translate-x-1 transition-transform"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"lves  Classes"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Inscrire des lves dans des classes avec dates d'inscription"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-green-600 text-sm font-semibold",children:[e.jsx(Pt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"tape 2"})]}),e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:"Inscriptions"})]})]}),e.jsxs("div",{className:"group bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 border border-gray-200 hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>a("/settings/teacher-subject-assignment"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Je,{className:"w-7 h-7 text-white"})}),e.jsx(Ht,{className:"w-5 h-5 text-purple-600 group-hover:translate-x-1 transition-transform"})]}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Enseignants  Matires-Classes"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Affecter des enseignants aux matires dans les classes"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-purple-600 text-sm font-semibold",children:[e.jsx(Pt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"tape 3"})]}),e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:"Affectations"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(m6,{className:"w-6 h-6 text-gray-600 mr-3"}),"Actions Rapides"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(x6,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Statistiques"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"lves inscrits"}),e.jsx("span",{className:"font-semibold text-blue-600",children:"150+"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Enseignants"}),e.jsx("span",{className:"font-semibold text-blue-600",children:"25+"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Classes actives"}),e.jsx("span",{className:"font-semibold text-blue-600",children:"12"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-4 border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:e.jsx(eh,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Statut Systme"})]}),e.jsxs("div",{className:"flex items-center text-green-600 text-sm",children:[e.jsx(Pt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"font-semibold",children:"Tous les services oprationnels"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl p-4 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(Zt,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Dernire MAJ"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:"Configuration mise  jour"}),e.jsx("p",{className:"font-semibold text-purple-600",children:"Il y a 2 heures"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:e.jsx(Ft,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Programme"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Dfinissez d'abord les matires et leurs coefficients pour chaque classe"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-600 rounded-lg flex items-center justify-center",children:e.jsx(bt,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Inscriptions"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Inscrivez ensuite les lves dans les classes avec les dates appropries"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-50 rounded-xl p-6 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(Je,{className:"w-5 h-5 text-white"})}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Affectations"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enfin, assignez les enseignants aux matires dans chaque classe"})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(pr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-2",children:" Guide de Configuration UPCD ITAK"}),e.jsxs("p",{className:"text-blue-800 text-sm leading-relaxed",children:["Ce module vous permet de configurer toutes les relations entre les diffrents lments de votre tablissement. Commencez par l'",e.jsx("strong",{children:"Affectation Matires-Classes"})," pour tablir le programme, puis configurez les",e.jsx("strong",{children:" Inscriptions lves"})," pour organiser les classes. Enfin, dfinissez les",e.jsx("strong",{children:" Affectations Enseignants"})," pour complter l'organisation pdagogique."]})]})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})})},DC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState([]),[u,m]=b.useState([]),[x,f]=b.useState([]),[g,p]=b.useState(null),[y,j]=b.useState(""),[T,L]=b.useState(""),[w,z]=b.useState(!0),[N,E]=b.useState(!1),[S,O]=b.useState(null),[A,$]=b.useState(""),[B,H]=b.useState(""),[P,D]=b.useState([]),[k,K]=b.useState(""),[ie,se]=b.useState("create");b.useEffect(()=>{const Y=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(Y)try{l(JSON.parse(Y))}catch{a("/login")}else a("/login")},[a]),b.useEffect(()=>{if(!n)return;(async()=>{z(!0);try{const[U,ue,I]=await Promise.all([ve.getAllStudents(),ve.getAllClasses(),ve.getAllStudentClasses()]);U.success&&c(U.data||[]),ue.success&&m(ue.data||[]),I.success&&f(I.data||[])}catch{console.error("Erreur chargement")}finally{z(!1)}})()},[n]);const pe=async Y=>{if(Y.preventDefault(),P.length===0||!g||!y){O({type:"error",title:"Erreur",message:"Veuillez slectionner au moins un lve, une classe et une date de dbut",isVisible:!0});return}if(!R(y,T)){O({type:"error",title:"Erreur de dates",message:"La date de fin doit tre suprieure  la date de dbut",isVisible:!0});return}E(!0);try{const U=P.map(Se=>ve.createStudentClass({studentId:Se,classId:g,startDate:y,endDate:T||void 0})),I=(await Promise.all(U)).filter(Se=>Se.success).length;if(I===P.length){const Se=await ve.getAllStudentClasses();Se.success&&f(Se.data||[]),O({type:"success",title:"Succs",message:`${I} affectation(s) cre(s) avec succs`,isVisible:!0}),xe(),j(""),L("")}else O({type:"error",title:"Erreur",message:`${I}/${P.length} affectations cres avec succs`,isVisible:!0})}catch{O({type:"error",title:"Erreur",message:"Erreur lors de la cration des affectations",isVisible:!0})}finally{E(!1)}},X=async Y=>{try{const U=await ve.deleteStudentClass(Y);if(U.success){const ue=await ve.getAllStudentClasses();ue.success&&f(ue.data||[]),O({type:"success",title:"Succs",message:"Affectation supprime avec succs",isVisible:!0})}else O({type:"error",title:"Erreur",message:U.error||"Erreur lors de la suppression",isVisible:!0})}catch(U){console.error("Erreur lors de la suppression:",U),O({type:"error",title:"Erreur",message:U instanceof Error?U.message:"Erreur lors de la suppression",isVisible:!0})}},ee=Y=>{D(U=>U.includes(Y)?U.filter(ue=>ue!==Y):[...U,Y])},be=Y=>{p(Y)},xe=()=>{D([]),p(null),$(""),H(""),K("")},R=(Y,U)=>{if(Y&&U){const ue=new Date(Y),I=new Date(U);return ue>=I?(K("La date de fin doit tre suprieure  la date de dbut"),!1):(K(""),!0)}else return K(""),!0},Z=Y=>{const U=Y.target.value;L(U),R(y,U)},me=Y=>{const U=Y.target.value;j(U),T&&R(U,T)},_=o.filter(Y=>{const U=x.some(I=>I.student?.id===Y.id),ue=`${Y.user?.firstName||""} ${Y.user?.lastName||""} ${Y.matricule||""}`.toLowerCase().includes(A.toLowerCase());return!U&&ue}),Q=u.filter(Y=>`${Y.name} ${Y.level} ${Y.code||""}`.toLowerCase().includes(B.toLowerCase()));return n?w?e.jsx(it,{user:n,children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}):e.jsxs(it,{user:n,children:[e.jsx("style",{children:`
        .scrollbar-thin::-webkit-scrollbar {
          width: 6px;
        }
        .scrollbar-thin::-webkit-scrollbar-track {
          background: #f1f5f9;
          border-radius: 3px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 3px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),e.jsxs("div",{className:"p-6 max-w-7xl mx-auto max-h-screen overflow-y-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(ce,{onClick:()=>a("/settings"),variant:"outline",size:"sm",children:" Retour"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Affectation lves-Classes"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Grer l'affectation des lves aux classes"})]})]}),e.jsxs("div",{className:"grid grid-cols-4 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total lves"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.filter(Y=>!x.some(U=>U.student?.id===Y.id)).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Non Affects"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Classes"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Affectations"})]})]})]}),S&&e.jsx(Ss,{type:S.type,title:S.title,message:S.message,isVisible:S.isVisible,onClose:()=>O(null)}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>se("create"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${ie==="create"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Nouvelle affectation"]})}),e.jsx("button",{onClick:()=>se("list"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${ie==="list"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Affectations existantes",e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs font-medium",children:x.length})]})})]})}),e.jsxs("div",{className:"p-6",children:[ie==="create"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Crer une nouvelle affectation"}),e.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Slectionner les tudiants *"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Seuls les tudiants non encore affects  une classe sont affichs"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Rechercher un tudiant...",value:A,onChange:Y=>$(Y.target.value),className:"w-full pl-10 pr-4 py-2 text-black border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]})}),e.jsxs("div",{className:"h-64 overflow-y-auto border border-gray-200 rounded-lg p-2 space-y-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[_.map(Y=>e.jsx("div",{onClick:()=>ee(Y.id),className:`p-3 rounded-lg cursor-pointer transition-colors ${P.includes(Y.id)?"bg-blue-500 border-2 border-blue-200":"bg-gray-50 border-2 border-transparent hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${P.includes(Y.id)?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:P.includes(Y.id)&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(bt,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[Y.user?.firstName||"Prnom"," ",Y.user?.lastName||"Nom"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Matricule: ",Y.matricule||"N/A"]})]})]})},Y.id)),_.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:A?"Aucun tudiant non affect trouv pour cette recherche":"Tous les tudiants sont dj affects  une classe"})]}),P.length>0&&e.jsxs("div",{className:"mt-3 text-sm text-blue-600",children:[P.length," tudiant(s) slectionn(s)"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Slectionner la classe *"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(_s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Rechercher une classe...",value:B,onChange:Y=>H(Y.target.value),className:"w-full pl-10 text-black pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]})}),e.jsxs("div",{className:"h-48 overflow-y-auto border border-gray-200 rounded-lg p-2 space-y-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[Q.map(Y=>e.jsx("div",{onClick:()=>be(Y.id),className:`p-3 rounded-lg cursor-pointer transition-colors ${g===Y.id?"bg-green-300 border-2 border-green-200":"bg-gray-200 text-white border-2 border-gray-700 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${g===Y.id?"bg-green-500 border-green-500":"border-gray-300"}`}),e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(Je,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:Y.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Niveau: ",Y.level,"  Code:"," ",Y.code||"N/A"]})]})]})},Y.id)),Q.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune classe trouve"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de dbut *"}),e.jsx(ke,{type:"date",value:y,onChange:me,max:new Date().toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin (optionnel)"}),e.jsx(ke,{type:"date",value:T,onChange:Z,className:k?"border-red-500 focus:border-red-500":""}),k&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),k]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ce,{type:"submit",disabled:N||P.length===0||!g||!!k,className:`flex-1 ${k?"opacity-50 cursor-not-allowed":""}`,children:N?"Cration...":k?"Corriger les dates":`Crer ${P.length} affectation(s)`}),e.jsx(ce,{type:"button",onClick:xe,variant:"outline",disabled:P.length===0&&!g,children:"Effacer"})]})]})]}),ie==="list"&&e.jsx("div",{children:x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune affectation"}),e.jsx("p",{className:"text-gray-500",children:"Commencez par crer votre premire affectation"})]}):e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:x.map(Y=>{const U=!Y.endDate||new Date(Y.endDate)>new Date,ue=new Date(Y.startDate),I=Y.endDate?new Date(Y.endDate):null;return e.jsx("div",{className:"group relative bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200 p-5 hover:shadow-md transition-all duration-200 hover:border-gray-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 text-lg",children:[Y.student?.user?.firstName||"Prnom inconnu"," ",Y.student?.user?.lastName||"Nom inconnu"]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${U?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-1.5 ${U?"bg-green-400":"bg-gray-400"}`}),U?"Actif":"Termin"]}),Y.student?.matricule&&e.jsx("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-1 rounded",children:Y.student.matricule})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg p-3 mb-3 border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:Y.class?.name||"Classe inconnue"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Niveau: ",Y.class?.level||"N/A"," "," Code: ",Y.class?.code||"N/A"]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"font-medium",children:"Dbut:"}),e.jsx("span",{children:ue.toLocaleDateString("fr-FR")})]}),I&&e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"font-medium",children:"Fin:"}),e.jsx("span",{children:I.toLocaleDateString("fr-FR")})]}),!I&&e.jsxs("div",{className:"flex items-center gap-1.5 text-green-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-medium",children:"Permanent"})]})]})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsxs(ce,{onClick:()=>X(Y.id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200 hover:border-red-300 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Supprimer"]})})]})},Y.id)})})})]})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})})},MC=()=>{const a=ut(),[n,l]=b.useState(),[o,c]=b.useState([]),[u,m]=b.useState([]),[x,f]=b.useState([]),[g,p]=b.useState(""),[y,j]=b.useState(""),[T,L]=b.useState("1"),[w,z]=b.useState(""),[N,E]=b.useState(!1),[S,O]=b.useState(!0),[A,$]=b.useState(!1),[B,H]=b.useState(null),[P,D]=b.useState({show:!1,assignmentId:null,assignmentInfo:""}),[k,K]=b.useState({isOpen:!1,message:""}),[ie,se]=b.useState("create"),[pe,X]=b.useState(""),[ee,be]=b.useState("");b.useEffect(()=>{const Q=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(Q)try{l(JSON.parse(Q))}catch(Y){console.error("Erreur parsing user data:",Y),a("/login")}else a("/login")},[a]),b.useEffect(()=>{if(!n)return;(async()=>{O(!0);try{const[Y,U,ue]=await Promise.all([ve.getAllSubjects(),ve.getAllClasses(),ve.getAllClassSubjects()]);Y.success?(console.log(" Sujets chargs:",Y.data),console.log(" Nombre de sujets:",Y.data?.length),c(Y.data||[])):console.error(" Erreur chargement sujets:",Y.error),U.success?(console.log(" Classes charges:",U.data),console.log(" Nombre de classes:",U.data?.length),m(U.data||[])):console.error(" Erreur chargement classes:",U.error),ue.success?(console.log(" Affectations charges:",ue.data),f(ue.data||[])):console.error(" Erreur chargement affectations:",ue.error)}catch(Y){console.error("Erreur chargement:",Y)}finally{O(!1)}})()},[n]);const xe=async Q=>{if(Q.preventDefault(),!g||!y||!T){H({type:"error",title:"Erreur",message:"Veuillez remplir tous les champs obligatoires",isVisible:!0});return}$(!0);try{const Y=await ve.createClassSubject({classId:y,subjectId:g,coefficient:parseInt(T),weeklyHours:w?parseInt(w):0,isOptional:N});if(Y.success){const U=await ve.getAllClassSubjects();U.success&&f(U.data||[]),H({type:"success",title:"Succs",message:"Affectation cre avec succs",isVisible:!0}),p(""),j(""),L("1"),z(""),E(!1)}else Y.statusCode===409?K({isOpen:!0,message:Y.error||"Conflit dtect lors de la cration",details:Y.error,statusCode:409}):K({isOpen:!0,message:Y.error||"Erreur lors de la cration",details:Y.error,statusCode:Y.statusCode})}catch(Y){console.error("Erreur lors de la cration:",Y),K({isOpen:!0,message:Y instanceof Error?Y.message:"Erreur lors de la cration",details:Y instanceof Error?Y.stack:void 0,statusCode:void 0})}finally{$(!1)}},R=(Q,Y)=>{const U=Y.subject?.name||"Matire inconnue",ue=Y.class?.name||"Classe inconnue",I=`${U}  ${ue}`;D({show:!0,assignmentId:Q,assignmentInfo:I})},Z=async()=>{if(P.assignmentId)try{const Q=await ve.deleteClassSubject(P.assignmentId);if(Q.success){D({show:!1,assignmentId:null,assignmentInfo:""});const Y=await ve.getAllClassSubjects();Y.success&&f(Y.data||[]),H({type:"success",title:"Succs",message:"Affectation supprime avec succs",isVisible:!0})}else Q.statusCode===409?K({isOpen:!0,message:Q.error||"Conflit dtect lors de la suppression",details:Q.error,statusCode:409}):K({isOpen:!0,message:Q.error||"Erreur lors de la suppression",details:Q.error,statusCode:Q.statusCode})}catch(Q){console.error("Erreur lors de la suppression:",Q),K({isOpen:!0,message:Q instanceof Error?Q.message:"Erreur lors de la suppression",details:Q instanceof Error?Q.stack:void 0,statusCode:void 0})}finally{D({show:!1,assignmentId:null,assignmentInfo:""})}};if(!n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})});const me=o.filter(Q=>Q.name.toLowerCase().includes(pe.toLowerCase())),_=u.filter(Q=>Q.name.toLowerCase().includes(ee.toLowerCase()));return S?e.jsx(it,{user:n,children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}):e.jsxs(it,{user:n,children:[e.jsx("style",{children:`
        .scrollbar-thin::-webkit-scrollbar {
          width: 6px;
        }
        .scrollbar-thin::-webkit-scrollbar-track {
          background: #f1f5f9;
          border-radius: 3px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 3px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(ce,{onClick:()=>a("/settings"),variant:"outline",size:"sm",children:" Retour"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Affectation Matires-Classes"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Grer l'affectation des matires aux classes"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Matires"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Classes"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Affectations"})]})]})]}),B&&e.jsx(Ss,{type:B.type,title:B.title,message:B.message,isVisible:B.isVisible,onClose:()=>H(null)}),(o.length===0||u.length===0)&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-white text-sm font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-yellow-900 mb-1",children:"Donnes manquantes"}),e.jsx("p",{className:"text-yellow-800 text-sm",children:o.length===0&&u.length===0?"Aucune matire et aucune classe disponibles. Veuillez d'abord crer des matires et des classes.":o.length===0?"Aucune matire disponible. Veuillez d'abord crer des matires.":"Aucune classe disponible. Veuillez d'abord crer des classes."}),e.jsxs("div",{className:"flex gap-2 mt-3",children:[o.length===0&&e.jsx(ce,{onClick:()=>a("/classes-subjects"),variant:"outline",size:"sm",children:"Crer des matires"}),u.length===0&&e.jsx(ce,{onClick:()=>a("/classes-subjects"),variant:"outline",size:"sm",children:"Crer des classes"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-500",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>se("create"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${ie==="create"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Nouvelle affectation"]})}),e.jsx("button",{onClick:()=>se("list"),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${ie==="list"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Affectations existantes",e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs font-medium",children:x.length})]})})]})}),e.jsxs("div",{className:"p-6",children:[ie==="create"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Crer une nouvelle affectation matire-classe"}),e.jsxs("form",{onSubmit:xe,className:"space-y-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Slectionner la matire *"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Rechercher une matire...",value:pe,onChange:Q=>X(Q.target.value),className:"w-full pl-10 pr-4 py-2 text-black border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]})}),e.jsxs("div",{className:"h-48 overflow-y-auto border border-gray-500 rounded-lg p-2 space-y-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[me.map(Q=>e.jsx("div",{onClick:()=>p(Q.id),className:`p-3 rounded-lg cursor-pointer transition-colors ${g===Q.id?"bg-purple-300 border-2 border-purple-200":"bg-gray-200 border-2 border-transparent hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${g===Q.id?"bg-purple-500 border-purple-500":"border-gray-300"}`,children:g===Q.id&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:Q.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Code: ",Q.code||"N/A"]})]})]})},Q.id)),me.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune matire trouve"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Slectionner la classe *"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Rechercher une classe...",value:ee,onChange:Q=>be(Q.target.value),className:"w-full pl-10 pr-4 py-2 text-black border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]})}),e.jsxs("div",{className:"h-48 overflow-y-auto border border-gray-500 rounded-lg p-2 space-y-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[_.map(Q=>e.jsx("div",{onClick:()=>j(Q.id),className:`p-3 rounded-lg cursor-pointer transition-colors ${y===Q.id?"bg-green-300 border-2 border-green-200":"bg-gray-200 border-2 border-gray-500 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${y===Q.id?"bg-green-500 border-green-500":"border-gray-300"}`,children:y===Q.id&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:Q.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Niveau: ",Q.level,"  Code:"," ",Q.code||"N/A"]})]})]})},Q.id)),_.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucune classe trouve"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Coefficient *"}),e.jsx(ke,{type:"number",min:"1",max:"10",value:T,onChange:Q=>L(Q.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heures hebdomadaires"}),e.jsx(ke,{type:"number",min:"1",max:"40",value:w,onChange:Q=>z(Q.target.value),placeholder:"Optionnel"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"isOptional",checked:N,onChange:Q=>E(Q.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"isOptional",className:"text-sm text-gray-700",children:"Matire optionnelle"})]}),e.jsx(ce,{type:"submit",disabled:A,children:A?"Cration...":"Crer l'affectation"})]})]}),ie==="list"&&e.jsx("div",{children:x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune affectation"}),e.jsx("p",{className:"text-gray-500",children:"Commencez par crer votre premire affectation matire-classe"})]}):e.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-500",children:x.map(Q=>e.jsx("div",{className:"group relative bg-gradient-to-r from-gray-50 to-gray-100 rounded-xl border border-gray-200 p-5 hover:shadow-md transition-all duration-200 hover:border-gray-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:Q.subject?.name||"Matire inconnue"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx("div",{className:"w-2 h-2 rounded-full mr-1.5 bg-blue-400"}),"Affecte"]}),Q.isOptional&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Optionnel"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg p-3 mb-3 border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:Q.class?.name||"Classe inconnue"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Niveau: ",Q.class?.level||"N/A"]})]})]})}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),e.jsx("span",{className:"font-medium",children:"Coefficient:"}),e.jsx("span",{children:Q.coefficient})]}),Q.weeklyHours&&e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-medium",children:"Heures:"}),e.jsxs("span",{children:[Q.weeklyHours,"h/semaine"]})]})]})]}),e.jsx("div",{className:"ml-4 flex-shrink-0",children:e.jsxs(ce,{onClick:()=>R(Q.id,Q),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200 hover:border-red-300 opacity-0 group-hover:opacity-100",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Supprimer"]})})]})},Q.id))})})]})]})]}),P.show&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("div",{className:"flex-shrink-0 w-10 h-10 mx-auto bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Confirmer la suppression"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"tes-vous sr de vouloir supprimer cette affectation ?"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:P.assignmentInfo})}),e.jsx("p",{className:"text-xs text-red-600 mb-6",children:"Cette action est irrversible."})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(ce,{onClick:()=>D({show:!1,assignmentId:null,assignmentInfo:""}),variant:"outline",size:"sm",children:"Annuler"}),e.jsx(ce,{onClick:Z,variant:"outline",size:"sm",className:"bg-red-600 text-white hover:bg-red-700 border-red-600",children:"Supprimer"})]})]})}),e.jsx(ah,{isOpen:k.isOpen,onClose:()=>K({isOpen:!1,message:""}),title:"Erreur",message:k.message,details:k.details,statusCode:k.statusCode})]})},RC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState([]),[u,m]=b.useState([]),[x,f]=b.useState([]),[g,p]=b.useState(0),[y,j]=b.useState(0),[T,L]=b.useState([]),[w,z]=b.useState(""),[N,E]=b.useState(""),[S,O]=b.useState("college"),[A,$]=b.useState(!1),[B,H]=b.useState(!0),[P,D]=b.useState(!1),[k,K]=b.useState({show:!1,assignmentId:null,assignmentInfo:""}),[ie,se]=b.useState({show:!1,teacherId:null,classSubjectIds:[],isPrincipal:!1}),[pe,X]=b.useState(new Set),[ee,be]=b.useState(null),[xe,R]=b.useState({isOpen:!1,message:""}),[Z,me]=b.useState("create"),[_,Q]=b.useState(""),[Y,U]=b.useState("");b.useEffect(()=>{const J=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(J)try{l(JSON.parse(J))}catch{a("/login")}else a("/login")},[a]),b.useEffect(()=>{if(!n)return;(async()=>{H(!0);try{const[Ne,F,M]=await Promise.all([ve.getAllTeachers(),ve.getAllClassSubjects(),ve.getAllTeachingAssignments()]);Ne.success&&c(Ne.data||[]),F.success&&m(F.data||[]),M.success&&f(M.data||[])}catch(Ne){console.error("Erreur chargement:",Ne)}finally{H(!1)}})()},[n]);const ue=async J=>{if(J.preventDefault(),!g||!y||!w){be({type:"error",title:"Erreur",message:"Veuillez remplir tous les champs obligatoires",isVisible:!0});return}if(x.find(F=>F.teacher_id===g&&F.class_subject_id===y)){be({type:"error",title:"Erreur",message:"Cet enseignant est dj affect  cette matire dans cette classe",isVisible:!0});return}D(!0);try{const F=await ve.createTeachingAssignment({teacherId:g.toString(),classSubjectId:y.toString(),startDate:w,endDate:N||void 0});if(F.success){const M=await ve.getAllTeachingAssignments();M.success&&f(M.data||[]),be({type:"success",title:"Succs",message:"Enseignant affect avec succs",isVisible:!0}),p(0),j(0),z(""),E("")}else F.statusCode===409?R({isOpen:!0,message:F.error||"Conflit dtect",details:F.error,statusCode:409}):R({isOpen:!0,message:F.error||"Erreur lors de l'affectation",details:F.error,statusCode:F.statusCode})}catch(F){console.error("Erreur lors de l'affectation:",F),R({isOpen:!0,message:F instanceof Error?F.message:"Erreur lors de l'affectation",details:F instanceof Error?F.stack:void 0,statusCode:void 0})}finally{D(!1)}},I=(J,Ne)=>{const F=`${Ne.teacher?.user?.firstName||"Prnom"} ${Ne.teacher?.user?.lastName||"Nom"}`,M=`${Ne.classSubject?.subject?.name||"Matire"} - ${Ne.classSubject?.class?.name||"Classe"}`,de=`${F}  ${M}`;K({show:!0,assignmentId:J,assignmentInfo:de})},Se=async()=>{if(k.assignmentId)try{const J=await ve.deleteTeachingAssignment(k.assignmentId);if(J.success){K({show:!1,assignmentId:null,assignmentInfo:""});const Ne=await ve.getAllTeachingAssignments();Ne.success&&f(Ne.data||[]),be({type:"success",title:"Succs",message:"Affectation supprime avec succs",isVisible:!0})}else J.statusCode===409?R({isOpen:!0,message:J.error||"Conflit dtect lors de la suppression",details:J.error,statusCode:409}):R({isOpen:!0,message:J.error||"Erreur lors de la suppression",details:J.error,statusCode:J.statusCode})}catch(J){console.error("Erreur lors de la suppression:",J),R({isOpen:!0,message:J instanceof Error?J.message:"Erreur lors de la suppression",details:J instanceof Error?J.stack:void 0,statusCode:void 0})}finally{K({show:!1,assignmentId:null,assignmentInfo:""})}},Le=()=>{K({show:!1,assignmentId:null,assignmentInfo:""})},Ce=J=>{L(Ne=>Ne.includes(J)?Ne.filter(F=>F!==J):[...Ne,J])},De=()=>{if(!g||T.length===0){be({type:"error",title:"Erreur",message:"Veuillez slectionner un enseignant et au moins une matire-classe",isVisible:!0});return}se({show:!0,teacherId:g,classSubjectIds:T,isPrincipal:A})},V=async()=>{if(!(!ie.teacherId||ie.classSubjectIds.length===0)){D(!0);try{const J=ie.classSubjectIds.map(de=>{const we={teacherId:ie.teacherId.toString(),classSubjectId:de.toString(),startDate:w,endDate:N||void 0};return ve.createTeachingAssignment(we)}),Ne=await Promise.all(J),F=Ne.filter(de=>de.success).length,M=Ne.filter(de=>!de.success&&de.statusCode===409);if(M.length>0){const de=M[0];R({isOpen:!0,message:de.error||"Conflit dtect lors de la cration",details:de.error,statusCode:409})}else if(F===ie.classSubjectIds.length){be({type:"success",title:"Succs",message:`${F} affectation(s) cre(s) avec succs (${ie.classSubjectIds.length} requte(s) envoye(s))`,isVisible:!0}),p(0),L([]),z(""),E(""),$(!1);const de=await ve.getAllTeachingAssignments();de.success&&f(de.data||[])}else{const de=Ne.filter(Te=>!Te.success),we=de.map(Te=>Te.error).filter(Te=>Te).join("; ");R({isOpen:!0,message:we||`${F}/${ie.classSubjectIds.length} affectation(s) cre(s)`,details:we,statusCode:de[0]?.statusCode})}}catch(J){console.error("Erreur lors de la cration en lot:",J),R({isOpen:!0,message:J instanceof Error?J.message:"Erreur lors de la cration des affectations",details:J instanceof Error?J.stack:void 0,statusCode:void 0})}finally{D(!1),se({show:!1,teacherId:null,classSubjectIds:[],isPrincipal:!1})}}},oe=()=>{se({show:!1,teacherId:null,classSubjectIds:[],isPrincipal:!1})},Ae=J=>{X(Ne=>{const F=new Set(Ne);return F.has(J)?F.delete(J):F.add(J),F})};if(!n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})});const Oe=o.filter(J=>`${J.user?.firstName||""} ${J.user?.lastName||""}`.toLowerCase().includes(_.toLowerCase())),te=u.filter(J=>`${J.subject?.name||""} - ${J.class?.name||""}`.toLowerCase().includes(Y.toLowerCase()));return B?e.jsx(it,{user:n,children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}):e.jsxs(it,{user:n,children:[e.jsx("style",{children:`
        .scrollbar-thin::-webkit-scrollbar {
          width: 6px;
        }
        .scrollbar-thin::-webkit-scrollbar-track {
          background: #f1f5f9;
          border-radius: 3px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 3px;
        }
        .scrollbar-thin::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(ce,{onClick:()=>a("/settings"),variant:"outline",size:"sm",children:" Retour"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Affectation Enseignants"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Affecter un enseignant  une matire dj prsente dans une classe"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-white text-sm font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Comment a marche ?"}),e.jsx("p",{className:"text-blue-800 text-sm",children:`D'abord, assurez-vous qu'une matire est affecte  une classe via la page "Affectation Matires-Classes". Ensuite, utilisez cette page pour affecter un enseignant  cette matire-classe.`}),e.jsx(ce,{onClick:()=>a("/settings/subject-class-assignment"),variant:"outline",size:"sm",className:"mt-3",children:"Grer les matires-classes"})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Enseignants"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Matires en classe"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-500 p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Affectations"})]})]})]}),ee&&e.jsx(Ss,{type:ee.type,title:ee.title,message:ee.message,isVisible:ee.isVisible,onClose:()=>be(null)}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>me("create"),className:`py-4 px-1 border-b-2 font-medium text-sm ${Z==="create"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Nouvelle affectation"]})}),e.jsx("button",{onClick:()=>me("list"),className:`py-4 px-1 border-b-2 font-medium text-sm ${Z==="list"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Affectations existantes",e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs font-medium",children:x.length})]})})]})}),e.jsxs("div",{className:"p-6",children:[Z==="create"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Crer une nouvelle affectation enseignant-matire-classe"}),e.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Slectionner l'enseignant *"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Rechercher un enseignant...",value:_,onChange:J=>Q(J.target.value),className:"w-full pl-10 pr-4 py-2 text-black border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]})}),e.jsxs("div",{className:"h-48 overflow-y-auto border border-gray-200 rounded-lg p-2 space-y-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[Oe.map(J=>e.jsx("div",{onClick:()=>p(J.id),className:`p-3 rounded-lg cursor-pointer ${g===J.id?"bg-blue-300 border-2 border-blue-200":"bg-gray-200 border-2 border-gray-500 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${g===J.id?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:g===J.id&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:[J.user?.firstName||"Prnom"," ",J.user?.lastName||"Nom"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Spcialit: ",J.speciality||"N/A"]})]})]})},J.id)),Oe.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Aucun enseignant trouv"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Catgorie d'enseignement *"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{onClick:()=>O("college"),className:`p-4 rounded-lg cursor-pointer border-2 ${S==="college"?"bg-blue-50 border-blue-500":"bg-gray-50 border-gray-300 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${S==="college"?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:S==="college"&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Collge (6me)"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Professeur principal possible"})]})]})}),e.jsx("div",{onClick:()=>O("lycee"),className:`p-4 rounded-lg cursor-pointer border-2 ${S==="lycee"?"bg-blue-50 border-blue-500":"bg-gray-50 border-gray-300 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${S==="lycee"?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:S==="lycee"&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Lyce/Fac (7me+)"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Assignation multiple possible"})]})]})})]})]}),S==="college"&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"isPrincipal",checked:A,onChange:J=>$(J.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"isPrincipal",className:"text-sm font-medium text-gray-700",children:"Dfinir comme professeur principal de la classe"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Le professeur principal gre la classe et peut enseigner plusieurs matires"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:S==="college"&&A||S==="lycee"?"Slectionner les matires-classes (multiple) *":"Slectionner la matire-classe *"}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Rechercher une matire-classe...",value:Y,onChange:J=>U(J.target.value),className:"w-full pl-10 pr-4 py-2 text-black border border-gray-300 rounded focus:outline-none focus:border-blue-500"})]})}),e.jsxs("div",{className:"h-48 overflow-y-auto border border-gray-200 rounded-lg p-2 space-y-2 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[te.map(J=>{const Ne=S==="college"&&A||S==="lycee",F=Ne?T.includes(J.id):y===J.id;return e.jsx("div",{onClick:()=>{Ne?Ce(J.id):j(J.id)},className:`p-3 rounded-lg cursor-pointer ${F?"bg-green-300 border-2 border-green-200":"bg-gray-200 border-2 border-gray-500 hover:bg-gray-100"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${F?"bg-green-500 border-green-500":"border-gray-300"}`,children:F&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:J.subject?.name||"Matire"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Classe: ",J.class?.name||"Classe"," ","(",J.class?.level||"Niveau",")"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Coef: ",J.coefficient," "," ",J.weeklyHours||0,"h/semaine"]})]})]})},J.id)}),(S==="college"&&A||S==="lycee")&&T.length>0&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[T.length," matire(s) slectionne(s)"]})]})}),te.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:u.length===0?e.jsxs("div",{children:[e.jsx("p",{children:"Aucune matire-classe disponible"}),e.jsx(ce,{onClick:()=>a("/settings/subject-class-assignment"),variant:"outline",size:"sm",className:"mt-2",children:"Crer des affectations"})]}):"Aucune matire-classe trouve"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de dbut *"}),e.jsx(ke,{type:"date",value:w,onChange:J=>z(J.target.value),max:new Date().toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date de fin (optionnel)"}),e.jsx(ke,{type:"date",value:N,onChange:J=>E(J.target.value)})]})]}),e.jsxs("div",{className:"flex gap-3",children:[!(S==="college"&&A||S==="lycee")&&e.jsx(ce,{type:"submit",disabled:P||u.length===0||!y,className:"flex-1",children:P?"Affectation...":"Affecter l'enseignant"}),(S==="college"&&A||S==="lycee")&&e.jsx(ce,{type:"button",onClick:De,disabled:P||T.length===0,className:"flex-1 bg-green-600 hover:bg-green-700",children:P?"Affectation...":`Affecter ${T.length} matire(s)`})]})]})]}),Z==="list"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Affectations par enseignant"}),e.jsx("div",{className:"space-y-6 max-h-96 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:(()=>{const J=x.reduce((F,M)=>{const de=M.teacher?.id;return de&&(F[de]||(F[de]={teacher:M.teacher,assignments:[]}),F[de].assignments.push(M)),F},{}),Ne=Object.values(J);return Ne.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune affectation"}),e.jsx("p",{className:"text-gray-500",children:"Commencez par crer des affectations d'enseignants"})]}):Ne.map(F=>{const M=F.teacher.id.toString(),de=pe.has(M);return e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200 cursor-pointer hover:from-blue-100 hover:to-indigo-100",onClick:()=>Ae(M),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[F.teacher.user?.firstName||"Prnom inconnu"," ",F.teacher.user?.lastName||"Nom inconnu"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[F.assignments.length," matire",F.assignments.length>1?"s":""," ","assigne",F.assignments.length>1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"text-sm font-medium text-blue-600",children:[F.assignments.length," affectation",F.assignments.length>1?"s":""]})}),e.jsx("div",{className:"w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-sm",children:e.jsx("svg",{className:`w-5 h-5 text-gray-600 ${de?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})}),e.jsx("div",{className:`p-6 border-t border-gray-100 ${de?"":"hidden"}`,children:e.jsx("div",{className:"space-y-3",children:F.assignments.map(we=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-100 hover:bg-gray-100",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:we.classSubject?.subject?.name||"Matire inconnue"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Classe:"," ",we.classSubject?.class?.name||"Classe inconnue","(",we.classSubject?.class?.level||"Niveau",")"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Du"," ",new Date(we.startDate).toLocaleDateString("fr-FR"),we.endDate&&` au ${new Date(we.endDate).toLocaleDateString("fr-FR")}`]})]})]})}),e.jsxs(ce,{onClick:()=>I(we.id,we),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Supprimer"]})]},`assignment-${we.id}`))})})]},F.teacher.id)})})()})]})]})]})]}),k.show&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("div",{className:"flex items-center mb-4",children:e.jsx("div",{className:"flex-shrink-0 w-10 h-10 mx-auto bg-red-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Confirmer la suppression"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"tes-vous sr de vouloir supprimer cette affectation ?"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:e.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.assignmentInfo})}),e.jsx("p",{className:"text-xs text-red-600 mb-6",children:"Cette action est irrversible."})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(ce,{onClick:Le,variant:"outline",size:"sm",children:"Annuler"}),e.jsx(ce,{onClick:Se,variant:"outline",size:"sm",className:"bg-red-600 text-white hover:bg-red-700 border-red-600",children:"Supprimer"})]})]})}),ie.show&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Confirmer l'affectation multiple"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:ie.isPrincipal?"Affecter l'enseignant aux matires slectionnes (marqu comme professeur principal) ?":"Affecter l'enseignant aux matires slectionnes ?"}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 mb-4",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Enseignant:"," ",o.find(J=>J.id===ie.teacherId)?.user?.firstName," ",o.find(J=>J.id===ie.teacherId)?.user?.lastName]}),ie.isPrincipal&&e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:" Professeur principal (affichage frontend uniquement)"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900 mb-2",children:["Matires slectionnes (",ie.classSubjectIds.length,"):"]}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:ie.classSubjectIds.map(J=>{const Ne=u.find(F=>F.id===J);return e.jsxs("p",{className:"text-xs text-gray-600",children:[" ",Ne?.subject?.name," -"," ",Ne?.class?.name]},J)})})]}),e.jsxs("p",{className:"text-xs text-orange-600 mb-6",children:[ie.classSubjectIds.length," affectation(s) seront cre(s)."]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(ce,{onClick:oe,variant:"outline",size:"sm",children:"Annuler"}),e.jsx(ce,{onClick:V,variant:"outline",size:"sm",className:"bg-green-600 text-white hover:bg-green-700 border-green-600",disabled:P,children:P?"Cration...":"Confirmer"})]})]})})}),e.jsx(ah,{isOpen:xe.isOpen,onClose:()=>R({isOpen:!1,message:""}),title:"Erreur",message:xe.message,details:xe.details,statusCode:xe.statusCode})]})},LC=()=>{const a=ut(),[n,l]=b.useState(null),[o,c]=b.useState([]),[u,m]=b.useState(!0),[x,f]=b.useState(null);return b.useEffect(()=>{const g=localStorage.getItem("itak_user")||sessionStorage.getItem("itak_user");if(g)try{l(JSON.parse(g))}catch{a("/login")}else a("/login")},[a]),b.useEffect(()=>{if(!n)return;(async()=>{m(!0);try{const p=await ve.getAllTeachingAssignments();p.success&&c(p.data||[])}catch(p){console.error("Erreur chargement:",p)}finally{m(!1)}})()},[n]),n?u?e.jsx(it,{user:n,children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}):e.jsx(it,{user:n,children:e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(ce,{onClick:()=>a("/settings"),variant:"outline",size:"sm",children:" Retour"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Vue Enseignants-Classes"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Consulter les affectations des enseignants aux classes"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-white text-sm font-bold",children:""})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Page de consultation uniquement"}),e.jsx("p",{className:"text-blue-800 text-sm",children:'Cette page affiche les enseignants affects aux classes via leurs matires. Pour crer de nouvelles affectations, utilisez la page "Affectation Enseignants-Matires".'}),e.jsx(ce,{onClick:()=>a("/settings/teacher-subject-assignment"),className:"mt-3",children:"Aller  la page d'affectation"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Affectations totales"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Set(o.map(g=>g.teacher?.id)).size}),e.jsx("div",{className:"text-sm text-gray-600",children:"Enseignants affects"})]})]})]}),x&&e.jsx(Ss,{type:x.type,title:x.title,message:x.message,isVisible:x.isVisible,onClose:()=>f(null)}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:["Affectations existantes (",o.length,")"]}),e.jsxs("div",{className:"space-y-4",children:[o.map(g=>e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:g.teacher?.user?.first_name?.[0]||"E"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[g.teacher?.user?.first_name||"Prnom inconnu"," ",g.teacher?.user?.last_name||"Nom inconnu"]}),e.jsx("p",{className:"text-sm text-gray-600",children:g.teacher?.speciality||"Spcialit non dfinie"})]})]}),e.jsxs("div",{className:"ml-13",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Matire :"})," ",g.class_subject?.subject?.name||"Matire inconnue"]}),e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("span",{className:"font-medium",children:"Classe :"})," ",g.class_subject?.class?.name||"Classe inconnue"," ","(",g.class_subject?.class?.level||"Niveau",")"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Du"," ",new Date(g.start_date).toLocaleDateString(),g.end_date&&` au ${new Date(g.end_date).toLocaleDateString()}`]})]})]})})},g.id)),o.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-gray-400 text-2xl",children:""})}),e.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Aucune affectation trouve"}),e.jsx("p",{className:"text-gray-600",children:"Les enseignants n'ont pas encore t affects aux matires dans les classes."}),e.jsx(ce,{onClick:()=>a("/settings/teacher-subject-assignment"),className:"mt-4",children:"Crer la premire affectation"})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Chargement..."})]})})};function zC(){return e.jsx(XN,{children:e.jsxs(AN,{children:[e.jsx(rt,{path:"/",element:e.jsx(p3,{})}),e.jsx(rt,{path:"/login",element:e.jsx(v3,{})}),e.jsx(rt,{path:"/register",element:e.jsx(j3,{})}),e.jsx(rt,{path:"/dashboard",element:e.jsx(S3,{})}),e.jsx(rt,{path:"/users",element:e.jsx(hC,{})}),e.jsx(rt,{path:"/classes-subjects",element:e.jsx(xC,{})}),e.jsx(rt,{path:"/finances",element:e.jsx(gC,{})}),e.jsx(rt,{path:"/finances/overview",element:e.jsx(pC,{})}),e.jsx(rt,{path:"/finances/fee-types",element:e.jsx(bC,{})}),e.jsx(rt,{path:"/finances/student-fees",element:e.jsx(yC,{})}),e.jsx(rt,{path:"/finances/student-fee-assignment",element:e.jsx(vC,{})}),e.jsx(rt,{path:"/finances/payments",element:e.jsx(NC,{})}),e.jsx(rt,{path:"/finances/payments/assign",element:e.jsx(wC,{})}),e.jsx(rt,{path:"/finances/invoices",element:e.jsx(SC,{})}),e.jsx(rt,{path:"/calendar",element:e.jsx(CC,{})}),e.jsx(rt,{path:"/calendar/timetables",element:e.jsx(AC,{})}),e.jsx(rt,{path:"/calendar/events",element:e.jsx(TC,{})}),e.jsx(rt,{path:"/school-years",element:e.jsx(EC,{})}),e.jsx(rt,{path:"/settings",element:e.jsx(kC,{})}),e.jsx(rt,{path:"/settings/student-class-assignment",element:e.jsx(DC,{})}),e.jsx(rt,{path:"/settings/subject-class-assignment",element:e.jsx(MC,{})}),e.jsx(rt,{path:"/settings/teacher-subject-assignment",element:e.jsx(RC,{})}),e.jsx(rt,{path:"/settings/teacher-class-assignment",element:e.jsx(LC,{})})]})})}_1.createRoot(document.getElementById("root")).render(e.jsx(b.StrictMode,{children:e.jsx(zC,{})}));
